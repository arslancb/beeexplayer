/*! beeexplayer - v2.3.3 - 2022-01-12
* https://beeex.ee
* Copyright (c) 2022 Arslan Hassan;
*/
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.vplayer=a()}}(function(){var a;return function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(a,b,c){function d(a){return h?f(a,"",-1):g.remove(a)}function e(){if(typeof h!==g.undef)return h;try{f(g.undef,"1"),h=-1!==document.cookie.indexOf(g.undef),d(g.undef)}catch(a){h=!1}return h}function f(a,b,c,d,e,f){if(typeof window!==g.undef){var i=arguments.length>1;return h||(i?g.set(a,b):g.get(a)),i?document.cookie=a+"="+encodeURIComponent(b)+(c?"; expires="+new Date(+new Date+1e3*c).toUTCString()+(d?"; path="+d:"")+(e?"; domain="+e:"")+(f?"; secure":""):""):decodeURIComponent((("; "+document.cookie).split("; "+a+"=")[1]||"").split(";")[0])}}var g=a("@analytics/global-storage-utils"),h=e(),i=f;c.getCookie=f,c.hasCookies=e,c.removeCookie=d,c.setCookie=i},{"@analytics/global-storage-utils":3}],2:[function(a,b,c){"use strict";function d(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function e(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function g(a){return Ka(a)||La(a)||Ma()}function h(a,b){return b={exports:{}},a(b,b.exports),b.exports}function i(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){return void c(a)}h.done?b(i):Promise.resolve(i).then(d,e)}function j(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function f(a){i(h,d,e,f,g,"next",a)}function g(a){i(h,d,e,f,g,"throw",a)}var h=a.apply(b,c);f(void 0)})}}function k(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function l(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?l(c,!0).forEach(function(b){Sa(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):l(c).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function n(a,b,c){function d(){m===l&&(m=l.slice())}function e(){return k}function f(a){if(Oa(a)!==Ua)throw new Error("Listener"+_a);var b=!0;return d(),m.push(a),function(){if(b){b=!1,d();var c=m.indexOf(a);m.splice(c,1)}}}function g(a){if(!Ja.isObject(a))throw new Error("Act != obj");if(Oa(a.type)===Va)throw new Error("ActType "+Va);if(o)throw new Error("Dispatch in "+Wa);try{o=!0,k=j(k,a)}finally{o=!1}for(var b=l=m,c=0;c<b.length;c++){(0,b[c])()}return a}function h(a){if(Oa(a)!==Ua)throw new Error("next "+Wa+_a);j=a,g({type:Ya})}function i(){var a=f;return Sa({subscribe:function(b){function c(){b.next&&b.next(e())}if("object"!==Oa(b))throw new TypeError("Observer != obj");return c(),{unsubscribe:a(c)}}},$a,function(){return this})}if(Oa(b)===Ua&&Oa(c)===Va&&(c=b,b=void 0),Oa(c)!==Va){if(Oa(c)!==Ua)throw new Error("enhancer"+_a);return c(n)(a,b)}if(Oa(a)!==Ua)throw new Error(Wa+_a);var j=a,k=b,l=[],m=l,o=!1;return g({type:Ya}),Sa({dispatch:g,subscribe:f,getState:e,replaceReducer:h},$a,i)}function o(a,b){var c=b&&b.type;return"action "+(c&&c.toString()||"?")+Wa+" "+a+" returns "+Va}function p(a){Object.keys(a).forEach(function(b){var c=a[b],d=c(void 0,{type:Ya});if(Oa(d)===Va||Oa(c(void 0,{type:Za}))===Va)throw new Error(Wa+" "+b+" "+Va)})}function q(a){for(var b=Object.keys(a),c={},d=0;d<b.length;d++){var e=b[d];Oa(a[e])===Ua&&(c[e]=a[e])}var f,g=Object.keys(c);try{p(c)}catch(a){f=a}return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=arguments.length>1?arguments[1]:void 0;if(f)throw f;for(var d=!1,e={},h=0;h<g.length;h++){var i=g[h],j=c[i],k=a[i],l=j(k,b);if(Oa(l)===Va){var m=o(i,b);throw new Error(m)}e[i]=l,d=d||l!==k}return d?e:a}}function r(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return 0===b.length?function(a){return a}:1===b.length?b[0]:b.reduce(function(a,b){return function(){return a(b.apply(void 0,arguments))}})}function s(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(a){return function(c,d,e){var f=a(c,d,e),g=f.dispatch,h=[],i={getState:f.getState,dispatch:function(a){return g(a)}};return h=b.map(function(a){return a(i)}),g=r.apply(void 0,Na(h))(f.dispatch),Ta(Ta({},f),{},{dispatch:g})}}}function t(a){return jb.includes(a)}function u(a){var b=a.storage.setItem;return function(c){return function(d){return function(e){if(e.type===mb.bootstrap){var f=e.params,g=e.user,h=e.persistedUser,i=e.initialUser,j=h.userId===g.userId;h.anonymousId!==g.anonymousId&&b(fb,g.anonymousId),j||b(gb,g.userId),i.traits&&b(hb,Ta(Ta({},j&&h.traits?h.traits:{}),i.traits));var k=Object.keys(e.params);if(k.length){var l=f.an_uid,m=f.an_event,n=k.reduce(function(a,b){if(b.match(nb)||b.match(/^(d|g)clid/)){var c=b.replace(nb,""),d="campaign"===c?"name":c;a.campaign[d]=f[b]}return b.match(ob)&&(a.props[b.replace(ob,"")]=f[b]),b.match(pb)&&(a.traits[b.replace(pb,"")]=f[b]),a},{campaign:{},props:{},traits:{}});c.dispatch(Ta(Ta({type:mb.params,raw:f},n),l?{userId:l}:{})),l&&setTimeout(function(){return a.identify(l,n.traits)},0),m&&setTimeout(function(){return a.track(m,n.props)},0),Object.keys(n.campaign).length&&c.dispatch({type:mb.campaign,campaign:n.campaign})}}return d(e)}}}}function v(a){return function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(c.type===mb.setItemEnd){if(c.key===fb)return Ta(Ta({},b),{anonymousId:c.value});if(c.key===gb)return Ta(Ta({},b),{userId:c.value})}switch(c.type){case mb.identify:return Object.assign({},b,{userId:c.userId,traits:Ta(Ta({},b.traits),c.traits)});case mb.reset:return[gb,fb,hb].forEach(function(b){a.removeItem(b)}),Object.assign({},b,{userId:null,anonymousId:null,traits:{}});default:return b}}}function w(a){return{userId:a.getItem(gb),anonymousId:a.getItem(fb),traits:a.getItem(hb)}}function x(a){return function(b,c,d){var e=c.getState("user")[b];if(e)return e;if(d&&Ja.isObject(d)&&d[b])return d[b];var f=w(a)[b];return f||(Ia.get(qb(b))||null)}}function y(a){var b=a.storage,c=b.setItem,d=b.removeItem,e=b.getItem;return function(a){return function(b){return function(f){var g=f.userId,h=f.traits,i=f.options;if(f.type===mb.reset&&([gb,hb,fb].forEach(function(a){d(a)}),[bb,cb,"traits"].forEach(function(a){Ia.remove(qb(a))})),f.type===mb.identify){e(fb)||c(fb,Ha.uuid());var j=e(gb),k=e(hb)||{};j&&j!==g&&a.dispatch({type:mb.userIdChanged,old:{userId:j,traits:k},new:{userId:g,traits:h},options:i}),g&&c(gb,g),h&&c(hb,Ta(Ta({},k),h))}return b(f)}}}}function z(a,b){rb[a]&&Ja.isFunction(rb[a])&&(rb[a](b),delete rb[a])}function A(a,b,c){return new Promise(function(d,e){return b()?d(a):c<1?e(Ta(Ta({},a),{},{queue:!0})):B(10).then(function(f){return A(a,b,c-10).then(d,e)})})}function B(a){return new Promise(function(b){return setTimeout(b,a)})}function C(a,b,c){var d=b(),e=a.getState(),f=e.plugins,g=e.context,h=e.queue,i=e.user;if(!g.offline&&h&&h.actions&&h.actions.length){var j=h.actions.reduce(function(a,b,c){return f[b.plugin].loaded?(a.process.push(b),a.processIndex.push(c)):(a.requeue.push(b),a.requeueIndex.push(c)),a},{processIndex:[],process:[],requeue:[],requeueIndex:[]});if(j.processIndex&&j.processIndex.length){j.processIndex.forEach(function(b){var e=h.actions[b],g=e.plugin,j=e.payload.type,k=d[g][j];if(k&&Ja.isFunction(k)){var l=E(e.payload,i);k({payload:l,config:f[g].config,instance:c});var m="".concat(j,":").concat(g);a.dispatch(Ta(Ta({},l),{},{type:m,_:{called:m,from:"queueDrain"}}))}});var k=h.actions.filter(function(a,b){return!~j.processIndex.indexOf(b)});h.actions=k}}}function D(a,b,c){return setInterval(function(){return C(a,b,c)},3e3)}function E(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[bb,cb].reduce(function(c,d){return a.hasOwnProperty(d)&&b[d]&&b[d]!==a[d]&&(c[d]=b[d]),c},a)}function F(a){if(Array.isArray(a))return a}function G(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h.return||h.return()}finally{if(e)throw f}}return c}function H(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function I(a,b){return sb(a)||tb(a,b)||ub()}function J(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(a).filter(function(a){var d=c.plugins||{};return Ja.isBoolean(d[a])?d[a]:!1!==d.all&&(!b[a]||!1!==b[a].enabled)}).map(function(b){return a[b]})}function K(a,b,c,d,e){return L.apply(this,arguments)}function L(){return L=Ra(Qa.mark(function a(b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q;return Qa.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(g=Ja.isFunction(c)?c():c,h=b.type,i=h.replace(wb,""),!b._||!b._.called){a.next=5;break}return a.abrupt("return",b);case 5:return j=d.getState(),k=J(g,j.plugins,b.options),h===mb.initializeStart&&b.fromEnable&&(k=Object.keys(j.plugins).filter(function(a){var c=j.plugins[a];return b.plugins.includes(a)&&!c.initialized}).map(function(a){return g[a]})),l=k.map(function(a){return a.name}),m=T(h,k,g),a.next=12,M({action:b,data:{exact:m.before,namespaced:m.beforeNS},state:j,allPlugins:g,allMatches:m,instance:d,store:e,EVENTS:f});case 12:if(n=a.sent,!V(n,l.length)){a.next=15;break}return a.abrupt("return",n);case 15:if(h!==i){a.next=19;break}o=n,a.next=22;break;case 19:return a.next=21,M({action:Ta(Ta({},n),{},{type:i}),data:{exact:m.during,namespaced:m.duringNS},state:j,allPlugins:g,allMatches:m,instance:d,store:e,EVENTS:f});case 21:o=a.sent;case 22:if(!h.match(wb)){a.next=28;break}return p="".concat(i,"End"),a.next=26,M({action:Ta(Ta({},o),{},{type:p}),data:{exact:m.after,namespaced:m.afterNS},state:j,allPlugins:g,allMatches:m,instance:d,store:e,EVENTS:f});case 26:q=a.sent,q.meta&&q.meta.hasCallback&&z(q.meta.rid,{payload:q});case 28:return a.abrupt("return",n);case 29:case"end":return a.stop()}},a)})),L.apply(this,arguments)}function M(a){return N.apply(this,arguments)}function N(){return N=Ra(Qa.mark(function a(b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return Qa.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=b.data,d=b.action,e=b.instance,f=b.state,g=b.allPlugins,h=b.allMatches,i=b.store,j=b.EVENTS,k=f.plugins,l=f.context,m=d.type,n=m.match(wb),o=c.exact.map(function(a){return a.pluginName}),n&&(o=h.during.map(function(a){return a.pluginName})),p=Y(e,o),q=c.exact.reduce(function(a,b){var c=b.pluginName,d=b.methodName,e=!1;return d.match(/^initialize/)||d.match(/^reset/)||(e=!k[c].loaded),l.offline&&d.match(/^(page|track|identify)/)&&(e=!0),a["".concat(c)]=e,a},{}),a.next=10,c.exact.reduce(function(){var a=Ra(Qa.mark(function a(b,f,h){var i,j,l;return Qa.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=f.pluginName,a.next=3,b;case 3:if(j=a.sent,!c.namespaced||!c.namespaced[i]){a.next=11;break}return a.next=7,c.namespaced[i].reduce(function(){var a=Ra(Qa.mark(function a(b,c,d){var f,h,j,l;return Qa.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return h=function(a,b,c){return function(d,e){var f=c||b;return Ta(Ta({},a),{},{abort:{reason:d,plugins:e||[b],caller:m,from:f}})}},a.next=3,b;case 3:if(f=a.sent,c.method&&Ja.isFunction(c.method)){a.next=6;break}return a.abrupt("return",f);case 6:return _(c.methodName,c.pluginName),a.next=9,c.method({payload:f,instance:e,abort:h(f,i,c.pluginName),config:P(c.pluginName,k,g),plugins:k});case 9:return j=a.sent,l=Ja.isObject(j)?j:{},a.abrupt("return",Promise.resolve(Ta(Ta({},f),l)));case 12:case"end":return a.stop()}},a)}));return function(b,c,d){return a.apply(this,arguments)}}(),Promise.resolve(d));case 7:l=a.sent,j[i]=l,a.next=12;break;case 11:j[i]=d;case 12:return a.abrupt("return",Promise.resolve(j));case 13:case"end":return a.stop()}},a)}));return function(b,c,d){return a.apply(this,arguments)}}(),Promise.resolve({}));case 10:return r=a.sent,a.next=13,c.exact.reduce(function(){var a=Ra(Qa.mark(function a(b,d,f){var h,j,l,o,s,t,u,v,w,x,y,z,A;return Qa.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return h=c.exact.length===f+1,j=d.pluginName,l=g[j],a.next=5,b;case 5:if(o=a.sent,s=r[j]?r[j]:{},n&&(s=o),!U(s,j)){a.next=11;break}return O({data:s,method:m,instance:e,pluginName:j,store:i}),a.abrupt("return",Promise.resolve(o));case 11:if(!U(o,j)){a.next=14;break}return h&&O({data:o,method:m,instance:e,store:i}),a.abrupt("return",Promise.resolve(o));case 14:if(!q.hasOwnProperty(j)||!0!==q[j]){a.next=17;break}return i.dispatch({type:"queue",plugin:j,payload:s,_:{called:"queue",from:"queueMechanism"}}),a.abrupt("return",Promise.resolve(o));case 17:return t=p(r[j],g[j]),a.next=20,l[m]({abort:t.abort,payload:s,instance:e,config:P(j,k,g),plugins:k});case 20:return u=a.sent,v=Ja.isObject(u)?u:{},w=Ta(Ta({},o),v),x=r[j],U(x,j)?O({data:x,method:m,instance:e,pluginName:j,store:i}):(y="".concat(m,":").concat(j),(z=(y.match(/:/g)||[]).length)<2&&!m.match(xb)&&!m.match(yb)&&(A=n?w:s,e.dispatch(Ta(Ta({},A),{},{type:y,_:{called:y,from:"submethod"}})))),a.abrupt("return",Promise.resolve(w));case 26:case"end":return a.stop()}},a)}));return function(b,c,d){return a.apply(this,arguments)}}(),Promise.resolve(d));case 13:if(s=a.sent,m.match(wb)||m.match(/^registerPlugin/)||m.match(yb)||m.match(xb)||m.match(/^params/)||m.match(/^userIdChanged/)){a.next=21;break}if(j.plugins.includes(m),!s._||s._.originalAction!==m){a.next=18;break}return a.abrupt("return",s);case 18:t=Ta(Ta({},s),{_:{originalAction:s.type,called:s.type,from:"engineEnd"}}),V(s,c.exact.length)&&!m.match(/End$/)&&(t=Ta(Ta({},t),{type:s.type+"Aborted"})),i.dispatch(t);case 21:return a.abrupt("return",s);case 22:case"end":return a.stop()}},a)})),N.apply(this,arguments)}function O(a){var b=a.data,c=a.method,d=(a.instance,a.pluginName),e=a.store,f=d?":"+d:"",g=c+"Aborted"+f;e.dispatch(Ta(Ta({},b),{},{type:g,_:{called:g,from:"abort"}}))}function P(a,b,c){var d=b[a]||c[a];return d&&d.config?d.config:{}}function Q(a,b){return b.reduce(function(b,c){return c[a]?b.concat({methodName:a,pluginName:c.name,method:c[a]}):b},[])}function R(a){return a.replace(wb,"")}function S(a,b){var c=R(a),d=b?":".concat(b):"";return["".concat(a).concat(d),"".concat(c).concat(d),"".concat(c,"End").concat(d)]}function T(a,b,c){var d=S(a),e=d.map(function(a){return Q(a,b)});return b.reduce(function(c,d){var e=d.name,f=S(a,e),g=f.map(function(a){return Q(a,b)}),h=vb(g,3),i=h[0],j=h[1],k=h[2];return i.length&&(c.beforeNS[e]=i),j.length&&(c.duringNS[e]=j),k.length&&(c.afterNS[e]=k),c},{before:e[0],beforeNS:{},during:e[1],duringNS:{},after:e[2],afterNS:{}})}function U(a,b){var c=a.abort;return!!c&&(!0===c||(X(c,b)||c&&X(c.plugins,b)))}function V(a,b){var c=a.abort;if(!c)return!1;if(!0===c||Ja.isString(c))return!0;var d=c.plugins;return W(c)&&c.length===b||W(d)&&d.length===b}function W(a){return Array.isArray(a)}function X(a,b){return!(!a||!W(a))&&a.includes(b)}function Y(a,b){return function(c,d,e){var f=d.config,g=d.name,h="".concat(g,".").concat(c.type);e&&(h=e.event);var i=c.type.match(wb)?Z(g,h,b,e,c):$(c,h);return{payload:ba(c),instance:a,config:f||{},abort:i}}}function Z(a,b,c,d,e){return function(f,g){var h=d?d.name:a,i=g&&W(g)?g:c;if(d&&(i=g&&W(g)?g:[a],!i.includes(a)||1!==i.length))throw new Error("Method ".concat(b," can only abort ").concat(a," plugin. ").concat(JSON.stringify(i)," input valid"));return Ta(Ta({},e),{},{abort:{reason:f,plugins:i,caller:b,_:h}})}}function $(a,b){return function(){throw new Error(a.type+" action not cancellable. Remove abort in "+b)}}function _(a,b){var c=aa(a);if(c&&c.name===b){var d=aa(c.method),e=d?"or "+d.method:"";throw new Error([b+" plugin is calling method "+a,"Plugins cant call self","Use ".concat(c.method," ").concat(e," in ").concat(b," plugin insteadof ").concat(a)].join("\n"))}}function aa(a){var b=a.match(/(.*):(.*)/);return!!b&&{method:b[1],name:b[2]}}function ba(a){return Object.keys(a).reduce(function(b,c){return"type"===c?b:(Ja.isObject(a[c])?b[c]=Object.assign({},a[c]):b[c]=a[c],b)},{})}function ca(a,b,c){var d={};return function(e){return function(f){return function(){var g=Ra(Qa.mark(function g(h){var i,j,k,l,m,n,o,p,q,r,s,t;return Qa.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(i=h.type,j=h.abort,k=h.plugins,l=h,!j){g.next=4;break}return g.abrupt("return",f(h));case 4:if(i===mb.enablePlugin&&e.dispatch({type:mb.initializeStart,plugins:k,disabled:[],fromEnable:!0,meta:h.meta}),i===mb.disablePlugin&&setTimeout(function(){return z(h.meta.rid,{payload:h})},0),i===mb.initializeEnd&&(m=b(),n=Object.keys(m),o=n.filter(function(a){return k.includes(a)}).map(function(a){return m[a]}),p=[],q=[],r=h.disabled,s=o.map(function(a){var b=a.loaded,c=a.name;return A(a,b,1e4).then(function(b){return d[c]||(e.dispatch({type:mb.pluginReadyType(c),name:c,events:Object.keys(a).filter(function(a){return!kb.includes(a)})}),d[c]=!0),p=p.concat(c),a}).catch(function(a){if(a instanceof Error)throw new Error(a);return q=q.concat(a.name),a})}),Promise.all(s).then(function(a){var b={plugins:p,failed:q,disabled:r};setTimeout(function(){n.length===s.length+r.length&&e.dispatch(Ta(Ta({},{type:mb.ready}),b))},0)})),i===mb.bootstrap){g.next=13;break}return/^ready:([^:]*)$/.test(i)&&setTimeout(function(){return C(e,b,a)},0),g.next=11,K(h,b,a,e,c);case 11:return t=g.sent,g.abrupt("return",f(t));case 13:return g.abrupt("return",f(l));case 14:case"end":return g.stop()}},g)}));return function(a){return g.apply(this,arguments)}}()}}}function da(a){return function(b){return function(b){return function(c){var d=c.type,e=c.key,f=c.value,g=c.options;if(d===mb.setItem||d===mb.removeItem){if(c.abort)return b(c);d===mb.setItem?a.setItem(e,f,g):a.removeItem(e,g)}return b(c)}}}}function ea(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function fa(a){return function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0,d={};if("initialize:aborted"===c.type)return b;if(/^registerPlugin:([^:]*)$/.test(c.type)){var e=ga(c.type,"registerPlugin"),f=a()[e];if(!f||!e)return b;var g=c.enabled;return d[e]={enabled:g,initialized:!!g&&Boolean(!f.initialize),loaded:!!g&&Boolean(f.loaded()),config:f.config||{}},Ta(Ta({},b),d)}if(/^initialize:([^:]*)$/.test(c.type)){var h=ga(c.type,mb.initialize),i=a()[h];return i&&h?(d[h]=Ta(Ta({},b[h]),{initialized:!0,loaded:Boolean(i.loaded())}),Ta(Ta({},b),d)):b}if(/^ready:([^:]*)$/.test(c.type))return d[c.name]=Ta(Ta({},b[c.name]),{loaded:!0}),Ta(Ta({},b),d);switch(c.type){case mb.disablePlugin:return Ta(Ta({},b),ha(c.plugins,!1,b));case mb.enablePlugin:return Ta(Ta({},b),ha(c.plugins,!0,b));default:return b}}}function ga(a,b){return a.substring(b.length+1,a.length)}function ha(a,b,c){return a.reduce(function(a,d){return a[d]=Ta(Ta({},c[d]),{enabled:b}),a},c)}function ia(a){try{return JSON.parse(JSON.stringify(a))}catch(a){}return a}function ja(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bb,b=arguments.length>1?arguments[1]:void 0,c=b.type,d=b.event,e=b.properties,f=b.options,g=b.meta;switch(c){case mb.track:var h=ia(Ta(Ta({event:d,properties:e},Object.keys(f).length&&{options:f}),{},{meta:g}));return Ta(Ta({},a),{last:h,history:a.history.concat(h)});default:return a}}function ka(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cb,b=arguments.length>1?arguments[1]:void 0,c=b.type,d=b.payload;switch(c){case"queue":var e;return e=d&&d.type&&d.type===mb.identify?[b].concat(a.actions):a.actions.concat(b),Ta(Ta({},a),{},{actions:e});case"dequeue":return[];default:return a}}function la(){if(Ja.isBrowser)for(var a,b=document.getElementsByTagName("link"),c=0;a=b[c];c++)if("canonical"===a.getAttribute("rel"))return a.getAttribute("href")}function ma(a){var b=/(http[s]?:\/\/)?([^\/\s]+\/)(.*)/g,c=b.exec(a);return"/"+(c&&c[3]?c[3].split("?")[0].replace(Db,""):"")}function na(a){var b=la();return b?b.match(/\?/)?b:b+a:window.location.href.replace(Db,"")}function oa(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fb,b=arguments.length>1?arguments[1]:void 0,c=b.properties,d=b.options,e=b.meta;switch(b.type){case mb.page:var f=ia(Ta({properties:c,meta:e},Object.keys(d).length&&{options:d}));return Ta(Ta({},a),{last:f,history:a.history.concat(f)});default:return a}}function pa(){if(!Ja.isBrowser)return!1;var a=navigator.appVersion;return~a.indexOf("Win")?"Windows":~a.indexOf("Mac")?"MacOS":~a.indexOf("X11")?"UNIX":~a.indexOf("Linux")?"Linux":"Unknown OS"}function qa(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gb,b=arguments.length>1?arguments[1]:void 0,c=a.initialized,d=b.type,e=b.campaign;switch(d){case mb.campaign:return Ta(Ta({},a),{campaign:e});case mb.offline:return Ta(Ta({},a),{offline:!0});case mb.online:return Ta(Ta({},a),{offline:!1});default:return c?a:Ta(Ta(Ta({},Gb),a),{initialized:!0})}}function ra(a){return Object.keys(a).reduce(function(b,c){return Hb.includes(c)?b:(b[c]=a[c],b)},{})}function sa(a,b,c){if(Ja.isBrowser){var d=window[(c?"add":"remove")+"EventListener"];a.split(" ").forEach(function(a){d(a,b)})}}function ta(){return Promise.resolve(!navigator.onLine)}function ua(a){var b=function(b){return ta().then(a)},c=sa.bind(null,"online offline",b);return c(!0),function(a){return c(!1)}}function va(){var a=eb+ab+eb;return Ia.set(a,[]),function(b){return function(c,d,e){var f=b(c,d,e),g=f.dispatch,h=function(b){var c=b.action||b;return Ia.globalContext[a].push(c),g(b)};return Object.assign(f,{dispatch:h})}}}function wa(a){return function(){return r(r.apply(null,arguments),va(a))}}function xa(a){return a?Ja.isArray(a)?a:[a]:[]}function ya(a){for(var b,c=a||Array.prototype.slice.call(arguments),d=0;d<c.length;d++)if(Ja.isFunction(c[d])){b=c[d];break}return b}function za(){return(new Date).getTime()}function Aa(a,b){return function(c){b&&b(c),a(c)}}function Ba(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=arguments.length>1?arguments[1]:void 0,c=arguments.length>2?arguments[2]:void 0,d=Ha.uuid();return b&&(rb[d]=Aa(b,ya(c))),Ta(Ta({},a),{},{rid:d,ts:za()},b?{hasCallback:!0}:{})}function Ca(){function a(a){return function(b,c,d){var e=Ba(b.meta,c,xa(d)),f=Ta(Ta({},b),{meta:e});return a.apply(null,[f])}}function b(a){return function(){for(var b=Array.prototype.slice.call(arguments),c=new Array(a.length),d=0;d<b.length;d++)c[d]=b[d];return c[c.length]=H,a.apply({instance:H},c)}}var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=c.reducers||{},e=c.initialUser||{},f=(c.plugins||[]).reduce(function(a,c){if(Ja.isFunction(c))return a.middlewares=a.middlewares.concat(c),a;if(c.NAMESPACE&&(c.name=c.NAMESPACE),!c.name)throw new Error(db+"1");var d=c.EVENTS?Object.keys(c.EVENTS).map(function(a){return c.EVENTS[a]}):[],e=!(!1===c.enabled),f=!(c.config&&!1===c.config.enabled);a.pluginEnabled[c.name]=e&&f,delete c.enabled,c.methods&&(a.methods[c.name]=Object.keys(c.methods).reduce(function(a,d){return a[d]=b(c.methods[d]),a},{}),delete c.methods);var g=Object.keys(c),h=g.concat(d),i=new Set(a.events.concat(h));if(a.events=Array.from(i),a.pluginsArray=a.pluginsArray.concat(c),a.plugins[c.name])throw new Error(c.name+"AlreadyLoaded");return a.plugins[c.name]=c,a.plugins[c.name].loaded||(a.plugins[c.name].loaded=function(){return!0}),a},{plugins:{},pluginEnabled:{},methods:{},pluginsArray:[],middlewares:[],events:[]}),g=c.storage?c.storage:{getItem:Ia.get,setItem:Ia.set,removeItem:Ia.remove},h=x(g),i=f.plugins,j=f.events.filter(function(a){return!kb.includes(a)}).sort(),k=new Set(j.concat(jb).filter(function(a){return!kb.includes(a)})),l=Array.from(k).sort(),m=function(){return i},o=new Ab,p=o.addMiddleware,z=o.removeMiddleware,A=o.dynamicMiddlewares,B=function(){throw new Error("Abort disabled inListener")},C=Ha.paramsParse(),E=w(g),F=Ta(Ta(Ta(Ta({},E),e),C.an_uid?{userId:C.an_uid}:{}),C.an_aid?{anonymousId:C.an_aid}:{});F.anonymousId||(F.anonymousId=Ha.uuid());var G=Ta({enable:function(a,b){return new Promise(function(c){R.dispatch({type:mb.enablePlugin,plugins:xa(a),_:{originalAction:mb.enablePlugin}},c,[b])})},disable:function(a,b){return new Promise(function(c){R.dispatch({type:mb.disablePlugin,plugins:xa(a),_:{originalAction:mb.disablePlugin}},c,[b])})}},f.methods),H={identify:function(){function a(a,c,d,e){return b.apply(this,arguments)}var b=Ra(Qa.mark(function a(b,c,d,e){var f,g,i,j,k;return Qa.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return f=Ja.isString(b)?b:null,g=Ja.isObject(b)?b:c,i=d||{},j=H.user(),Ia.set(qb(bb),f),k=f||g.userId||h(bb,H,g),a.abrupt("return",new Promise(function(a){R.dispatch(Ta({type:mb.identifyStart,userId:k,traits:g||{},options:i,anonymousId:j.anonymousId},j.id&&j.id!==f&&{previousId:j.id}),a,[c,d,e])}));case 7:case"end":return a.stop()}},a)}));return a}(),track:function(){function a(a,c,d,e){return b.apply(this,arguments)}var b=Ra(Qa.mark(function a(b,c,d,e){var f,g,i;return Qa.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if((f=Ja.isObject(b)?b.event:b)&&Ja.isString(f)){a.next=3;break}throw new Error("EventMissing");case 3:return g=Ja.isObject(b)?b:c||{},i=Ja.isObject(d)?d:{},a.abrupt("return",new Promise(function(a){R.dispatch({type:mb.trackStart,event:f,properties:g,options:i,userId:h(bb,H,c),anonymousId:h(cb,H,c)},a,[c,d,e])}));case 6:case"end":return a.stop()}},a)}));return a}(),page:function(){function a(a,c,d){return b.apply(this,arguments)}var b=Ra(Qa.mark(function a(b,c,d){var e,f;return Qa.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=Ja.isObject(b)?b:{},f=Ja.isObject(c)?c:{},a.abrupt("return",new Promise(function(a){R.dispatch({type:mb.pageStart,properties:Eb(e),options:f,userId:h(bb,H,e),anonymousId:h(cb,H,e)},a,[b,c,d])}));case 3:case"end":return a.stop()}},a)}));return a}(),user:function(a){if(a===bb||"id"===a)return h(bb,H);if(a===cb||"anonId"===a)return h(cb,H);var b=H.getState("user");return a?Ha.dotProp(b,a):b},reset:function(a){return new Promise(function(b){R.dispatch({type:mb.resetStart},b,a)})},ready:function(a){return H.on(mb.ready,a)},on:function(a,b){if(!a||!Ja.isFunction(b))return!1;if(a===mb.bootstrap)throw new Error(".on disabled for "+a);var c=/Start$|Start:/;if("*"===a){var d=function(a){return function(a){return function(d){return d.type.match(c)&&b({payload:d,instance:H,plugins:i}),a(d)}}},e=function(a){return function(a){return function(d){return d.type.match(c)||b({payload:d,instance:H,plugins:i}),a(d)}}};return p(d,Ib),p(e,Jb),function(){z(d,Ib),z(e,Jb)}}var f=a.match(c)?Ib:Jb,g=function(c){return function(c){return function(d){return d.type===a&&b({payload:d,instance:H,plugins:i,abort:B}),c(d)}}};return p(g,f),function(){return z(g,f)}},once:function(a,b){if(!a||!Ja.isFunction(b))return!1;if(a===mb.bootstrap)throw new Error(".once disabled for "+a);var c=H.on(a,function(a){var d=a.payload;b({payload:d,instance:H,plugins:i,abort:B}),c()});return c},getState:function(a){var b=R.getState();return a?Ha.dotProp(b,a):Object.assign({},b)},dispatch:function(a){var b=Ja.isString(a)?{type:a}:a;if(t(b.type))throw new Error("reserved action "+b.type);var c=a._||{},d=Ta(Ta({},b),{},{_:Ta({originalAction:b.type},c)});R.dispatch(d)},enablePlugin:G.enable,disablePlugin:G.disable,plugins:G,storage:{getItem:g.getItem,setItem:function(a,b,c){R.dispatch({type:mb.setItemStart,key:a,value:b,options:c})},removeItem:function(a,b){R.dispatch({type:mb.removeItemStart,key:a,options:b})}},setAnonymousId:function(a,b){H.storage.setItem(fb,a,b)},events:{all:l,core:jb,plugins:j}},I=function(a){return function(a){return function(b){return b.meta||(b.meta=Ba()),a(b)}}},J=f.middlewares.concat([I,A(Ib),ca(H,m,{all:l,plugins:j}),da(g),u(H),y(H,g),A(Jb)]),K={context:qa,user:v(g),page:oa,track:ja,plugins:fa(m),queue:ka},L=r,M=r;if(Ja.isBrowser&&c.debug){var N=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;N&&(L=N({trace:!0,traceLimit:25})),M=function(){return 0===arguments.length?va():Ja.isObject(Oa(arguments[0]))?wa(arguments[0]):wa().apply(null,arguments)}}var O=ra(c),P=f.pluginsArray.reduce(function(a,b){var c=b.name,d=b.config,e=b.loaded,g=f.pluginEnabled[c];return a[c]={enabled:g,initialized:!!g&&Boolean(!b.initialize),loaded:Boolean(e()),config:d||{}},a},{}),Q={context:O,user:F,plugins:P},R=n(q(Ta(Ta({},K),d)),Q,M(L(s.apply(void 0,Na(J)))));R.dispatch=a(R.dispatch);var S=Object.keys(i);R.dispatch({type:mb.bootstrap,plugins:S,config:O,params:C,user:F,initialUser:e,persistedUser:E});var T=S.filter(function(a){return f.pluginEnabled[a]}),U=S.filter(function(a){return!f.pluginEnabled[a]});return R.dispatch({type:mb.registerPlugins,plugins:S,enabled:f.pluginEnabled}),f.pluginsArray.map(function(a,b){var c=a.bootstrap,d=a.config,e=a.name;c&&Ja.isFunction(c)&&c({instance:H,config:d,payload:a}),R.dispatch({type:mb.registerPluginType(e),name:e,enabled:f.pluginEnabled[e],plugin:a}),f.pluginsArray.length===b+1&&R.dispatch({type:mb.initializeStart,plugins:T,disabled:U})}),ua(function(a){R.dispatch({type:a?mb.offline:mb.online})}),D(R,m,H),H}Object.defineProperty(c,"__esModule",{value:!0});var Da,Ea,Fa,Ga,Ha=a("analytics-utils"),Ia=a("@analytics/global-storage-utils"),Ja=a("@analytics/type-utils"),Ka=d,La=e,Ma=f,Na=g,Oa=h(function(a){function b(a){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function c(d){return"function"==typeof Symbol&&"symbol"===b(Symbol.iterator)?a.exports=c=function(a){return b(a)}:a.exports=c=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":b(a)},c(d)}a.exports=c}),Pa=h(function(a){var b=function(a){function b(a,b,c){return Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}),a[b]}function c(a,b,c,d){var f=b&&b.prototype instanceof e?b:e,g=Object.create(f.prototype),h=new n(d||[]);return g._invoke=j(a,c,h),g}function d(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(a){return{type:"throw",arg:a}}}function e(){}function f(){}function g(){}function h(a){["next","throw","return"].forEach(function(c){b(a,c,function(a){return this._invoke(c,a)})})}function i(a,b){function c(e,f,g,h){var i=d(a[e],a,f);if("throw"!==i.type){var j=i.arg,k=j.value;return k&&"object"==typeof k&&s.call(k,"__await")?b.resolve(k.__await).then(function(a){c("next",a,g,h)},function(a){c("throw",a,g,h)}):b.resolve(k).then(function(a){j.value=a,g(j)},function(a){return c("throw",a,g,h)})}h(i.arg)}function e(a,d){function e(){return new b(function(b,e){c(a,d,b,e)})}return f=f?f.then(e,e):e()}var f;this._invoke=e}function j(a,b,c){var e=x;return function(f,g){if(e===z)throw new Error("Generator is already running");if(e===A){if("throw"===f)throw g;return p()}for(c.method=f,c.arg=g;;){var h=c.delegate;if(h){var i=k(h,c);if(i){if(i===B)continue;return i}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(e===x)throw e=A,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);e=z;var j=d(a,b,c);if("normal"===j.type){if(e=c.done?A:y,j.arg===B)continue;return{value:j.arg,done:c.done}}"throw"===j.type&&(e=A,c.method="throw",c.arg=j.arg)}}}function k(a,b){var c=a.iterator[b.method];if(c===q){if(b.delegate=null,"throw"===b.method){if(a.iterator.return&&(b.method="return",b.arg=q,k(a,b),"throw"===b.method))return B;b.method="throw",b.arg=new TypeError("The iterator does not provide a 'throw' method")}return B}var e=d(c,a.iterator,b.arg);if("throw"===e.type)return b.method="throw",b.arg=e.arg,b.delegate=null,B;var f=e.arg;return f?f.done?(b[a.resultName]=f.value,b.next=a.nextLoc,"return"!==b.method&&(b.method="next",b.arg=q),b.delegate=null,B):f:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,B)}function l(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]),2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]),this.tryEntries.push(b)}function m(a){var b=a.completion||{};b.type="normal",delete b.arg,a.completion=b}function n(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(l,this),this.reset(!0)}function o(a){if(a){var b=a[u];if(b)return b.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var c=-1,d=function b(){for(;++c<a.length;)if(s.call(a,c))return b.value=a[c],b.done=!1,b;return b.value=q,b.done=!0,b};return d.next=d}}return{next:p}}function p(){return{value:q,done:!0}}var q,r=Object.prototype,s=r.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},u=t.iterator||"@@iterator",v=t.asyncIterator||"@@asyncIterator",w=t.toStringTag||"@@toStringTag";try{b({},"")}catch(a){b=function(a,b,c){return a[b]=c}}a.wrap=c;var x="suspendedStart",y="suspendedYield",z="executing",A="completed",B={},C={};C[u]=function(){return this};var D=Object.getPrototypeOf,E=D&&D(D(o([])));E&&E!==r&&s.call(E,u)&&(C=E);var F=g.prototype=e.prototype=Object.create(C);return f.prototype=F.constructor=g,g.constructor=f,f.displayName=b(g,w,"GeneratorFunction"),a.isGeneratorFunction=function(a){var b="function"==typeof a&&a.constructor;return!!b&&(b===f||"GeneratorFunction"===(b.displayName||b.name))},a.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,g):(a.__proto__=g,b(a,w,"GeneratorFunction")),a.prototype=Object.create(F),a},a.awrap=function(a){return{__await:a}},h(i.prototype),i.prototype[v]=function(){return this},a.AsyncIterator=i,a.async=function(b,d,e,f,g){void 0===g&&(g=Promise);var h=new i(c(b,d,e,f),g);return a.isGeneratorFunction(d)?h:h.next().then(function(a){return a.done?a.value:h.next()})},h(F),b(F,w,"Generator"),F[u]=function(){return this},F.toString=function(){return"[object Generator]"},a.keys=function(a){var b=[];for(var c in a)b.push(c);return b.reverse(),function c(){for(;b.length;){var d=b.pop();if(d in a)return c.value=d,c.done=!1,c}return c.done=!0,c}},a.values=o,n.prototype={constructor:n,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=q,this.done=!1,this.delegate=null,this.method="next",this.arg=q,this.tryEntries.forEach(m),!a)for(var b in this)"t"===b.charAt(0)&&s.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=q)},stop:function(){this.done=!0;var a=this.tryEntries[0],b=a.completion;if("throw"===b.type)throw b.arg;return this.rval},dispatchException:function(a){function b(b,d){return f.type="throw",f.arg=a,c.next=b,d&&(c.method="next",c.arg=q),!!d}if(this.done)throw a;for(var c=this,d=this.tryEntries.length-1;d>=0;--d){var e=this.tryEntries[d],f=e.completion;if("root"===e.tryLoc)return b("end");if(e.tryLoc<=this.prev){var g=s.call(e,"catchLoc"),h=s.call(e,"finallyLoc");if(g&&h){if(this.prev<e.catchLoc)return b(e.catchLoc,!0);if(this.prev<e.finallyLoc)return b(e.finallyLoc)}else if(g){if(this.prev<e.catchLoc)return b(e.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<e.finallyLoc)return b(e.finallyLoc)}}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;c>=0;--c){var d=this.tryEntries[c];if(d.tryLoc<=this.prev&&s.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var e=d;break}}e&&("break"===a||"continue"===a)&&e.tryLoc<=b&&b<=e.finallyLoc&&(e=null);var f=e?e.completion:{};return f.type=a,f.arg=b,e?(this.method="next",this.next=e.finallyLoc,B):this.complete(f)},complete:function(a,b){if("throw"===a.type)throw a.arg;return"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&b&&(this.next=b),B},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.finallyLoc===a)return this.complete(c.completion,c.afterLoc),m(c),B}},catch:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if("throw"===d.type){var e=d.arg;m(c)}return e}}throw new Error("illegal catch attempt")},delegateYield:function(a,b,c){return this.delegate={iterator:o(a),resultName:b,nextLoc:c},"next"===this.method&&(this.arg=q),B}},a}(a.exports);try{regeneratorRuntime=b}catch(a){Function("r","regeneratorRuntime = r")(b)}}),Qa=Pa,Ra=j,Sa=k,Ta=m,Ua="function",Va="undefined",Wa="reducer",Xa="@@redux/",Ya=Xa+"INIT",Za=Xa+Math.random().toString(36),$a=function(){return("undefined"==typeof Symbol?"undefined":Oa(Symbol))===Ua&&Symbol.observable||"@@observable"}(),_a=" != "+Ua,ab="analytics",bb="userId",cb="anonymousId",db="https://lytics.dev/errors/",eb="__",fb=eb+"anon_id",gb=eb+"user_id",hb=eb+"user_traits",ib=Object.freeze({ANON_ID:fb,USER_ID:gb,USER_TRAITS:hb}),jb=["bootstrap","params","campaign","initializeStart","initialize","initializeEnd","ready","resetStart","reset","resetEnd","pageStart","page","pageEnd","pageAborted","trackStart","track","trackEnd","trackAborted","identifyStart","identify","identifyEnd","identifyAborted","userIdChanged","registerPlugins","enablePlugin","disablePlugin","online","offline","setItemStart","setItem","setItemEnd","setItemAborted","removeItemStart","removeItem","removeItemEnd","removeItemAborted"],kb=["name","EVENTS","config","loaded"],lb={registerPluginType:function(a){return"registerPlugin:".concat(a)},pluginReadyType:function(a){return"ready:".concat(a)}},mb=jb.reduce(function(a,b){return a[b]=b,a},lb),nb=/^utm_/,ob=/^an_prop_/,pb=/^an_trait_/,qb=function(a){return eb+"TEMP"+eb+a},rb={},sb=F,tb=G,ub=H,vb=I,wb=/Start$/,xb=/^bootstrap/,yb=/^ready/,zb=ea,Ab=function a(){var b=this;zb(this,a),Sa(this,"before",[]),Sa(this,"after",[]),Sa(this,"addMiddleware",function(a,c){b[c]=b[c].concat(a)}),Sa(this,"removeMiddleware",function(a,c){var d=b[c].findIndex(function(b){return b===a});-1!==d&&(b[c]=[].concat(Na(b[c].slice(0,d)),Na(b[c].slice(d+1))))}),Sa(this,"dynamicMiddlewares",function(a){return function(c){return function(d){return function(e){var f={getState:c.getState,dispatch:function(a){return c.dispatch(a)}},g=b[a].map(function(a){return a(f)});return r.apply(void 0,Na(g))(d)(e)}}}})},Bb={last:{},history:[]},Cb={actions:[]},Db=/#.*$/,Eb=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ja.isBrowser)return a;var b=document,c=b.title,d=b.referrer,e=window,f=e.location,g=e.innerWidth,h=e.innerHeight,i=f.hash,j=f.search,k=na(j),l={title:c,url:k,path:ma(k),hash:i,search:j,width:g,height:h};return d&&""!==d&&(l.referrer=d),Ta(Ta({},l),a)},Fb={last:{},history:[]};Da=pa(),Ea=Ja.isBrowser?document.referrer:null,Fa=Ha.getBrowserLocale(),Ga=Ha.getTimeZone();var Gb={initialized:!1,sessionId:Ha.uuid(),app:null,version:null,debug:!1,offline:!!Ja.isBrowser&&!navigator.onLine,os:{name:Da},userAgent:Ja.isBrowser?navigator.userAgent:"node",library:{name:ab,version:"0.10.12"},timezone:Ga,locale:Fa,campaign:{},referrer:Ea},Hb=["plugins","reducers","storage"],Ib="before",Jb="after";c.default=Ca,c.init=Ca,c.Analytics=Ca,c.EVENTS=mb,c.CONSTANTS=ib},{"@analytics/global-storage-utils":3,"@analytics/type-utils":7,"analytics-utils":30}],3:[function(a,b,c){(function(a){(function(){function b(a,b){return d[a]=b,b}var d="object"==typeof self&&self.self===self&&self||"object"==typeof a&&a.global===a&&a||void 0;c.get=function(a){return d[a]},c.globalContext=d,c.remove=function(a){b(a)},c.set=b,c.undef="undefined"}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(a,b,c){"use strict";function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function e(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},e=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),e.forEach(function(b){d(a,b,c[b])})}return a}function f(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=!1,c=h(a),d=c.instanceName,f=c.instancePrefix;return{name:"google-analytics",config:e({},q,a),initialize:function(a){var b=a.config,c=a.instance;if(!b.trackingId)throw new Error("No GA trackingId defined");var h=b.customDimensions,i=b.customScriptSrc,j=i||"https://www.google-analytics.com/analytics.js";if(g(j)&&function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script",j,"ga"),!r[d]){var l=e({cookieDomain:b.domain||"auto",siteSpeedSampleRate:b.siteSpeedSampleRate||1,sampleRate:b.sampleRate||100,allowLinker:!0},b.cookieConfig);if(d&&(l.name=d),ga("create",b.trackingId,l),b.debug&&(ga("".concat(f,"set"),"sendHitTask",null),window.ga_debug={trace:!0}),b.anonymizeIp&&ga("".concat(f,"set"),"anonymizeIp",!0),b.tasks){["customTask","previewTask","checkProtocolTask","validationTask","checkStorageTask","historyImportTask","samplerTask","buildHitTask","sendHitTask","timingTask","displayFeaturesTask"].forEach(function(a){if(b.tasks.hasOwnProperty(a)){var c=b.tasks[a];"function"==typeof c?ga(b.tasks[a]):null===c&&ga("".concat(f,"set"),a,c)}})}var m=c.user()||{},n=m.traits||{};if(Object.keys(n).length&&h&&Object.keys(h).length){var o=k(n,b);ga("".concat(f,"set"),o)}r[d]=!0}},page:function(a){var c=a.payload,d=a.config,h=a.instance,i=c.properties,k=d.resetCustomDimensionsOnPage,l=d.customDimensions,n=h.getState("context.campaign");if(!g()){if(k&&k.length){var o=k.reduce(function(a,b){return l[b]&&(a[l[b]]=null),a},{});Object.keys(o).length&&ga("".concat(f,"set"),o)}var p=i.path||document.location.pathname,q={page:p,title:i.title,location:i.url},r={page:p,title:i.title};i.referrer!==document.referrer&&(r.referrer=i.referrer);var s=j(n),t=m(i,d,f),u=e({},q,s,t);ga("".concat(f,"set"),r),b&&delete u.location,ga("".concat(f,"send"),"pageview",u),b=!0}},track:function(a){var b=a.payload,c=a.config,d=a.instance,e=b.properties,f=b.event,g=e.label,h=e.value,j=e.category,k=e.nonInteraction,l=d.getState("context.campaign");i({hitType:"event",event:f,label:g,category:j||"All",value:h,nonInteraction:k,campaign:l},c,b)},identify:function(a){var b=a.payload,c=a.config;n(b.userId,b.traits,c)},loaded:function(){return!!window.gaplugins}}}function g(a){return a?!o(a):"undefined"==typeof ga}function h(a){var b=a.instanceName;return{instancePrefix:b?"".concat(b,"."):"",instanceName:b}}function i(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2?arguments[2]:void 0;if(!g()){var d=h(b),f=d.instancePrefix,i={hitType:a.hitType||"event",eventAction:a.event,eventLabel:a.label,eventCategory:a.category||"All",nonInteraction:void 0!==a.nonInteraction&&!!a.nonInteraction};a.value&&(i.eventValue=p(a.value));var k=j(a),l=m(c.properties,b,f),n=e({},i,k,l);return ga("".concat(f,"send"),"event",n),n}}function j(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b={},c=a.name,d=a.source,e=a.medium,f=a.content,g=a.keyword;return c&&(b.campaignName=c),d&&(b.campaignSource=d),e&&(b.campaignMedium=e),f&&(b.campaignContent=f),g&&(b.campaignKeyword=g),b}function k(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=b.customDimensions;return Object.keys(c).reduce(function(b,d){var e=c[d],f=l(a,d)||a[d];return"boolean"==typeof f&&(f=f.toString()),f||0===f?(b[e]=f,b):b},{})}function l(a,b,c,d,e){for(b=b.split?b.split("."):b,d=0;d<b.length;d++)a=a?a[b[d]]:e;return a===e?c:a}function m(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=arguments.length>1?arguments[1]:void 0,c=arguments.length>2?arguments[2]:void 0,d=k(a,b);return Object.keys(d).length?b.setCustomDimensionsToPage?(ga("".concat(c,"set"),d),{}):d:{}}function n(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!g()){var d=h(c),e=d.instancePrefix;if(a&&ga("".concat(e,"set"),"userId",a),Object.keys(b).length){var f=k(b,c);ga("".concat(e,"set"),f)}}}function o(a){var b=document.querySelectorAll("script[src]");return!!Object.keys(b).filter(function(c){return(b[c].src||"")===a}).length}function p(a){return!a||a<0?0:Math.round(a)}Object.defineProperty(c,"__esModule",{value:!0});var q={trackingId:null,debug:!1,anonymizeIp:!1,customDimensions:{},resetCustomDimensionsOnPage:[],setCustomDimensionsToPage:!0},r={},s=f,t=f,u=i,v=n;c.default=s,c.init=t,c.identify=v,c.track=u,c.page=void 0,c.initialize=void 0},{}],5:[function(a,b,c){function d(){if(typeof f!==e.undef)return f;f=!0;try{typeof localStorage!==e.undef&&typeof JSON!==e.undef||(f=!1),localStorage.setItem(e.undef,e.undef),localStorage.removeItem(e.undef)}catch(a){f=!1}return f}var e=a("@analytics/global-storage-utils"),f=d();c.getItem=function(a){return f?localStorage.getItem(a):e.get(a)},c.hasLocalStorage=d,c.removeItem=function(a){return f?localStorage.removeItem(a):e.remove(a)},c.setItem=function(a,b){return f?localStorage.setItem(a,b):e.set(a,b)}},{"@analytics/global-storage-utils":3}],6:[function(a,b,c){function d(a){var b=a;try{if("true"===(b=JSON.parse(a)))return!0;if("false"===b)return!1;if(p.isObject(b))return b;parseFloat(b)===b&&(b=parseFloat(b))}catch(a){}if(null!==b&&""!==b)return b}function e(a,b){if(a){var c=h(b),e=!k(c),f=i(c)?d(localStorage.getItem(a)):void 0;if(e&&!p.isUndefined(f))return f;var g=j(c)?d(n.getCookie(a)):void 0;if(e&&g)return g;var l=m.get(a);return e?l:{localStorage:f,cookie:g,global:l}}}function f(a,b,c){if(a&&!p.isUndefined(b)){var e={},f=h(c),g=JSON.stringify(b),l=!k(f);return i(f)&&(e.localStorage={location:"localStorage",current:b,previous:d(localStorage.getItem(a))},localStorage.setItem(a,g),l)?e.localStorage:j(f)&&(e.cookie={location:"cookie",current:b,previous:d(n.getCookie(a))},n.setCookie(a,g),l)?e.cookie:(e.global={location:"global",current:b,previous:m.get(a)},m.set(a,b),l?e.global:e)}}function g(a,b){if(a){var c=h(b),d=e(a,"*"),f={};return!p.isUndefined(d.localStorage)&&i(c)&&(localStorage.removeItem(a),f.localStorage=d.localStorage),!p.isUndefined(d.cookie)&&j(c)&&(n.removeCookie(a),f.cookie=d.cookie),!p.isUndefined(d.global)&&l(c,"global")&&(m.remove(a),f.global=d.global),f}}function h(a){return a?p.isString(a)?a:a.storage:"any"}function i(a){return q&&l(a,"localStorage")}function j(a){return r&&l(a,"cookie")}function k(a){return"*"===a||"all"===a}function l(a,b){return"any"===a||a===b||k(a)}var m=a("@analytics/global-storage-utils"),n=a("@analytics/cookie-utils"),o=a("@analytics/localstorage-utils"),p=a("@analytics/type-utils"),q=o.hasLocalStorage(),r=n.hasCookies(),s={setItem:f,getItem:e,removeItem:g};Object.defineProperty(c,"globalContext",{enumerable:!0,get:function(){return m.globalContext}}),Object.defineProperty(c,"getCookie",{enumerable:!0,get:function(){return n.getCookie}}),Object.defineProperty(c,"hasCookies",{enumerable:!0,get:function(){return n.hasCookies}}),Object.defineProperty(c,"removeCookie",{enumerable:!0,get:function(){return n.removeCookie}}),Object.defineProperty(c,"setCookie",{enumerable:!0,get:function(){return n.setCookie}}),Object.defineProperty(c,"hasLocalStorage",{enumerable:!0,get:function(){return o.hasLocalStorage}}),c.ALL="*",c.ANY="any",c.COOKIE="cookie",c.GLOBAL="global",c.LOCAL_STORAGE="localStorage",c.default=s,c.getItem=e,c.removeItem=g,c.setItem=f},{"@analytics/cookie-utils":1,"@analytics/global-storage-utils":3,"@analytics/localstorage-utils":5,"@analytics/type-utils":7}],7:[function(a,b,c){function d(a){return"function"==typeof a}function e(a){return a instanceof Element||a instanceof HTMLDocument}var f=function(){},g="undefined"!=typeof window;c.ARRAY="array",c.BOOLEAN="boolean",c.FUNCTION="function",c.NUMBER="number",c.OBJECT="object",c.STRING="string",c.UNDEFINED="undefined",c.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},c.isBoolean=function(a){return"boolean"==typeof a},c.isBrowser=g,c.isElement=e,c.isForm=function(a){return e(a)&&"FORM"===a.nodeName},c.isFunction=d,c.isHidden=function(a,b){if(!a||"hidden"===getComputedStyle(a).visibility)return!0;for(;a;){if(null!=b&&a===b)return!1;if("none"===getComputedStyle(a).display)return!0;a=a.parentElement}return!1},c.isNoOp=function(a){if(!d(a))return!1;var b=/{(\r|\n|\s)*}/gm,c=f.toString();return c===(a.toString().match(b)||[""])[0].replace(b,c)},c.isNodeList=function(a){return NodeList.prototype.isPrototypeOf(a)},c.isNumber=function(a){return"number"==typeof a&&!isNaN(a)},c.isObject=function(a){if("object"!=typeof a||null===a)return!1;for(var b=a;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b},c.isRegex=function(a){return a instanceof RegExp},c.isString=function(a){return"string"==typeof a},c.isUndefined=function(a){return void 0===a},c.noOp=f},{}],8:[function(a,b,c){function d(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}b.exports=d,b.exports.default=b.exports,b.exports.__esModule=!0},{}],9:[function(a,b,c){function d(a,c,g){return f()?(b.exports=d=Reflect.construct,b.exports.default=b.exports,b.exports.__esModule=!0):(b.exports=d=function(a,b,c){var d=[null];d.push.apply(d,b);var f=Function.bind.apply(a,d),g=new f;return c&&e(g,c.prototype),g},b.exports.default=b.exports,b.exports.__esModule=!0),d.apply(null,arguments)}var e=a("./setPrototypeOf.js"),f=a("./isNativeReflectConstruct.js");b.exports=d,b.exports.default=b.exports,b.exports.__esModule=!0},{"./isNativeReflectConstruct.js":14,"./setPrototypeOf.js":15}],10:[function(a,b,c){function d(){return b.exports=d=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},b.exports.default=b.exports,b.exports.__esModule=!0,d.apply(this,arguments)}b.exports=d,b.exports.default=b.exports,b.exports.__esModule=!0},{}],11:[function(a,b,c){function d(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&e(a,b)}var e=a("./setPrototypeOf.js");b.exports=d,b.exports.default=b.exports,b.exports.__esModule=!0},{"./setPrototypeOf.js":15}],12:[function(a,b,c){function d(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,e(a,b)}var e=a("./setPrototypeOf.js");b.exports=d,b.exports.default=b.exports,b.exports.__esModule=!0},{"./setPrototypeOf.js":15}],13:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}b.exports=d,b.exports.default=b.exports,b.exports.__esModule=!0},{}],14:[function(a,b,c){function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}b.exports=d,b.exports.default=b.exports,b.exports.__esModule=!0},{}],15:[function(a,b,c){function d(a,c){return b.exports=d=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},b.exports.default=b.exports,b.exports.__esModule=!0,d(a,c)}b.exports=d,b.exports.default=b.exports,b.exports.__esModule=!0},{}],16:[function(a,b,c){"use strict";var d=a("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(c,"__esModule",{value:!0}),c.reverseBytes=c.sliceBytes=c.bytesMatch=c.concatTypedArrays=c.stringToBytes=c.bytesToString=c.numberToBytes=c.bytesToNumber=c.IS_LITTLE_ENDIAN=c.IS_BIG_ENDIAN=c.ENDIANNESS=c.toBinaryString=c.toHexString=c.toUint8=c.isTypedArray=c.padStart=c.countBytes=c.countBits=void 0;var e=d(a("global/window")),f=function(a,b){for(var c="";b--;)c+=a;return c},g=function(a){return a.toString(2).length};c.countBits=g;var h=function(a){return Math.ceil(g(a)/8)};c.countBytes=h;var i=function(a,b,c){return void 0===c&&(c=" "),(f(c,b)+a.toString()).slice(-b)};c.padStart=i;var j=function(a){return ArrayBuffer.isView(a)};c.isTypedArray=j;var k=function(a){return a instanceof Uint8Array?a:(Array.isArray(a)||j(a)||a instanceof ArrayBuffer||(a="number"!=typeof a||"number"==typeof a&&a!==a?0:[a]),new Uint8Array(a&&a.buffer||a,a&&a.byteOffset||0,a&&a.byteLength||0))};c.toUint8=k;var l=function(a){a=k(a);for(var b="",c=0;c<a.length;c++)b+=i(a[c].toString(16),2,"0");return b};c.toHexString=l;var m=function(a){a=k(a);for(var b="",c=0;c<a.length;c++)b+=i(a[c].toString(2),8,"0");return b};c.toBinaryString=m;var n=e.default.BigInt||Number,o=[n("0x1"),n("0x100"),n("0x10000"),n("0x1000000"),n("0x100000000"),n("0x10000000000"),n("0x1000000000000"),n("0x100000000000000"),n("0x10000000000000000")],p=function(){var a=new Uint16Array([65484]),b=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);return 255===b[0]?"big":204===b[0]?"little":"unknown"}();c.ENDIANNESS=p;var q="big"===p;c.IS_BIG_ENDIAN=q;var r="little"===p;c.IS_LITTLE_ENDIAN=r;var s=function(a,b){var c=void 0===b?{}:b,d=c.signed,e=void 0!==d&&d,f=c.le,g=void 0!==f&&f;a=k(a);var h=g?"reduce":"reduceRight",i=a[h]?a[h]:Array.prototype[h],j=i.call(a,function(b,c,d){var e=g?d:Math.abs(d+1-a.length);return b+n(c)*o[e]},n(0));if(e){var l=o[a.length]/n(2)-n(1);j=n(j),j>l&&(j-=l,j-=l,j-=n(2))}return Number(j)};c.bytesToNumber=s;var t=function(a,b){var c=void 0===b?{}:b,d=c.le,e=void 0!==d&&d;("bigint"!=typeof a&&"number"!=typeof a||"number"==typeof a&&a!==a)&&(a=0),a=n(a);for(var f=h(a),g=new Uint8Array(new ArrayBuffer(f)),i=0;i<f;i++){var j=e?i:Math.abs(i+1-g.length);g[j]=Number(a/o[i]&n(255)),a<0&&(g[j]=Math.abs(~g[j]),g[j]-=0===i?1:2)}return g};c.numberToBytes=t;var u=function(a){if(!a)return"";a=Array.prototype.slice.call(a);var b=String.fromCharCode.apply(null,k(a));try{return decodeURIComponent(escape(b))}catch(a){}return b};c.bytesToString=u;var v=function(a,b){if("string"!=typeof a&&a&&"function"==typeof a.toString&&(a=a.toString()),"string"!=typeof a)return new Uint8Array;b||(a=unescape(encodeURIComponent(a)));for(var c=new Uint8Array(a.length),d=0;d<a.length;d++)c[d]=a.charCodeAt(d);return c};c.stringToBytes=v;var w=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];if(b=b.filter(function(a){return a&&(a.byteLength||a.length)&&"string"!=typeof a}),b.length<=1)return k(b[0]);var d=b.reduce(function(a,b,c){return a+(b.byteLength||b.length)},0),e=new Uint8Array(d),f=0;return b.forEach(function(a){a=k(a),e.set(a,f),f+=a.byteLength}),e};c.concatTypedArrays=w;var x=function(a,b,c){var d=void 0===c?{}:c,e=d.offset,f=void 0===e?0:e,g=d.mask,h=void 0===g?[]:g;a=k(a),b=k(b);var i=b.every?b.every:Array.prototype.every;return b.length&&a.length-f>=b.length&&i.call(b,function(b,c){return b===(h[c]?h[c]&a[f+c]:a[f+c])})};c.bytesMatch=x;var y=function(a,b,c){return Uint8Array.prototype.slice?Uint8Array.prototype.slice.call(a,b,c):new Uint8Array(Array.prototype.slice.call(a,b,c))};c.sliceBytes=y;var z=function(a){return a.reverse?a.reverse():Array.prototype.reverse.call(a)};c.reverseBytes=z},{"@babel/runtime/helpers/interopRequireDefault":13,"global/window":38}],17:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getHvcCodec=c.getAvcCodec=c.getAv1Codec=void 0;var d=a("./byte-helpers.js"),e=function(a){var b="",c=a[1]>>>3,e=31&a[1],f=a[2]>>>7,g=(64&a[2])>>6,h=(32&a[2])>>5,i=(16&a[2])>>4,j=(8&a[2])>>3,k=(4&a[2])>>2,l=3&a[2];b+=c+"."+(0,d.padStart)(e,2,"0"),0===f?b+="M":1===f&&(b+="H");var m;return m=2===c&&g?h?12:10:g?10:8,b+="."+(0,d.padStart)(m,2,"0"),b+="."+i,b+="."+j+k+l};c.getAv1Codec=e;var f=function(a){return""+(0,d.toHexString)(a[1])+(0,d.toHexString)(252&a[2])+(0,d.toHexString)(a[3])};c.getAvcCodec=f;var g=function(a){var b="",c=a[1]>>6,e=31&a[1],f=(32&a[1])>>5,g=a.subarray(2,6),h=a.subarray(6,12),i=a[12];1===c?b+="A":2===c?b+="B":3===c&&(b+="C"),b+=e+".";var j=parseInt((0,d.toBinaryString)(g).split("").reverse().join(""),2);j>255&&(j=parseInt((0,d.toBinaryString)(g),2)),b+=j.toString(16)+".",b+=0===f?"L":"H",b+=i;for(var k="",l=0;l<h.length;l++){var m=h[l];m&&(k&&(k+="."),k+=m.toString(16))}return k&&(b+="."+k),b};c.getHvcCodec=g},{"./byte-helpers.js":16}],18:[function(a,b,c){"use strict";var d=a("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(c,"__esModule",{value:!0}),c.DEFAULT_VIDEO_CODEC=c.DEFAULT_AUDIO_CODEC=c.muxerSupportsCodec=c.browserSupportsCodec=c.getMimeForCodec=c.isTextCodec=c.isAudioCodec=c.isVideoCodec=c.codecsFromDefault=c.parseCodecs=c.mapLegacyAvcCodecs=c.translateLegacyCodecs=c.translateLegacyCodec=void 0;var e=d(a("global/window")),f={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},g=["video","audio","text"],h=["Video","Audio","Text"],i=function(a){return a?a.replace(/avc1\.(\d+)\.(\d+)/i,function(a,b,c){return"avc1."+("00"+Number(b).toString(16)).slice(-2)+"00"+("00"+Number(c).toString(16)).slice(-2)}):a};c.translateLegacyCodec=i;var j=function(a){return a.map(i)};c.translateLegacyCodecs=j;var k=function(a){return a.replace(/avc1\.(\d+)\.(\d+)/i,function(a){return j([a])[0]})};c.mapLegacyAvcCodecs=k;var l=function(a){void 0===a&&(a="");var b=a.split(","),c=[];return b.forEach(function(a){a=a.trim();var b;g.forEach(function(d){var e=f[d].exec(a.toLowerCase());if(e&&!(e.length<=1)){b=d;var g=a.substring(0,e[1].length),h=a.replace(g,"");c.push({type:g,details:h,mediaType:d})}}),b||c.push({type:a,details:"",mediaType:"unknown"})}),c};c.parseCodecs=l;var m=function(a,b){if(!a.mediaGroups.AUDIO||!b)return null;var c=a.mediaGroups.AUDIO[b];if(!c)return null;for(var d in c){var e=c[d];if(e.default&&e.playlists)return l(e.playlists[0].attributes.CODECS)}return null};c.codecsFromDefault=m;var n=function(a){return void 0===a&&(a=""),f.video.test(a.trim().toLowerCase())};c.isVideoCodec=n;var o=function(a){return void 0===a&&(a=""),f.audio.test(a.trim().toLowerCase())};c.isAudioCodec=o;var p=function(a){return void 0===a&&(a=""),f.text.test(a.trim().toLowerCase())};c.isTextCodec=p;var q=function(a){if(a&&"string"==typeof a){var b=a.toLowerCase().split(",").map(function(a){return i(a.trim())}),c="video";1===b.length&&o(b[0])?c="audio":1===b.length&&p(b[0])&&(c="application");var d="mp4";return b.every(function(a){return f.mp4.test(a)})?d="mp4":b.every(function(a){return f.webm.test(a)})?d="webm":b.every(function(a){return f.ogg.test(a)})&&(d="ogg"),c+"/"+d+';codecs="'+a+'"'}};c.getMimeForCodec=q;var r=function(a){return void 0===a&&(a=""),e.default.MediaSource&&e.default.MediaSource.isTypeSupported&&e.default.MediaSource.isTypeSupported(q(a))||!1};c.browserSupportsCodec=r;var s=function(a){return void 0===a&&(a=""),a.toLowerCase().split(",").every(function(a){a=a.trim();for(var b=0;b<h.length;b++){var c=h[b];if(f["muxer"+c].test(a))return!0}return!1})};c.muxerSupportsCodec=s,c.DEFAULT_AUDIO_CODEC="mp4a.40.2",c.DEFAULT_VIDEO_CODEC="avc1.4d400d"},{"@babel/runtime/helpers/interopRequireDefault":13,"global/window":38}],19:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isLikelyFmp4MediaSegment=c.detectContainerForBytes=c.isLikely=void 0;var d=a("./byte-helpers.js"),e=a("./mp4-helpers.js"),f=a("./ebml-helpers.js"),g=a("./id3-helpers.js"),h=a("./nal-helpers.js"),i={webm:(0,d.toUint8)([119,101,98,109]),matroska:(0,d.toUint8)([109,97,116,114,111,115,107,97]),flac:(0,d.toUint8)([102,76,97,67]),ogg:(0,d.toUint8)([79,103,103,83]),ac3:(0,d.toUint8)([11,119]),riff:(0,d.toUint8)([82,73,70,70]),avi:(0,d.toUint8)([65,86,73]),wav:(0,d.toUint8)([87,65,86,69]),"3gp":(0,d.toUint8)([102,116,121,112,51,103]),mp4:(0,d.toUint8)([102,116,121,112]),fmp4:(0,d.toUint8)([115,116,121,112]),mov:(0,d.toUint8)([102,116,121,112,113,116]),moov:(0,d.toUint8)([109,111,111,118]),moof:(0,d.toUint8)([109,111,111,102])},j={aac:function(a){var b=(0,g.getId3Offset)(a);return(0,d.bytesMatch)(a,[255,16],{offset:b,mask:[255,22]})},mp3:function(a){var b=(0,g.getId3Offset)(a);return(0,d.bytesMatch)(a,[255,2],{offset:b,mask:[255,6]})},webm:function(a){var b=(0,f.findEbml)(a,[f.EBML_TAGS.EBML,f.EBML_TAGS.DocType])[0];return(0,d.bytesMatch)(b,i.webm)},mkv:function(a){var b=(0,f.findEbml)(a,[f.EBML_TAGS.EBML,f.EBML_TAGS.DocType])[0];return(0,d.bytesMatch)(b,i.matroska)},mp4:function(a){return!j["3gp"](a)&&!j.mov(a)&&(!(!(0,d.bytesMatch)(a,i.mp4,{offset:4})&&!(0,d.bytesMatch)(a,i.fmp4,{offset:4}))||(!(!(0,d.bytesMatch)(a,i.moof,{offset:4})&&!(0,d.bytesMatch)(a,i.moov,{offset:4}))||void 0))},mov:function(a){return(0,d.bytesMatch)(a,i.mov,{offset:4})},"3gp":function(a){return(0,d.bytesMatch)(a,i["3gp"],{offset:4})},ac3:function(a){var b=(0,g.getId3Offset)(a);return(0,d.bytesMatch)(a,i.ac3,{offset:b})},ts:function(a){if(a.length<189&&a.length>=1)return 71===a[0];for(var b=0;b+188<a.length&&b<188;){if(71===a[b]&&71===a[b+188])return!0;b+=1}return!1},flac:function(a){var b=(0,g.getId3Offset)(a);return(0,d.bytesMatch)(a,i.flac,{offset:b})},ogg:function(a){return(0,d.bytesMatch)(a,i.ogg)},avi:function(a){return(0,d.bytesMatch)(a,i.riff)&&(0,d.bytesMatch)(a,i.avi,{offset:8})},wav:function(a){return(0,d.bytesMatch)(a,i.riff)&&(0,d.bytesMatch)(a,i.wav,{offset:8})},h264:function(a){return(0,h.findH264Nal)(a,7,3).length},h265:function(a){return(0,h.findH265Nal)(a,[32,33],3).length}},k=Object.keys(j).filter(function(a){return"ts"!==a&&"h264"!==a&&"h265"!==a}).concat(["ts","h264","h265"]);k.forEach(function(a){var b=j[a];j[a]=function(a){return b((0,d.toUint8)(a))}});var l=j;c.isLikely=l;var m=function(a){a=(0,d.toUint8)(a);for(var b=0;b<k.length;b++){var c=k[b];if(l[c](a))return c}return""};c.detectContainerForBytes=m;var n=function(a){return(0,e.findBox)(a,["moof"]).length>0};c.isLikelyFmp4MediaSegment=n},{"./byte-helpers.js":16,"./ebml-helpers.js":21,"./id3-helpers.js":22,"./mp4-helpers.js":24,"./nal-helpers.js":25}],20:[function(a,b,c){(function(d){(function(){"use strict";function e(a){for(var b=h(a),c=new Uint8Array(b.length),d=0;d<b.length;d++)c[d]=b.charCodeAt(d);return c}var f=a("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var g=f(a("global/window")),h=function(a){return g.default.atob?g.default.atob(a):d.from(a,"base64").toString("binary")};b.exports=c.default}).call(this)}).call(this,a("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":13,buffer:35,"global/window":38}],21:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.parseData=c.parseTracks=c.decodeBlock=c.findEbml=c.EBML_TAGS=void 0;var d=a("./byte-helpers"),e=a("./codec-helpers.js"),f={EBML:(0,d.toUint8)([26,69,223,163]),DocType:(0,d.toUint8)([66,130]),Segment:(0,d.toUint8)([24,83,128,103]),SegmentInfo:(0,d.toUint8)([21,73,169,102]),Tracks:(0,d.toUint8)([22,84,174,107]),Track:(0,d.toUint8)([174]),TrackNumber:(0,d.toUint8)([215]),DefaultDuration:(0,d.toUint8)([35,227,131]),TrackEntry:(0,d.toUint8)([174]),TrackType:(0,d.toUint8)([131]),FlagDefault:(0,d.toUint8)([136]),CodecID:(0,d.toUint8)([134]),CodecPrivate:(0,d.toUint8)([99,162]),VideoTrack:(0,d.toUint8)([224]),AudioTrack:(0,d.toUint8)([225]),Cluster:(0,d.toUint8)([31,67,182,117]),Timestamp:(0,d.toUint8)([231]),TimestampScale:(0,d.toUint8)([42,215,177]),BlockGroup:(0,d.toUint8)([160]),BlockDuration:(0,d.toUint8)([155]),Block:(0,d.toUint8)([161]),SimpleBlock:(0,d.toUint8)([163])};c.EBML_TAGS=f;var g=[128,64,32,16,8,4,2,1],h=function(a){for(var b=1,c=0;c<g.length&&!(a&g[c]);c++)b++;return b},i=function(a,b,c,e){void 0===c&&(c=!0),void 0===e&&(e=!1);var f=h(a[b]),i=a.subarray(b,b+f);return c&&(i=Array.prototype.slice.call(a,b,b+f),i[0]^=g[f-1]),{length:f,value:(0,d.bytesToNumber)(i,{signed:e}),bytes:i}},j=function a(b){return"string"==typeof b?b.match(/.{1,2}/g).map(function(b){return a(b)}):"number"==typeof b?(0,d.numberToBytes)(b):b},k=function(a){return Array.isArray(a)?a.map(function(a){return j(a)}):[j(a)]},l=function a(b,c,e){if(e>=c.length)return c.length;var f=i(c,e,!1);if((0,d.bytesMatch)(b.bytes,f.bytes))return e;var g=i(c,e+f.length);return a(b,c,e+g.length+g.value+f.length)},m=function a(b,c){c=k(c),b=(0,d.toUint8)(b);var e=[];if(!c.length)return e;for(var f=0;f<b.length;){var g=i(b,f,!1),h=i(b,f+g.length),j=f+g.length+h.length;127===h.value&&(h.value=l(g,b,j),h.value!==b.length&&(h.value-=j));var m=j+h.value>b.length?b.length:j+h.value,n=b.subarray(j,m);(0,d.bytesMatch)(c[0],g.bytes)&&(1===c.length?e.push(n):e=e.concat(a(n,c.slice(1))));f+=g.length+h.length+n.length}return e};c.findEbml=m;var n=function(a,b,c,e){var g;"group"===b&&(g=m(a,[f.BlockDuration])[0],g&&(g=(0,d.bytesToNumber)(g),g=1/c*g*c/1e3),a=m(a,[f.Block])[0],b="block");var h=new DataView(a.buffer,a.byteOffset,a.byteLength),j=i(a,0),k=h.getInt16(j.length,!1),l=a[j.length+2],n=a.subarray(j.length+3),o=1/c*(e+k)*c/1e3,p={duration:g,trackNumber:j.value,keyframe:"simple"===b&&l>>7==1,invisible:(8&l)>>3==1,lacing:(6&l)>>1,discardable:"simple"===b&&1==(1&l),frames:[],pts:o,dts:o,timestamp:k};if(!p.lacing)return p.frames.push(n),p;var q=n[0]+1,r=[],s=1;if(2===p.lacing)for(var t=(n.length-s)/q,u=0;u<q;u++)r.push(t);if(1===p.lacing)for(var v=0;v<q-1;v++){var w=0;do{w+=n[s],s++}while(255===n[s-1]);r.push(w)}if(3===p.lacing)for(var x=0,y=0;y<q-1;y++){var z=0===y?i(n,s):i(n,s,!0,!0);x+=z.value,r.push(x),s+=z.length}return r.forEach(function(a){p.frames.push(n.subarray(s,s+a)),s+=a}),p};c.decodeBlock=n;var o=function(a){for(var b=0,c={};b<a.length;){var d=127&a[b],e=a[b+1],f=void 0;f=1===e?a[b+2]:a.subarray(b+2,b+2+e),1===d?c.profile=f:2===d?c.level=f:3===d?c.bitDepth=f:4===d?c.chromaSubsampling=f:c[d]=f,b+=2+e}return c},p=function(a){a=(0,d.toUint8)(a);var b=[],c=m(a,[f.Segment,f.Tracks,f.Track]);return c.length||(c=m(a,[f.Tracks,f.Track])),c.length||(c=m(a,[f.Track])),c.length?(c.forEach(function(a){var c=m(a,f.TrackType)[0];if(c&&c.length){if(1===c[0])c="video";else if(2===c[0])c="audio";else{if(17!==c[0])return;c="subtitle"}var g={rawCodec:(0,d.bytesToString)(m(a,[f.CodecID])[0]),type:c,codecPrivate:m(a,[f.CodecPrivate])[0],number:(0,d.bytesToNumber)(m(a,[f.TrackNumber])[0]),defaultDuration:(0,d.bytesToNumber)(m(a,[f.DefaultDuration])[0]),default:m(a,[f.FlagDefault])[0],rawData:a},h="";if(/V_MPEG4\/ISO\/AVC/.test(g.rawCodec))h="avc1."+(0,e.getAvcCodec)(g.codecPrivate);else if(/V_MPEGH\/ISO\/HEVC/.test(g.rawCodec))h="hev1."+(0,e.getHvcCodec)(g.codecPrivate);else if(/V_MPEG4\/ISO\/ASP/.test(g.rawCodec))h=g.codecPrivate?"mp4v.20."+g.codecPrivate[4].toString():"mp4v.20.9";else if(/^V_THEORA/.test(g.rawCodec))h="theora";else if(/^V_VP8/.test(g.rawCodec))h="vp8";else if(/^V_VP9/.test(g.rawCodec))if(g.codecPrivate){var i=o(g.codecPrivate),j=i.profile,k=i.level,l=i.bitDepth,n=i.chromaSubsampling;h="vp09.",h+=(0,d.padStart)(j,2,"0")+".",h+=(0,d.padStart)(k,2,"0")+".",h+=(0,d.padStart)(l,2,"0")+".",h+=""+(0,d.padStart)(n,2,"0");var p=m(a,[224,[85,176],[85,177]])[0]||[],q=m(a,[224,[85,176],[85,185]])[0]||[],r=m(a,[224,[85,176],[85,186]])[0]||[],s=m(a,[224,[85,176],[85,187]])[0]||[];(p.length||q.length||r.length||s.length)&&(h+="."+(0,d.padStart)(s[0],2,"0"),h+="."+(0,d.padStart)(r[0],2,"0"),h+="."+(0,d.padStart)(p[0],2,"0"),h+="."+(0,d.padStart)(q[0],2,"0"))}else h="vp9";else/^V_AV1/.test(g.rawCodec)?h="av01."+(0,e.getAv1Codec)(g.codecPrivate):/A_ALAC/.test(g.rawCodec)?h="alac":/A_MPEG\/L2/.test(g.rawCodec)?h="mp2":/A_MPEG\/L3/.test(g.rawCodec)?h="mp3":/^A_AAC/.test(g.rawCodec)?h=g.codecPrivate?"mp4a.40."+(g.codecPrivate[0]>>>3).toString():"mp4a.40.2":/^A_AC3/.test(g.rawCodec)?h="ac-3":/^A_PCM/.test(g.rawCodec)?h="pcm":/^A_MS\/ACM/.test(g.rawCodec)?h="speex":/^A_EAC3/.test(g.rawCodec)?h="ec-3":/^A_VORBIS/.test(g.rawCodec)?h="vorbis":/^A_FLAC/.test(g.rawCodec)?h="flac":/^A_OPUS/.test(g.rawCodec)&&(h="opus");g.codec=h,b.push(g)}}),b.sort(function(a,b){return a.number-b.number})):b};c.parseTracks=p;var q=function(a,b){var c=[],e=m(a,[f.Segment])[0],g=m(e,[f.SegmentInfo,f.TimestampScale])[0];g=g&&g.length?(0,d.bytesToNumber)(g):1e6;var h=m(e,[f.Cluster]);return b||(b=p(e)),h.forEach(function(a,b){var e=m(a,[f.SimpleBlock]).map(function(a){return{type:"simple",data:a}}),h=m(a,[f.BlockGroup]).map(function(a){return{type:"group",data:a}}),i=m(a,[f.Timestamp])[0]||0;i&&i.length&&(i=(0,d.bytesToNumber)(i)),e.concat(h).sort(function(a,b){return a.data.byteOffset-b.data.byteOffset}).forEach(function(a,b){var d=n(a.data,a.type,g,i);c.push(d)})}),{tracks:b,blocks:c}};c.parseData=q},{"./byte-helpers":16,"./codec-helpers.js":17}],22:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getId3Offset=c.getId3Size=void 0;var d=a("./byte-helpers.js"),e=(0,d.toUint8)([73,68,51]),f=function(a,b){void 0===b&&(b=0),a=(0,d.toUint8)(a);var c=a[b+5],e=a[b+6]<<21|a[b+7]<<14|a[b+8]<<7|a[b+9];return(16&c)>>4?e+20:e+10};c.getId3Size=f;var g=function a(b,c){return void 0===c&&(c=0),b=(0,d.toUint8)(b),b.length-c<10||!(0,d.bytesMatch)(b,e,{offset:c})?c:(c+=f(b,c),a(b,c))};c.getId3Offset=g},{"./byte-helpers.js":16}],23:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.simpleTypeFromSourceType=void 0;var d=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,e=/^application\/dash\+xml/i,f=function(a){return d.test(a)?"hls":e.test(a)?"dash":"application/vnd.videojs.vhs+json"===a?"vhs-json":null};c.simpleTypeFromSourceType=f},{}],24:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.parseMediaInfo=c.parseTracks=c.addSampleDescription=c.buildFrameTable=c.findNamedBox=c.findBox=c.parseDescriptors=void 0;var d,e=a("./byte-helpers.js"),f=a("./codec-helpers.js"),g=a("./opus-helpers.js"),h=function(a){return"string"==typeof a?(0,e.stringToBytes)(a):a},i=function(a){return Array.isArray(a)?a.map(function(a){return h(a)}):[h(a)]},j=function(a){a=(0,e.toUint8)(a);for(var b=[],c=0;a.length>c;){var f=a[c],g=0,h=0;h++;var i=a[h];for(h++;128&i;)g=(127&i)<<7,i=a[h],h++;g+=127&i;for(var j=0;j<d.length;j++){var k=d[j],l=k.id,m=k.parser;if(f===l){b.push(m(a.subarray(h,h+g)));break}}c+=g+h}return b};c.parseDescriptors=j,d=[{id:3,parser:function(a){var b={tag:3,id:a[0]<<8|a[1],flags:a[2],size:3,dependsOnEsId:0,ocrEsId:0,descriptors:[],url:""};if(128&b.flags&&(b.dependsOnEsId=a[b.size]<<8|a[b.size+1],b.size+=2),64&b.flags){var c=a[b.size];b.url=(0,e.bytesToString)(a.subarray(b.size+1,b.size+1+c)),b.size+=c}return 32&b.flags&&(b.ocrEsId=a[b.size]<<8|a[b.size+1],b.size+=2),b.descriptors=j(a.subarray(b.size))||[],b}},{id:4,parser:function(a){return{tag:4,oti:a[0],streamType:a[1],bufferSize:a[2]<<16|a[3]<<8|a[4],maxBitrate:a[5]<<24|a[6]<<16|a[7]<<8|a[8],avgBitrate:a[9]<<24|a[10]<<16|a[11]<<8|a[12],descriptors:j(a.subarray(13))}}},{id:5,parser:function(a){return{tag:5,bytes:a}}},{id:6,parser:function(a){return{tag:6,bytes:a}}}];var k=function a(b,c,d){void 0===d&&(d=!1),c=i(c),b=(0,e.toUint8)(b);var f=[];if(!c.length)return f;for(var g=0;g<b.length;){var h=(b[g]<<24|b[g+1]<<16|b[g+2]<<8|b[g+3])>>>0,j=b.subarray(g+4,g+8);if(0===h)break;var k=g+h;if(k>b.length){if(d)break;k=b.length}var l=b.subarray(g+8,k);(0,e.bytesMatch)(j,c[0])&&(1===c.length?f.push(l):f.push.apply(f,a(l,c.slice(1),d))),g=k}return f};c.findBox=k;var l=function(a,b){if(b=h(b),!b.length)return a.subarray(a.length);for(var c=0;c<a.length;){if((0,e.bytesMatch)(a.subarray(c,c+b.length),b)){var d=(a[c-4]<<24|a[c-3]<<16|a[c-2]<<8|a[c-1])>>>0,f=d>1?c+d:a.byteLength;return a.subarray(c+4,f)}c++}return a.subarray(a.length)};c.findNamedBox=l;var m=function(a,b,c){void 0===b&&(b=4),void 0===c&&(c=function(a){return(0,e.bytesToNumber)(a)});var d=[];if(!a||!a.length)return d;for(var f=(0,e.bytesToNumber)(a.subarray(4,8)),g=8;f;g+=b,f--)d.push(c(a.subarray(g,g+b)));return d},n=function(a,b){for(var c=m(k(a,["stss"])[0]),d=m(k(a,["stco"])[0]),f=m(k(a,["stts"])[0],8,function(a){return{sampleCount:(0,e.bytesToNumber)(a.subarray(0,4)),sampleDelta:(0,e.bytesToNumber)(a.subarray(4,8))}}),g=m(k(a,["stsc"])[0],12,function(a){return{firstChunk:(0,e.bytesToNumber)(a.subarray(0,4)),samplesPerChunk:(0,e.bytesToNumber)(a.subarray(4,8)),sampleDescriptionIndex:(0,e.bytesToNumber)(a.subarray(8,12))}}),h=k(a,["stsz"])[0],i=m(h&&h.length&&h.subarray(4)||null),j=[],l=0;l<d.length;l++){for(var n=void 0,o=0;o<g.length;o++){var p=g[o];if(l+1>=p.firstChunk&&(o+1>=g.length||l+1<g[o+1].firstChunk)){n=p.samplesPerChunk;break}}for(var q=d[l],r=0;r<n;r++){var s=i[j.length],t=!c.length;c.length&&-1!==c.indexOf(j.length+1)&&(t=!0);for(var u={keyframe:t,start:q,end:q+s},v=0;v<f.length;v++){var w=f[v],x=w.sampleCount,y=w.sampleDelta;if(j.length<=x){var z=j.length?j[j.length-1].timestamp:0;u.timestamp=z+y/b*1e3,u.duration=y;break}}j.push(u),q+=s}}return j};c.buildFrameTable=n;var o=function(a,b){var c=(0,e.bytesToString)(b.subarray(0,4));if("video"===a.type?(a.info=a.info||{},a.info.width=b[28]<<8|b[29],a.info.height=b[30]<<8|b[31]):"audio"===a.type&&(a.info=a.info||{},a.info.channels=b[20]<<8|b[21],a.info.bitDepth=b[22]<<8|b[23],a.info.sampleRate=b[28]<<8|b[29]),"avc1"===c){var d=l(b,"avcC");c+="."+(0,f.getAvcCodec)(d),a.info.avcC=d}else if("hvc1"===c||"hev1"===c)c+="."+(0,f.getHvcCodec)(l(b,"hvcC"));else if("mp4a"===c||"mp4v"===c){var h=l(b,"esds"),i=j(h.subarray(4))[0],k=i&&i.descriptors.filter(function(a){return 4===a.tag})[0];k?(c+="."+(0,e.toHexString)(k.oti),64===k.oti?c+="."+(k.descriptors[0].bytes[0]>>3).toString():32===k.oti?c+="."+k.descriptors[0].bytes[4].toString():221===k.oti&&(c="vorbis")):"audio"===a.type?c+=".40.2":c+=".20.9"}else if("av01"===c)c+="."+(0,f.getAv1Codec)(l(b,"av1C"));else if("vp09"===c){var m=l(b,"vpcC"),n=m[0],o=m[1],p=m[2]>>4,q=(15&m[2])>>1,r=(15&m[2])>>3,s=m[3],t=m[4],u=m[5];c+="."+(0,e.padStart)(n,2,"0"),c+="."+(0,e.padStart)(o,2,"0"),c+="."+(0,e.padStart)(p,2,"0"),c+="."+(0,e.padStart)(q,2,"0"),c+="."+(0,e.padStart)(s,2,"0"),c+="."+(0,e.padStart)(t,2,"0"),c+="."+(0,e.padStart)(u,2,"0"),c+="."+(0,e.padStart)(r,2,"0")}else if("theo"===c)c="theora";else if("spex"===c)c="speex";else if(".mp3"===c)c="mp4a.40.34";else if("msVo"===c)c="vorbis";else if("Opus"===c){c="opus";var v=l(b,"dOps");a.info.opus=(0,g.parseOpusHead)(v),a.info.codecDelay=65e5}else c=c.toLowerCase();a.codec=c};c.addSampleDescription=o;var p=function(a,b){void 0===b&&(b=!0),a=(0,e.toUint8)(a);var c=k(a,["moov","trak"],!0),d=[];return c.forEach(function(a){var c={bytes:a},f=k(a,["mdia"])[0],g=k(f,["hdlr"])[0],h=(0,e.bytesToString)(g.subarray(8,12));c.type="soun"===h?"audio":"vide"===h?"video":h;var i=k(a,["tkhd"])[0];if(i){var j=new DataView(i.buffer,i.byteOffset,i.byteLength),l=j.getUint8(0);c.number=0===l?j.getUint32(12):j.getUint32(20)}var m=k(f,["mdhd"])[0];if(m){var p=m[0],q=0===p?12:20;c.timescale=(m[q]<<24|m[q+1]<<16|m[q+2]<<8|m[q+3])>>>0}for(var r=k(f,["minf","stbl"])[0],s=k(r,["stsd"])[0],t=(0,e.bytesToNumber)(s.subarray(4,8)),u=8;t--;){var v=(0,e.bytesToNumber)(s.subarray(u,u+4)),w=s.subarray(u+4,u+4+v);o(c,w),u+=4+v}b&&(c.frameTable=n(r,c.timescale)),d.push(c)}),d};c.parseTracks=p;var q=function(a){var b=k(a,["moov","mvhd"],!0)[0];if(b&&b.length){var c={};return 1===b[0]?(c.timestampScale=(0,e.bytesToNumber)(b.subarray(20,24)),c.duration=(0,e.bytesToNumber)(b.subarray(24,32))):(c.timestampScale=(0,e.bytesToNumber)(b.subarray(12,16)),c.duration=(0,e.bytesToNumber)(b.subarray(16,20))),c.bytes=b,c}};c.parseMediaInfo=q},{"./byte-helpers.js":16,"./codec-helpers.js":17,"./opus-helpers.js":26}],25:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.findH265Nal=c.findH264Nal=c.findNal=c.discardEmulationPreventionBytes=c.EMULATION_PREVENTION=c.NAL_TYPE_TWO=c.NAL_TYPE_ONE=void 0;var d=a("./byte-helpers.js"),e=(0,d.toUint8)([0,0,0,1]);c.NAL_TYPE_ONE=e;var f=(0,d.toUint8)([0,0,1]);c.NAL_TYPE_TWO=f;var g=(0,d.toUint8)([0,0,3]);c.EMULATION_PREVENTION=g;var h=function(a){for(var b=[],c=1;c<a.length-2;)(0,d.bytesMatch)(a.subarray(c,c+3),g)&&(b.push(c+2),c++),c++;if(0===b.length)return a;var e=a.length-b.length,f=new Uint8Array(e),h=0;for(c=0;c<e;h++,c++)h===b[0]&&(h++,b.shift()),f[c]=a[h];return f};c.discardEmulationPreventionBytes=h;var i=function(a,b,c,g){void 0===g&&(g=1/0),a=(0,d.toUint8)(a),c=[].concat(c);for(var i,j=0,k=0;j<a.length&&(k<g||i);){var l=void 0;if((0,d.bytesMatch)(a.subarray(j),e)?l=4:(0,d.bytesMatch)(a.subarray(j),f)&&(l=3),l){if(k++,i)return h(a.subarray(i,j));var m=void 0;"h264"===b?m=31&a[j+l]:"h265"===b&&(m=a[j+l]>>1&63),-1!==c.indexOf(m)&&(i=j+l),j+=l+("h264"===b?1:2)}else j++}return a.subarray(0,0)};c.findNal=i;var j=function(a,b,c){return i(a,"h264",b,c)};c.findH264Nal=j;var k=function(a,b,c){return i(a,"h265",b,c)};c.findH265Nal=k},{"./byte-helpers.js":16}],26:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.setOpusHead=c.parseOpusHead=c.OPUS_HEAD=void 0;var d=new Uint8Array([79,112,117,115,72,101,97,100]);c.OPUS_HEAD=d;var e=function(a){var b=new DataView(a.buffer,a.byteOffset,a.byteLength),c=b.getUint8(0),d=0!==c,e={version:c,channels:b.getUint8(1),preSkip:b.getUint16(2,d),sampleRate:b.getUint32(4,d),outputGain:b.getUint16(8,d),channelMappingFamily:b.getUint8(10)};if(e.channelMappingFamily>0&&a.length>10){e.streamCount=b.getUint8(11),e.twoChannelStreamCount=b.getUint8(12),e.channelMapping=[];for(var f=0;f<e.channels;f++)e.channelMapping.push(b.getUint8(13+f))}return e};c.parseOpusHead=e;var f=function(a){var b=a.channelMappingFamily<=0?11:12+a.channels,c=new DataView(new ArrayBuffer(b)),d=0!==a.version;return c.setUint8(0,a.version),c.setUint8(1,a.channels),c.setUint16(2,a.preSkip,d),c.setUint32(4,a.sampleRate,d),c.setUint16(8,a.outputGain,d),c.setUint8(10,a.channelMappingFamily),a.channelMappingFamily>0&&(c.setUint8(11,a.streamCount),a.channelMapping.foreach(function(a,b){c.setUint8(12+b,a)})),new Uint8Array(c.buffer)};c.setOpusHead=f},{}],27:[function(a,b,c){"use strict";var d=a("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var e=d(a("url-toolkit")),f=d(a("global/window")),g="http://example.com",h=function(a,b){if(/^[a-z]+:/i.test(b))return b;/^data:/.test(a)&&(a=f.default.location&&f.default.location.href||"");var c="function"==typeof f.default.URL,d=/^\/\//.test(a),h=!f.default.location&&!/\/\//i.test(a);if(c?a=new f.default.URL(a,f.default.location||g):/\/\//i.test(a)||(a=e.default.buildAbsoluteURL(f.default.location&&f.default.location.href||"",a)),c){var i=new URL(b,a);return h?i.href.slice(g.length):d?i.href.slice(i.protocol.length):i.href}return e.default.buildAbsoluteURL(a,b)},i=h;c.default=i,b.exports=c.default},{"@babel/runtime/helpers/interopRequireDefault":13,"global/window":38,"url-toolkit":85}],28:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var d=function(){function a(){this.listeners={}}var b=a.prototype;return b.on=function(a,b){this.listeners[a]||(this.listeners[a]=[]),this.listeners[a].push(b)},b.off=function(a,b){if(!this.listeners[a])return!1;var c=this.listeners[a].indexOf(b);return this.listeners[a]=this.listeners[a].slice(0),this.listeners[a].splice(c,1),c>-1},b.trigger=function(a){var b=this.listeners[a];if(b)if(2===arguments.length)for(var c=b.length,d=0;d<c;++d)b[d].call(this,arguments[1]);else for(var e=Array.prototype.slice.call(arguments,1),f=b.length,g=0;g<f;++g)b[g].apply(this,e)},b.dispose=function(){this.listeners={}},b.pipe=function(a){this.on("data",function(b){a.push(b)})},a}();c.default=d,b.exports=c.default},{}],29:[function(a,b,c){"use strict";function d(a,b){for(var c=0;c<a.length;c++)b(a[c])}function e(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function f(a,b,c){var d=a;return m(b)?(c=b,"string"==typeof a&&(d={uri:a})):d=l({},b,{uri:a}),d.callback=c,d}function g(a,b,c){return b=f(a,b,c),h(b)}function h(a){function b(){4===k.readyState&&setTimeout(f,0)}function c(){var a=void 0;if(a=k.response?k.response:k.responseText||i(k),u)try{a=JSON.parse(a)}catch(a){}return a}function d(a){return clearTimeout(o),a instanceof Error||(a=new Error(""+(a||"Unknown XMLHttpRequest Error"))),a.statusCode=0,j(a,v)}function f(){if(!m){var b;clearTimeout(o),b=a.useXDR&&void 0===k.status?200:1223===k.status?204:k.status;var d=v,e=null;return 0!==b?(d={body:c(),statusCode:b,method:q,headers:{},url:p,rawRequest:k},k.getAllResponseHeaders&&(d.headers=n(k.getAllResponseHeaders()))):e=new Error("Internal XMLHttpRequest Error"),j(e,d,d.body)}}if(void 0===a.callback)throw new Error("callback argument missing");var h=!1,j=function(b,c,d){h||(h=!0,a.callback(b,c,d))},k=a.xhr||null;k||(k=a.cors||a.useXDR?new g.XDomainRequest:new g.XMLHttpRequest);var l,m,o,p=k.url=a.uri||a.url,q=k.method=a.method||"GET",r=a.body||a.data,s=k.headers=a.headers||{},t=!!a.sync,u=!1,v={body:void 0,headers:{},statusCode:0,method:q,url:p,rawRequest:k};if("json"in a&&!1!==a.json&&(u=!0,s.accept||s.Accept||(s.Accept="application/json"),"GET"!==q&&"HEAD"!==q&&(s["content-type"]||s["Content-Type"]||(s["Content-Type"]="application/json"),r=JSON.stringify(!0===a.json?r:a.json))),k.onreadystatechange=b,k.onload=f,k.onerror=d,k.onprogress=function(){},k.onabort=function(){m=!0},k.ontimeout=d,k.open(q,p,!t,a.username,a.password),t||(k.withCredentials=!!a.withCredentials),!t&&a.timeout>0&&(o=setTimeout(function(){if(!m){m=!0,k.abort("timeout");var a=new Error("XMLHttpRequest timeout");a.code="ETIMEDOUT",d(a)}},a.timeout)),k.setRequestHeader)for(l in s)s.hasOwnProperty(l)&&k.setRequestHeader(l,s[l]);else if(a.headers&&!e(a.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in a&&(k.responseType=a.responseType),"beforeSend"in a&&"function"==typeof a.beforeSend&&a.beforeSend(k),k.send(r||null),k}function i(a){try{if("document"===a.responseType)return a.responseXML;var b=a.responseXML&&"parsererror"===a.responseXML.documentElement.nodeName;if(""===a.responseType&&!b)return a.responseXML}catch(a){}return null}function j(){}var k=a("global/window"),l=a("@babel/runtime/helpers/extends"),m=a("is-function"),n=function(a){var b={};return a?(a.trim().split("\n").forEach(function(a){var c=a.indexOf(":"),d=a.slice(0,c).trim().toLowerCase(),e=a.slice(c+1).trim();void 0===b[d]?b[d]=e:Array.isArray(b[d])?b[d].push(e):b[d]=[b[d],e]}),b):b};b.exports=g,b.exports.default=g,g.XMLHttpRequest=k.XMLHttpRequest||j,g.XDomainRequest="withCredentials"in new g.XMLHttpRequest?g.XMLHttpRequest:k.XDomainRequest,d(["get","put","post","patch","head","delete"],function(a){g["delete"===a?"del":a]=function(b,c,d){return c=f(b,c,d),c.method=a.toUpperCase(),h(c)}})},{"@babel/runtime/helpers/extends":10,"global/window":38,"is-function":40}],30:[function(a,b,c){function d(a){return a&&"object"==typeof a&&"default"in a?a:{default:a}}function e(a){try{return decodeURIComponent(a.replace(/\+/g," "))}catch(a){return null}}function f(a){if(!n.isBrowser)return!1;var b=a||document.referrer;if(b){var c=window.document.location.port,d=b.split("/")[2];return c&&(d=d.replace(":"+c,"")),d!==window.location.hostname}return!1}function g(a,b){var c=(a.split("?")||[,])[1];if(!c||-1===c.indexOf(b))return a;var d=new RegExp("(\\&|\\?)"+b+'([_A-Za-z0-9"+=.\\/\\-@%]+)',"g"),e=("?"+c).replace(d,"").replace(/^&/,"?");return a.replace("?"+c,e)}function h(a){return function(a){for(var b,c={},d=/([^&=]+)=?([^&]*)/g;b=d.exec(a);){var f=e(b[1]),g=e(b[2]);"[]"===f.substring(f.length-2)?(c[f=f.substring(0,f.length-2)]||(c[f]=[])).push(g):c[f]=""===g||g}for(var h in c){var j=h.split("[");j.length>1&&(i(c,j.map(function(a){return a.replace(/[?[\]\\ ]/g,"")}),c[h]),delete c[h])}return c}(function(a){if(a){var b=a.match(/\?(.*)/);return b&&b[1]?b[1].split("#")[0]:""}return n.isBrowser&&window.location.search.substring(1)}(a))}function i(a,b,c){for(var d=b.length-1,e=0;e<d;++e){var f=b[e];f in a||(a[f]={}),a=a[f]}a[b[d]]=c}function j(a){if(!n.isBrowser)return null;var b=document.createElement("a");return b.setAttribute("href",a),b.hostname}function k(a){return(j(a)||"").split(".").slice(-2).join(".")}function l(a){var b=a.split(".");return b.length>1?b.slice(0,-1).join("."):a}var m=a("dlv"),n=a("@analytics/type-utils"),o=d(m),p={trimTld:l,getDomainBase:k,getDomainHost:j},q="q",r={"daum.net":q,"eniro.se":"search_word","naver.com":"query","yahoo.com":"p","msn.com":q,"aol.com":q,"ask.com":q,"baidu.com":"wd","yandex.com":"text","rambler.ru":"words",google:q,"bing.com":{p:q,n:"live"}};Object.defineProperty(c,"dotProp",{enumerable:!0,get:function(){return o.default}}),c.decodeUri=e,c.getBrowserLocale=function(){if(n.isBrowser){var a=navigator,b=a.languages;return a.userLanguage||(b&&b.length?b[0]:a.language)}},c.getTimeZone=function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(a){}},c.isExternalReferrer=f,c.isScriptLoaded=function(a){if(!n.isBrowser)return!0;var b=document.getElementsByTagName("script");return!!Object.keys(b).filter(function(c){var d=b[c].src;return n.isString(a)?-1!==d.indexOf(a):!!n.isRegex(a)&&d.match(a)}).length},c.paramsClean=g,c.paramsGet=function(a,b){return e((RegExp(a+"=(.+?)(&|$)").exec(b)||[,""])[1])},c.paramsParse=h,c.paramsRemove=function(a,b){return n.isBrowser?new Promise(function(c,d){if(window.history&&window.history.replaceState){var e=window.location.href,f=g(e,a);e!==f&&history.replaceState({},"",f)}return b&&b(),c()}):Promise.resolve()},c.parseReferrer=function(a,b){if(!n.isBrowser)return!1;var c={source:"(direct)",medium:"(none)",campaign:"(not set)"};a&&f(a)&&(c.referrer=a);var d=function(a){if(!a||!n.isBrowser)return!1;var b=k(a),c=document.createElement("a");if(c.href=a,c.hostname.indexOf("google")>-1&&(b="google"),r[b]){var d=r[b],e=new RegExp(("string"==typeof d?d:d.p)+"=.*?([^&#]*|$)","gi"),g=c.search.match(e);return{source:d.n||l(b),medium:"organic",term:(g?g[0].split("=")[1]:"")||"(not provided)"}}var h=f(a)?"referral":"internal";return{source:c.hostname,medium:h}}(a);d&&Object.keys(d).length&&(c=Object.assign({},c,d));var e=h(b),g=Object.keys(e);if(!g.length)return c;var i=g.reduce(function(a,b){return b.match(/^utm_/)&&(a[""+b.replace(/^utm_/,"")]=e[b]),b.match(/^(d|g)clid/)&&(a.source="google",a.medium=e.gclid?"cpc":"cpm",a[b]=e[b]),a},{});return Object.assign({},c,i)},c.throttle=function(a,b){var c,d,e,f=null,g=0,h=function(){g=new Date,f=null,e=a.apply(c,d)};return function(){var i=new Date;g||(g=i);var j=b-(i-g);return c=this,d=arguments,j<=0?(clearTimeout(f),f=null,g=i,e=a.apply(c,d)):f||(f=setTimeout(h,j)),e}},c.url=p,c.uuid=function(){for(var a="",b=0,c=4294967295*Math.random()|0;b++<36;){var d="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[b-1],e=15&c;a+="-"==d||"4"==d?d:("x"==d?e:3&e|8).toString(16),c=b%8==0?4294967295*Math.random()|0:c>>4}return a}},{"@analytics/type-utils":7,dlv:36}],31:[function(a,b,c){"use strict";function d(a){return a&&"object"==typeof a&&"default"in a?a.default:a}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function g(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?f(c,!0).forEach(function(b){l(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):f(c).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function h(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return j(m(m({},{storage:k}),a))}Object.defineProperty(c,"__esModule",{value:!0});var i=a("@analytics/core"),j=d(i),k=d(a("@analytics/storage-utils")),l=e,m=g;c.EVENTS=i.EVENTS,c.CONSTANTS=i.CONSTANTS,c.default=h,c.init=h,c.Analytics=h},{"@analytics/core":2,"@analytics/storage-utils":6}],32:[function(a,b,c){"use strict";function d(a){var b=a.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=a.indexOf("=");return-1===c&&(c=b),[c,c===b?0:4-c%4]}function e(a){var b=d(a),c=b[0],e=b[1];return 3*(c+e)/4-e}function f(a,b,c){return 3*(b+c)/4-c}function g(a){var b,c,e=d(a),g=e[0],h=e[1],i=new m(f(a,g,h)),j=0,k=h>0?g-4:g;for(c=0;c<k;c+=4)b=l[a.charCodeAt(c)]<<18|l[a.charCodeAt(c+1)]<<12|l[a.charCodeAt(c+2)]<<6|l[a.charCodeAt(c+3)],i[j++]=b>>16&255,i[j++]=b>>8&255,i[j++]=255&b;return 2===h&&(b=l[a.charCodeAt(c)]<<2|l[a.charCodeAt(c+1)]>>4,i[j++]=255&b),1===h&&(b=l[a.charCodeAt(c)]<<10|l[a.charCodeAt(c+1)]<<4|l[a.charCodeAt(c+2)]>>2,i[j++]=b>>8&255,i[j++]=255&b),i}function h(a){return k[a>>18&63]+k[a>>12&63]+k[a>>6&63]+k[63&a]}function i(a,b,c){for(var d,e=[],f=b;f<c;f+=3)d=(a[f]<<16&16711680)+(a[f+1]<<8&65280)+(255&a[f+2]),e.push(h(d));return e.join("")}function j(a){for(var b,c=a.length,d=c%3,e=[],f=16383,g=0,h=c-d;g<h;g+=f)e.push(i(a,g,g+f>h?h:g+f));return 1===d?(b=a[c-1],e.push(k[b>>2]+k[b<<4&63]+"==")):2===d&&(b=(a[c-2]<<8)+a[c-1],e.push(k[b>>10]+k[b>>4&63]+k[b<<2&63]+"=")),e.join("")}c.byteLength=e,c.toByteArray=g,c.fromByteArray=j;for(var k=[],l=[],m="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,p=n.length;o<p;++o)k[o]=n[o],l[n.charCodeAt(o)]=o;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},{}],33:[function(a,b,c){},{}],34:[function(a,b,c){"use strict";var d=[],e=function(a,b){var c=document.head||document.getElementsByTagName("head")[0],e=d[d.length-1];if(b=b||{},b.insertAt=b.insertAt||"bottom","top"===b.insertAt)e?e.nextSibling?c.insertBefore(a,e.nextSibling):c.appendChild(a):c.insertBefore(a,c.firstChild),d.push(a);else{if("bottom"!==b.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");c.appendChild(a)}};b.exports={createLink:function(a,b){var c=document.head||document.getElementsByTagName("head")[0],d=document.createElement("link");d.href=a,d.rel="stylesheet";for(var e in b)if(b.hasOwnProperty(e)){var f=b[e];d.setAttribute("data-"+e,f)}c.appendChild(d)},createStyle:function(a,b,c){c=c||{};var d=document.createElement("style");d.type="text/css";for(var f in b)if(b.hasOwnProperty(f)){var g=b[f];d.setAttribute("data-"+f,g)}d.sheet?(d.innerHTML=a,d.sheet.cssText=a,e(d,{insertAt:c.insertAt})):d.styleSheet?(e(d,{insertAt:c.insertAt}),d.styleSheet.cssText=a):(d.appendChild(document.createTextNode(a)),e(d,{insertAt:c.insertAt}))}}},{}],35:[function(a,b,c){(function(b){(function(){"use strict";function b(){try{var a=new Uint8Array(1);return a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===a.foo()}catch(a){return!1}}function d(a){if(a>X)throw new RangeError('The value "'+a+'" is invalid for option "size"');var b=new Uint8Array(a);return b.__proto__=e.prototype,b}function e(a,b,c){if("number"==typeof a){if("string"==typeof b)throw new TypeError('The "string" argument must be of type string. Received type number');return i(a)}return f(a,b,c)}function f(a,b,c){if("string"==typeof a)return j(a,b);if(ArrayBuffer.isView(a))return k(a);if(null==a)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a);if(T(a,ArrayBuffer)||a&&T(a.buffer,ArrayBuffer))return l(a,b,c);if("number"==typeof a)throw new TypeError('The "value" argument must not be of type number. Received type number');var d=a.valueOf&&a.valueOf();if(null!=d&&d!==a)return e.from(d,b,c);var f=m(a);if(f)return f;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof a[Symbol.toPrimitive])return e.from(a[Symbol.toPrimitive]("string"),b,c);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a)}function g(a){if("number"!=typeof a)throw new TypeError('"size" argument must be of type number');if(a<0)throw new RangeError('The value "'+a+'" is invalid for option "size"')}function h(a,b,c){return g(a),a<=0?d(a):void 0!==b?"string"==typeof c?d(a).fill(b,c):d(a).fill(b):d(a)}function i(a){return g(a),d(a<0?0:0|n(a))}function j(a,b){if("string"==typeof b&&""!==b||(b="utf8"),!e.isEncoding(b))throw new TypeError("Unknown encoding: "+b);var c=0|p(a,b),f=d(c),g=f.write(a,b);return g!==c&&(f=f.slice(0,g)),f}function k(a){for(var b=a.length<0?0:0|n(a.length),c=d(b),e=0;e<b;e+=1)c[e]=255&a[e];return c}function l(a,b,c){if(b<0||a.byteLength<b)throw new RangeError('"offset" is outside of buffer bounds');if(a.byteLength<b+(c||0))throw new RangeError('"length" is outside of buffer bounds');var d;return d=void 0===b&&void 0===c?new Uint8Array(a):void 0===c?new Uint8Array(a,b):new Uint8Array(a,b,c),d.__proto__=e.prototype,d}function m(a){if(e.isBuffer(a)){var b=0|n(a.length),c=d(b);return 0===c.length?c:(a.copy(c,0,0,b),c)}return void 0!==a.length?"number"!=typeof a.length||U(a.length)?d(0):k(a):"Buffer"===a.type&&Array.isArray(a.data)?k(a.data):void 0}function n(a){if(a>=X)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+X.toString(16)+" bytes");return 0|a}function o(a){return+a!=a&&(a=0),e.alloc(+a)}function p(a,b){if(e.isBuffer(a))return a.length;if(ArrayBuffer.isView(a)||T(a,ArrayBuffer))return a.byteLength;if("string"!=typeof a)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof a);var c=a.length,d=arguments.length>2&&!0===arguments[2];if(!d&&0===c)return 0;for(var f=!1;;)switch(b){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":return O(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return R(a).length;default:if(f)return d?-1:O(a).length;b=(""+b).toLowerCase(),f=!0}}function q(a,b,c){var d=!1;if((void 0===b||b<0)&&(b=0),b>this.length)return"";if((void 0===c||c>this.length)&&(c=this.length),c<=0)return"";if(c>>>=0,b>>>=0,c<=b)return"";for(a||(a="utf8");;)switch(a){case"hex":return F(this,b,c);case"utf8":case"utf-8":return B(this,b,c);case"ascii":return D(this,b,c);case"latin1":case"binary":return E(this,b,c);case"base64":return A(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function r(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function s(a,b,c,d,f){if(0===a.length)return-1;if("string"==typeof c?(d=c,c=0):c>2147483647?c=2147483647:c<-2147483648&&(c=-2147483648),c=+c,U(c)&&(c=f?0:a.length-1),c<0&&(c=a.length+c),c>=a.length){if(f)return-1;c=a.length-1}else if(c<0){if(!f)return-1;c=0}if("string"==typeof b&&(b=e.from(b,d)),e.isBuffer(b))return 0===b.length?-1:t(a,b,c,d,f);if("number"==typeof b)return b&=255,"function"==typeof Uint8Array.prototype.indexOf?f?Uint8Array.prototype.indexOf.call(a,b,c):Uint8Array.prototype.lastIndexOf.call(a,b,c):t(a,[b],c,d,f);throw new TypeError("val must be string, number or Buffer")}function t(a,b,c,d,e){function f(a,b){return 1===g?a[b]:a.readUInt16BE(b*g)}var g=1,h=a.length,i=b.length;if(void 0!==d&&("ucs2"===(d=String(d).toLowerCase())||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)){if(a.length<2||b.length<2)return-1;g=2,h/=2,i/=2,c/=2}var j;if(e){var k=-1;for(j=c;j<h;j++)if(f(a,j)===f(b,-1===k?0:j-k)){if(-1===k&&(k=j),j-k+1===i)return k*g}else-1!==k&&(j-=j-k),k=-1}else for(c+i>h&&(c=h-i),j=c;j>=0;j--){for(var l=!0,m=0;m<i;m++)if(f(a,j+m)!==f(b,m)){l=!1;break}if(l)return j}return-1}function u(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d))>e&&(d=e):d=e;var f=b.length;d>f/2&&(d=f/2);for(var g=0;g<d;++g){var h=parseInt(b.substr(2*g,2),16);if(U(h))return g;a[c+g]=h}return g}function v(a,b,c,d){return S(O(b,a.length-c),a,c,d)}function w(a,b,c,d){return S(P(b),a,c,d)}function x(a,b,c,d){return w(a,b,c,d)}function y(a,b,c,d){return S(R(b),a,c,d)}function z(a,b,c,d){return S(Q(b,a.length-c),a,c,d)}function A(a,b,c){return 0===b&&c===a.length?V.fromByteArray(a):V.fromByteArray(a.slice(b,c))}function B(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;e<c;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(e+h<=c){var i,j,k,l;switch(h){case 1:f<128&&(g=f);break;case 2:i=a[e+1],128==(192&i)&&(l=(31&f)<<6|63&i)>127&&(g=l);break;case 3:i=a[e+1],j=a[e+2],128==(192&i)&&128==(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j)>2047&&(l<55296||l>57343)&&(g=l);break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128==(192&i)&&128==(192&j)&&128==(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k)>65535&&l<1114112&&(g=l)}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return C(d)}function C(a){var b=a.length;if(b<=Y)return String.fromCharCode.apply(String,a);for(var c="",d=0;d<b;)c+=String.fromCharCode.apply(String,a.slice(d,d+=Y));return c}function D(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(127&a[e]);return d}function E(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(a[e]);return d}function F(a,b,c){var d=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>d)&&(c=d);for(var e="",f=b;f<c;++f)e+=N(a[f]);return e}function G(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function H(a,b,c){if(a%1!=0||a<0)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function I(a,b,c,d,f,g){if(!e.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>f||b<g)throw new RangeError('"value" argument is out of bounds');if(c+d>a.length)throw new RangeError("Index out of range")}function J(a,b,c,d,e,f){if(c+d>a.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("Index out of range")}function K(a,b,c,d,e){return b=+b,c>>>=0,e||J(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),W.write(a,b,c,d,23,4),c+4}function L(a,b,c,d,e){return b=+b,c>>>=0,e||J(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),W.write(a,b,c,d,52,8),c+8}function M(a){if(a=a.split("=")[0],a=a.trim().replace(Z,""),a.length<2)return"";for(;a.length%4!=0;)a+="=";return a}function N(a){return a<16?"0"+a.toString(16):a.toString(16)}function O(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;g<d;++g){if((c=a.charCodeAt(g))>55295&&c<57344){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=65536+(e-55296<<10|c-56320)}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function P(a){for(var b=[],c=0;c<a.length;++c)b.push(255&a.charCodeAt(c));return b}function Q(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);++g)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function R(a){return V.toByteArray(M(a))}function S(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);++e)b[e+c]=a[e];return e}function T(a,b){return a instanceof b||null!=a&&null!=a.constructor&&null!=a.constructor.name&&a.constructor.name===b.name}function U(a){return a!==a}var V=a("base64-js"),W=a("ieee754");c.Buffer=e,c.SlowBuffer=o,c.INSPECT_MAX_BYTES=50;var X=2147483647;c.kMaxLength=X,e.TYPED_ARRAY_SUPPORT=b(),e.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(e.prototype,"parent",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.buffer}}),Object.defineProperty(e.prototype,"offset",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),e.poolSize=8192,e.from=function(a,b,c){return f(a,b,c)},e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,e.alloc=function(a,b,c){return h(a,b,c)},e.allocUnsafe=function(a){return i(a)},e.allocUnsafeSlow=function(a){return i(a)},e.isBuffer=function(a){return null!=a&&!0===a._isBuffer&&a!==e.prototype},e.compare=function(a,b){if(T(a,Uint8Array)&&(a=e.from(a,a.offset,a.byteLength)),T(b,Uint8Array)&&(b=e.from(b,b.offset,b.byteLength)),!e.isBuffer(a)||!e.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===b)return 0;for(var c=a.length,d=b.length,f=0,g=Math.min(c,d);f<g;++f)if(a[f]!==b[f]){c=a[f],d=b[f];break}return c<d?-1:d<c?1:0},e.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(a,b){if(!Array.isArray(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return e.alloc(0);var c;if(void 0===b)for(b=0,c=0;c<a.length;++c)b+=a[c].length;var d=e.allocUnsafe(b),f=0;for(c=0;c<a.length;++c){var g=a[c];if(T(g,Uint8Array)&&(g=e.from(g)),!e.isBuffer(g))throw new TypeError('"list" argument must be an Array of Buffers');g.copy(d,f),f+=g.length}return d},e.byteLength=p,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var a=this.length;if(a%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var b=0;b<a;b+=2)r(this,b,b+1);return this},e.prototype.swap32=function(){var a=this.length;if(a%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)r(this,b,b+3),r(this,b+1,b+2);return this},e.prototype.swap64=function(){var a=this.length;if(a%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)r(this,b,b+7),r(this,b+1,b+6),r(this,b+2,b+5),r(this,b+3,b+4);return this},e.prototype.toString=function(){var a=this.length;return 0===a?"":0===arguments.length?B(this,0,a):q.apply(this,arguments)},e.prototype.toLocaleString=e.prototype.toString,e.prototype.equals=function(a){if(!e.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||0===e.compare(this,a)},e.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return a=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(a+=" ... "),"<Buffer "+a+">"},e.prototype.compare=function(a,b,c,d,f){if(T(a,Uint8Array)&&(a=e.from(a,a.offset,a.byteLength)),!e.isBuffer(a))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof a);if(void 0===b&&(b=0),void 0===c&&(c=a?a.length:0),void 0===d&&(d=0),void 0===f&&(f=this.length),b<0||c>a.length||d<0||f>this.length)throw new RangeError("out of range index");if(d>=f&&b>=c)return 0;if(d>=f)return-1;if(b>=c)return 1;if(b>>>=0,c>>>=0,d>>>=0,f>>>=0,this===a)return 0;for(var g=f-d,h=c-b,i=Math.min(g,h),j=this.slice(d,f),k=a.slice(b,c),l=0;l<i;++l)if(j[l]!==k[l]){g=j[l],h=k[l];break}return g<h?-1:h<g?1:0},e.prototype.includes=function(a,b,c){return-1!==this.indexOf(a,b,c)},e.prototype.indexOf=function(a,b,c){return s(this,a,b,c,!0)},e.prototype.lastIndexOf=function(a,b,c){return s(this,a,b,c,!1)},e.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else{if(!isFinite(b))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b>>>=0,isFinite(c)?(c>>>=0,void 0===d&&(d="utf8")):(d=c,c=void 0)}var e=this.length-b;if((void 0===c||c>e)&&(c=e),a.length>0&&(c<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");d||(d="utf8");for(var f=!1;;)switch(d){case"hex":return u(this,a,b,c);case"utf8":case"utf-8":return v(this,a,b,c);case"ascii":return w(this,a,b,c);case"latin1":case"binary":return x(this,a,b,c);case"base64":return y(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,a,b,c);default:if(f)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),f=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Y=4096;e.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,a<0?(a+=c)<0&&(a=0):a>c&&(a=c),b<0?(b+=c)<0&&(b=0):b>c&&(b=c),b<a&&(b=a);var d=this.subarray(a,b);return d.__proto__=e.prototype,d},e.prototype.readUIntLE=function(a,b,c){a>>>=0,b>>>=0,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},e.prototype.readUIntBE=function(a,b,c){a>>>=0,b>>>=0,c||H(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},e.prototype.readUInt8=function(a,b){return a>>>=0,b||H(a,1,this.length),this[a]},e.prototype.readUInt16LE=function(a,b){return a>>>=0,b||H(a,2,this.length),this[a]|this[a+1]<<8},e.prototype.readUInt16BE=function(a,b){return a>>>=0,b||H(a,2,this.length),this[a]<<8|this[a+1]},e.prototype.readUInt32LE=function(a,b){return a>>>=0,b||H(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},e.prototype.readUInt32BE=function(a,b){return a>>>=0,b||H(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},e.prototype.readIntLE=function(a,b,c){a>>>=0,b>>>=0,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},e.prototype.readIntBE=function(a,b,c){a>>>=0,b>>>=0,c||H(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},e.prototype.readInt8=function(a,b){return a>>>=0,b||H(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},e.prototype.readInt16LE=function(a,b){a>>>=0,b||H(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},e.prototype.readInt16BE=function(a,b){a>>>=0,b||H(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},e.prototype.readInt32LE=function(a,b){return a>>>=0,b||H(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},e.prototype.readInt32BE=function(a,b){return a>>>=0,b||H(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},e.prototype.readFloatLE=function(a,b){return a>>>=0,b||H(a,4,this.length),W.read(this,a,!0,23,4)},e.prototype.readFloatBE=function(a,b){return a>>>=0,b||H(a,4,this.length),W.read(this,a,!1,23,4)},e.prototype.readDoubleLE=function(a,b){return a>>>=0,b||H(a,8,this.length),W.read(this,a,!0,52,8)},e.prototype.readDoubleBE=function(a,b){return a>>>=0,b||H(a,8,this.length),W.read(this,a,!1,52,8)},e.prototype.writeUIntLE=function(a,b,c,d){if(a=+a,b>>>=0,c>>>=0,!d){I(this,a,b,c,Math.pow(2,8*c)-1,0)}var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},e.prototype.writeUIntBE=function(a,b,c,d){if(a=+a,b>>>=0,c>>>=0,!d){I(this,a,b,c,Math.pow(2,8*c)-1,0)}var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},e.prototype.writeUInt8=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,1,255,0),this[b]=255&a,b+1},e.prototype.writeUInt16LE=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,2,65535,0),this[b]=255&a,this[b+1]=a>>>8,b+2},e.prototype.writeUInt16BE=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,2,65535,0),this[b]=a>>>8,this[b+1]=255&a,b+2},e.prototype.writeUInt32LE=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,4,4294967295,0),this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a,b+4},e.prototype.writeUInt32BE=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,4,4294967295,0),this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a,b+4},e.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b>>>=0,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=0,g=1,h=0;for(this[b]=255&a;++f<c&&(g*=256);)a<0&&0===h&&0!==this[b+f-1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},e.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b>>>=0,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=0;for(this[b+f]=255&a;--f>=0&&(g*=256);)a<0&&0===h&&0!==this[b+f+1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},e.prototype.writeInt8=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,1,127,-128),a<0&&(a=255+a+1),this[b]=255&a,b+1},e.prototype.writeInt16LE=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,2,32767,-32768),this[b]=255&a,this[b+1]=a>>>8,b+2},e.prototype.writeInt16BE=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,2,32767,-32768),this[b]=a>>>8,this[b+1]=255&a,b+2},e.prototype.writeInt32LE=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,4,2147483647,-2147483648),this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24,b+4},e.prototype.writeInt32BE=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a,b+4},e.prototype.writeFloatLE=function(a,b,c){return K(this,a,b,!0,c)},e.prototype.writeFloatBE=function(a,b,c){return K(this,a,b,!1,c)},e.prototype.writeDoubleLE=function(a,b,c){return L(this,a,b,!0,c)},e.prototype.writeDoubleBE=function(a,b,c){return L(this,a,b,!1,c)},e.prototype.copy=function(a,b,c,d){if(!e.isBuffer(a))throw new TypeError("argument should be a Buffer");if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&d<c&&(d=c),d===c)return 0;if(0===a.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var f=d-c;if(this===a&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(b,c,d);else if(this===a&&c<b&&b<d)for(var g=f-1;g>=0;--g)a[g+b]=this[g+c];else Uint8Array.prototype.set.call(a,this.subarray(c,d),b);return f},e.prototype.fill=function(a,b,c,d){if("string"==typeof a){if("string"==typeof b?(d=b,b=0,c=this.length):"string"==typeof c&&(d=c,c=this.length),void 0!==d&&"string"!=typeof d)throw new TypeError("encoding must be a string");if("string"==typeof d&&!e.isEncoding(d))throw new TypeError("Unknown encoding: "+d);if(1===a.length){var f=a.charCodeAt(0);("utf8"===d&&f<128||"latin1"===d)&&(a=f)}}else"number"==typeof a&&(a&=255);if(b<0||this.length<b||this.length<c)throw new RangeError("Out of range index");if(c<=b)return this;b>>>=0,c=void 0===c?this.length:c>>>0,a||(a=0);var g;if("number"==typeof a)for(g=b;g<c;++g)this[g]=a;else{var h=e.isBuffer(a)?a:e.from(a,d),i=h.length;if(0===i)throw new TypeError('The value "'+a+'" is invalid for argument "value"');for(g=0;g<c-b;++g)this[g+b]=h[g%i]}return this};var Z=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,a("buffer").Buffer)},{"base64-js":32,buffer:35,ieee754:39}],36:[function(b,c,d){!function(b,e){"object"==typeof d&&void 0!==c?c.exports=function(a,b,c,d,e){for(b=b.split?b.split("."):b,d=0;d<b.length;d++)a=a?a[b[d]]:e;return a===e?c:a}:"function"==typeof a&&a.amd?a(function(){return function(a,b,c,d,e){for(b=b.split?b.split("."):b,d=0;d<b.length;d++)a=a?a[b[d]]:e;return a===e?c:a}}):b.dlv=function(a,b,c,d,e){for(b=b.split?b.split("."):b,d=0;d<b.length;d++)a=a?a[b[d]]:e;return a===e?c:a}}(this)},{}],37:[function(a,b,c){(function(c){(function(){var d,e=void 0!==c?c:"undefined"!=typeof window?window:{},f=a("min-document");"undefined"!=typeof document?d=document:(d=e["__GLOBAL_DOCUMENT_CACHE@4"])||(d=e["__GLOBAL_DOCUMENT_CACHE@4"]=f),b.exports=d}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":33}],38:[function(a,b,c){(function(a){(function(){var c;c="undefined"!=typeof window?window:void 0!==a?a:"undefined"!=typeof self?self:{},b.exports=c}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],39:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],40:[function(a,b,c){function d(a){if(!a)return!1;var b=e.call(a);return"[object Function]"===b||"function"==typeof a&&"[object RegExp]"!==b||"undefined"!=typeof window&&(a===window.setTimeout||a===window.alert||a===window.confirm||a===window.prompt)}b.exports=d;var e=Object.prototype.toString},{}],41:[function(a,b,c){function d(a){if(a&&"object"==typeof a){var b=a.which||a.keyCode||a.charCode;b&&(a=b)}if("number"==typeof a)return h[a];var c=String(a),d=e[c.toLowerCase()];if(d)return d;var d=f[c.toLowerCase()];return d||(1===c.length?c.charCodeAt(0):void 0)}d.isEventKey=function(a,b){if(a&&"object"==typeof a){var c=a.which||a.keyCode||a.charCode;if(null===c||void 0===c)return!1;if("string"==typeof b){var d=e[b.toLowerCase()];if(d)return d===c;var d=f[b.toLowerCase()];if(d)return d===c}else if("number"==typeof b)return b===c;return!1}},c=b.exports=d;var e=c.code=c.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},f=c.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(g=97;g<123;g++)e[String.fromCharCode(g)]=g-32;for(var g=48;g<58;g++)e[g-48]=g;for(g=1;g<13;g++)e["f"+g]=g+111;for(g=0;g<10;g++)e["numpad "+g]=g+96;var h=c.names=c.title={};for(g in e)h[e[g]]=g;for(var i in f)e[i]=f[i]},{}],42:[function(a,b,c){var d=a("./_getNative"),e=a("./_root"),f=d(e,"DataView");b.exports=f},{"./_getNative":56,"./_root":66}],43:[function(a,b,c){var d=a("./_getNative"),e=a("./_root"),f=d(e,"Map");b.exports=f},{"./_getNative":56,"./_root":66}],44:[function(a,b,c){var d=a("./_getNative"),e=a("./_root"),f=d(e,"Promise");b.exports=f},{"./_getNative":56,"./_root":66}],45:[function(a,b,c){var d=a("./_getNative"),e=a("./_root"),f=d(e,"Set");b.exports=f},{"./_getNative":56,"./_root":66}],46:[function(a,b,c){var d=a("./_root"),e=d.Symbol;b.exports=e},{"./_root":66}],47:[function(a,b,c){var d=a("./_getNative"),e=a("./_root"),f=d(e,"WeakMap");b.exports=f},{"./_getNative":56,"./_root":66}],48:[function(a,b,c){function d(a){return null==a?void 0===a?i:h:j&&j in Object(a)?f(a):g(a)}var e=a("./_Symbol"),f=a("./_getRawTag"),g=a("./_objectToString"),h="[object Null]",i="[object Undefined]",j=e?e.toStringTag:void 0;b.exports=d},{"./_Symbol":46,"./_getRawTag":57,"./_objectToString":64}],49:[function(a,b,c){function d(a){return f(a)&&e(a)==g}var e=a("./_baseGetTag"),f=a("./isObjectLike"),g="[object Arguments]";b.exports=d},{"./_baseGetTag":48,"./isObjectLike":76}],50:[function(a,b,c){function d(a){return!(!g(a)||f(a))&&(e(a)?o:j).test(h(a))}var e=a("./isFunction"),f=a("./_isMasked"),g=a("./isObject"),h=a("./_toSource"),i=/[\\^$.*+?()[\]{}|]/g,j=/^\[object .+?Constructor\]$/,k=Function.prototype,l=Object.prototype,m=k.toString,n=l.hasOwnProperty,o=RegExp("^"+m.call(n).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");b.exports=d},{"./_isMasked":60,"./_toSource":67,"./isFunction":73,"./isObject":75}],51:[function(a,b,c){function d(a){return g(a)&&f(a.length)&&!!h[e(a)]}var e=a("./_baseGetTag"),f=a("./isLength"),g=a("./isObjectLike"),h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h["[object Arguments]"]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h["[object Map]"]=h["[object Number]"]=h["[object Object]"]=h["[object RegExp]"]=h["[object Set]"]=h["[object String]"]=h["[object WeakMap]"]=!1,b.exports=d},{"./_baseGetTag":48,"./isLength":74,"./isObjectLike":76}],52:[function(a,b,c){function d(a){if(!e(a))return f(a);var b=[];for(var c in Object(a))h.call(a,c)&&"constructor"!=c&&b.push(c);return b}var e=a("./_isPrototype"),f=a("./_nativeKeys"),g=Object.prototype,h=g.hasOwnProperty;b.exports=d},{"./_isPrototype":61,"./_nativeKeys":62}],53:[function(a,b,c){function d(a){return function(b){return a(b)}}b.exports=d},{}],54:[function(a,b,c){var d=a("./_root"),e=d["__core-js_shared__"];b.exports=e},{"./_root":66}],55:[function(a,b,c){(function(a){(function(){var c="object"==typeof a&&a&&a.Object===Object&&a;b.exports=c}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],56:[function(a,b,c){function d(a,b){var c=f(a,b);return e(c)?c:void 0}var e=a("./_baseIsNative"),f=a("./_getValue");b.exports=d},{"./_baseIsNative":50,"./_getValue":59}],57:[function(a,b,c){function d(a){var b=g.call(a,i),c=a[i];try{a[i]=void 0;var d=!0}catch(a){}var e=h.call(a);return d&&(b?a[i]=c:delete a[i]),e}var e=a("./_Symbol"),f=Object.prototype,g=f.hasOwnProperty,h=f.toString,i=e?e.toStringTag:void 0;b.exports=d},{"./_Symbol":46}],58:[function(a,b,c){var d=a("./_DataView"),e=a("./_Map"),f=a("./_Promise"),g=a("./_Set"),h=a("./_WeakMap"),i=a("./_baseGetTag"),j=a("./_toSource"),k="[object Map]",l="[object Promise]",m="[object Set]",n="[object WeakMap]",o="[object DataView]",p=j(d),q=j(e),r=j(f),s=j(g),t=j(h),u=i;(d&&u(new d(new ArrayBuffer(1)))!=o||e&&u(new e)!=k||f&&u(f.resolve())!=l||g&&u(new g)!=m||h&&u(new h)!=n)&&(u=function(a){var b=i(a),c="[object Object]"==b?a.constructor:void 0,d=c?j(c):"";if(d)switch(d){case p:return o;case q:return k;case r:return l;case s:return m;case t:return n}return b}),b.exports=u},{"./_DataView":42,"./_Map":43,"./_Promise":44,"./_Set":45,"./_WeakMap":47,"./_baseGetTag":48,"./_toSource":67}],59:[function(a,b,c){function d(a,b){return null==a?void 0:a[b]}b.exports=d},{}],60:[function(a,b,c){function d(a){return!!f&&f in a}var e=a("./_coreJsData"),f=function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();b.exports=d},{"./_coreJsData":54}],61:[function(a,b,c){function d(a){var b=a&&a.constructor;return a===("function"==typeof b&&b.prototype||e)}var e=Object.prototype;b.exports=d},{}],62:[function(a,b,c){var d=a("./_overArg"),e=d(Object.keys,Object);b.exports=e},{"./_overArg":65}],63:[function(a,b,c){var d=a("./_freeGlobal"),e="object"==typeof c&&c&&!c.nodeType&&c,f=e&&"object"==typeof b&&b&&!b.nodeType&&b,g=f&&f.exports===e,h=g&&d.process,i=function(){try{var a=f&&f.require&&f.require("util").types;return a||h&&h.binding&&h.binding("util")}catch(a){}}();b.exports=i},{"./_freeGlobal":55}],64:[function(a,b,c){function d(a){return f.call(a)}var e=Object.prototype,f=e.toString;b.exports=d},{}],65:[function(a,b,c){function d(a,b){return function(c){return a(b(c))}}b.exports=d},{}],66:[function(a,b,c){var d=a("./_freeGlobal"),e="object"==typeof self&&self&&self.Object===Object&&self,f=d||e||Function("return this")();b.exports=f},{"./_freeGlobal":55}],67:[function(a,b,c){function d(a){if(null!=a){try{return f.call(a)}catch(a){}try{return a+""}catch(a){}}return""}var e=Function.prototype,f=e.toString;b.exports=d},{}],68:[function(a,b,c){var d=a("./_baseIsArguments"),e=a("./isObjectLike"),f=Object.prototype,g=f.hasOwnProperty,h=f.propertyIsEnumerable,i=d(function(){return arguments}())?d:function(a){return e(a)&&g.call(a,"callee")&&!h.call(a,"callee")};b.exports=i},{"./_baseIsArguments":49,"./isObjectLike":76}],69:[function(a,b,c){var d=Array.isArray;b.exports=d},{}],70:[function(a,b,c){function d(a){return null!=a&&f(a.length)&&!e(a)}var e=a("./isFunction"),f=a("./isLength");b.exports=d},{"./isFunction":73,"./isLength":74}],71:[function(a,b,c){var d=a("./_root"),e=a("./stubFalse"),f="object"==typeof c&&c&&!c.nodeType&&c,g=f&&"object"==typeof b&&b&&!b.nodeType&&b,h=g&&g.exports===f,i=h?d.Buffer:void 0,j=i?i.isBuffer:void 0,k=j||e;b.exports=k},{"./_root":66,"./stubFalse":78}],72:[function(a,b,c){function d(a){if(null==a)return!0;if(i(a)&&(h(a)||"string"==typeof a||"function"==typeof a.splice||j(a)||l(a)||g(a)))return!a.length;var b=f(a);if(b==m||b==n)return!a.size;if(k(a))return!e(a).length;for(var c in a)if(p.call(a,c))return!1;return!0}var e=a("./_baseKeys"),f=a("./_getTag"),g=a("./isArguments"),h=a("./isArray"),i=a("./isArrayLike"),j=a("./isBuffer"),k=a("./_isPrototype"),l=a("./isTypedArray"),m="[object Map]",n="[object Set]",o=Object.prototype,p=o.hasOwnProperty;b.exports=d},{"./_baseKeys":52,"./_getTag":58,"./_isPrototype":61,"./isArguments":68,"./isArray":69,"./isArrayLike":70,"./isBuffer":71,"./isTypedArray":77}],73:[function(a,b,c){function d(a){if(!f(a))return!1;var b=e(a);return b==h||b==i||b==g||b==j}var e=a("./_baseGetTag"),f=a("./isObject"),g="[object AsyncFunction]",h="[object Function]",i="[object GeneratorFunction]",j="[object Proxy]";b.exports=d},{"./_baseGetTag":48,"./isObject":75}],74:[function(a,b,c){function d(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=e}var e=9007199254740991;b.exports=d},{}],75:[function(a,b,c){function d(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}b.exports=d},{}],76:[function(a,b,c){function d(a){return null!=a&&"object"==typeof a}b.exports=d},{}],77:[function(a,b,c){var d=a("./_baseIsTypedArray"),e=a("./_baseUnary"),f=a("./_nodeUtil"),g=f&&f.isTypedArray,h=g?e(g):d;b.exports=h},{"./_baseIsTypedArray":51,"./_baseUnary":53,"./_nodeUtil":63}],78:[function(a,b,c){function d(){return!1}b.exports=d},{}],79:[function(a,b,c){"use strict";function d(a){return a&&"object"==typeof a&&"default"in a?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("@babel/runtime/helpers/inheritsLoose"),f=a("@videojs/vhs-utils/cjs/stream.js"),g=a("@babel/runtime/helpers/extends"),h=a("@babel/runtime/helpers/assertThisInitialized"),i=a("@videojs/vhs-utils/cjs/decode-b64-to-uint8-array.js"),j=d(e),k=d(f),l=d(g),m=d(h),n=d(i),o=function(a){function b(){var b;return b=a.call(this)||this,b.buffer="",b}return j.default(b,a),b.prototype.push=function(a){var b;for(this.buffer+=a,b=this.buffer.indexOf("\n");b>-1;b=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,b)),this.buffer=this.buffer.substring(b+1)},b}(k.default),p=String.fromCharCode(9),q=function(a){var b=/([0-9.]*)?@?([0-9.]*)?/.exec(a||""),c={};return b[1]&&(c.length=parseInt(b[1],10)),b[2]&&(c.offset=parseInt(b[2],10)),c},r=function(){var a="[^=]*",b='"[^"]*"|[^,]*',c="(?:"+a+")=(?:"+b+")";return new RegExp("(?:^|,)("+c+")")},s=function(a){for(var b,c=a.split(r()),d={},e=c.length;e--;)""!==c[e]&&(b=/([^=]*)=(.*)/.exec(c[e]).slice(1),b[0]=b[0].replace(/^\s+|\s+$/g,""),b[1]=b[1].replace(/^\s+|\s+$/g,""),b[1]=b[1].replace(/^['"](.*)['"]$/g,"$1"),d[b[0]]=b[1]);return d},t=function(a){function b(){var b;return b=a.call(this)||this,b.customParsers=[],b.tagMappers=[],b}j.default(b,a);var c=b.prototype;return c.push=function(a){var b,c,d=this;if(a=a.trim(),0!==a.length){if("#"!==a[0])return void this.trigger("data",{type:"uri",uri:a});this.tagMappers.reduce(function(b,c){var d=c(a);return d===a?b:b.concat([d])},[a]).forEach(function(a){for(var e=0;e<d.customParsers.length;e++)if(d.customParsers[e].call(d,a))return;if(0!==a.indexOf("#EXT"))return void d.trigger("data",{type:"comment",text:a.slice(1)});if(a=a.replace("\r",""),b=/^#EXTM3U/.exec(a))return void d.trigger("data",{type:"tag",tagType:"m3u"});if(b=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(a))return c={type:"tag",tagType:"inf"},b[1]&&(c.duration=parseFloat(b[1])),b[2]&&(c.title=b[2]),void d.trigger("data",c);if(b=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(a))return c={type:"tag",tagType:"targetduration"},b[1]&&(c.duration=parseInt(b[1],10)),void d.trigger("data",c);if(b=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(a))return c={type:"tag",tagType:"version"},b[1]&&(c.version=parseInt(b[1],10)),void d.trigger("data",c);if(b=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(a))return c={type:"tag",tagType:"media-sequence"},b[1]&&(c.number=parseInt(b[1],10)),void d.trigger("data",c);if(b=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(a))return c={type:"tag",tagType:"discontinuity-sequence"},b[1]&&(c.number=parseInt(b[1],10)),void d.trigger("data",c);if(b=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(a))return c={type:"tag",tagType:"playlist-type"},b[1]&&(c.playlistType=b[1]),void d.trigger("data",c);if(b=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(a))return c=l.default(q(b[1]),{type:"tag",tagType:"byterange"}),void d.trigger("data",c);if(b=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(a))return c={type:"tag",tagType:"allow-cache"},b[1]&&(c.allowed=!/NO/.test(b[1])),void d.trigger("data",c);if(b=/^#EXT-X-MAP:?(.*)$/.exec(a)){if(c={type:"tag",tagType:"map"},b[1]){var f=s(b[1]);f.URI&&(c.uri=f.URI),f.BYTERANGE&&(c.byterange=q(f.BYTERANGE))}return void d.trigger("data",c)}if(b=/^#EXT-X-STREAM-INF:?(.*)$/.exec(a)){if(c={type:"tag",tagType:"stream-inf"},b[1]){if(c.attributes=s(b[1]),c.attributes.RESOLUTION){var g=c.attributes.RESOLUTION.split("x"),h={};g[0]&&(h.width=parseInt(g[0],10)),g[1]&&(h.height=parseInt(g[1],10)),c.attributes.RESOLUTION=h}c.attributes.BANDWIDTH&&(c.attributes.BANDWIDTH=parseInt(c.attributes.BANDWIDTH,10)),c.attributes["PROGRAM-ID"]&&(c.attributes["PROGRAM-ID"]=parseInt(c.attributes["PROGRAM-ID"],10))}return void d.trigger("data",c)}return(b=/^#EXT-X-MEDIA:?(.*)$/.exec(a))?(c={type:"tag",tagType:"media"},b[1]&&(c.attributes=s(b[1])),void d.trigger("data",c)):(b=/^#EXT-X-ENDLIST/.exec(a))?void d.trigger("data",{type:"tag",tagType:"endlist"}):(b=/^#EXT-X-DISCONTINUITY/.exec(a))?void d.trigger("data",{type:"tag",tagType:"discontinuity"}):(b=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(a))?(c={type:"tag",tagType:"program-date-time"},b[1]&&(c.dateTimeString=b[1],c.dateTimeObject=new Date(b[1])),void d.trigger("data",c)):(b=/^#EXT-X-KEY:?(.*)$/.exec(a))?(c={type:"tag",tagType:"key"},b[1]&&(c.attributes=s(b[1]),c.attributes.IV&&("0x"===c.attributes.IV.substring(0,2).toLowerCase()&&(c.attributes.IV=c.attributes.IV.substring(2)),c.attributes.IV=c.attributes.IV.match(/.{8}/g),c.attributes.IV[0]=parseInt(c.attributes.IV[0],16),c.attributes.IV[1]=parseInt(c.attributes.IV[1],16),c.attributes.IV[2]=parseInt(c.attributes.IV[2],16),c.attributes.IV[3]=parseInt(c.attributes.IV[3],16),c.attributes.IV=new Uint32Array(c.attributes.IV))),void d.trigger("data",c)):(b=/^#EXT-X-START:?(.*)$/.exec(a))?(c={type:"tag",tagType:"start"},b[1]&&(c.attributes=s(b[1]),c.attributes["TIME-OFFSET"]=parseFloat(c.attributes["TIME-OFFSET"]),c.attributes.PRECISE=/YES/.test(c.attributes.PRECISE)),void d.trigger("data",c)):(b=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(a))?(c={type:"tag",tagType:"cue-out-cont"},b[1]?c.data=b[1]:c.data="",void d.trigger("data",c)):(b=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(a))?(c={type:"tag",tagType:"cue-out"},b[1]?c.data=b[1]:c.data="",void d.trigger("data",c)):(b=/^#EXT-X-CUE-IN:?(.*)?$/.exec(a))?(c={type:"tag",tagType:"cue-in"},b[1]?c.data=b[1]:c.data="",void d.trigger("data",c)):(b=/^#EXT-X-SKIP:(.*)$/.exec(a))&&b[1]?(c={type:"tag",tagType:"skip"},c.attributes=s(b[1]),c.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(c.attributes["SKIPPED-SEGMENTS"]=parseInt(c.attributes["SKIPPED-SEGMENTS"],10)),c.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(c.attributes["RECENTLY-REMOVED-DATERANGES"]=c.attributes["RECENTLY-REMOVED-DATERANGES"].split(p)),void d.trigger("data",c)):(b=/^#EXT-X-PART:(.*)$/.exec(a))&&b[1]?(c={type:"tag",tagType:"part"},c.attributes=s(b[1]),["DURATION"].forEach(function(a){c.attributes.hasOwnProperty(a)&&(c.attributes[a]=parseFloat(c.attributes[a]))}),["INDEPENDENT","GAP"].forEach(function(a){c.attributes.hasOwnProperty(a)&&(c.attributes[a]=/YES/.test(c.attributes[a]))}),c.attributes.hasOwnProperty("BYTERANGE")&&(c.attributes.byterange=q(c.attributes.BYTERANGE)),void d.trigger("data",c)):(b=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(a))&&b[1]?(c={type:"tag",tagType:"server-control"},c.attributes=s(b[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(a){c.attributes.hasOwnProperty(a)&&(c.attributes[a]=parseFloat(c.attributes[a]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(a){c.attributes.hasOwnProperty(a)&&(c.attributes[a]=/YES/.test(c.attributes[a]))}),void d.trigger("data",c)):(b=/^#EXT-X-PART-INF:(.*)$/.exec(a))&&b[1]?(c={type:"tag",tagType:"part-inf"},c.attributes=s(b[1]),["PART-TARGET"].forEach(function(a){c.attributes.hasOwnProperty(a)&&(c.attributes[a]=parseFloat(c.attributes[a]))}),void d.trigger("data",c)):(b=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(a))&&b[1]?(c={type:"tag",tagType:"preload-hint"},c.attributes=s(b[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(a){if(c.attributes.hasOwnProperty(a)){c.attributes[a]=parseInt(c.attributes[a],10);var b="BYTERANGE-LENGTH"===a?"length":"offset";c.attributes.byterange=c.attributes.byterange||{},c.attributes.byterange[b]=c.attributes[a],delete c.attributes[a]}}),void d.trigger("data",c)):(b=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(a))&&b[1]?(c={type:"tag",tagType:"rendition-report"},c.attributes=s(b[1]),["LAST-MSN","LAST-PART"].forEach(function(a){c.attributes.hasOwnProperty(a)&&(c.attributes[a]=parseInt(c.attributes[a],10))}),void d.trigger("data",c)):void d.trigger("data",{type:"tag",data:a.slice(4)})})}},c.addParser=function(a){var b=this,c=a.expression,d=a.customType,e=a.dataParser,f=a.segment;"function"!=typeof e&&(e=function(a){return a}),this.customParsers.push(function(a){if(c.exec(a))return b.trigger("data",{type:"custom",data:e(a),customType:d,segment:f}),!0})},c.addTagMapper=function(a){var b=a.expression,c=a.map,d=function(a){return b.test(a)?c(a):a};this.tagMappers.push(d)},b}(k.default),u=function(a){return a.toLowerCase().replace(/-(\w)/g,function(a){return a[1].toUpperCase()})},v=function(a){var b={};return Object.keys(a).forEach(function(c){b[u(c)]=a[c]}),b},w=function(a){var b=a.serverControl,c=a.targetDuration,d=a.partTargetDuration;if(b){var e="#EXT-X-SERVER-CONTROL",f="holdBack",g="partHoldBack",h=c&&3*c,i=d&&2*d;c&&!b.hasOwnProperty(f)&&(b[f]=h,this.trigger("info",{message:e+" defaulting HOLD-BACK to targetDuration * 3 ("+h+")."})),h&&b[f]<h&&(this.trigger("warn",{message:e+" clamping HOLD-BACK ("+b[f]+") to targetDuration * 3 ("+h+")"}),b[f]=h),d&&!b.hasOwnProperty(g)&&(b[g]=3*d,this.trigger("info",{message:e+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+b[g]+")."})),d&&b[g]<i&&(this.trigger("warn",{message:e+" clamping PART-HOLD-BACK ("+b[g]+") to partTargetDuration * 2 ("+i+")."}),b[g]=i)}},x=function(a){function b(){var b;b=a.call(this)||this,b.lineStream=new o,b.parseStream=new t,b.lineStream.pipe(b.parseStream);var c,d,e=m.default(b),f=[],g={},h=!1,i=function(){},j={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},k="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",p=0;b.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var q=0,r=0;return b.on("end",function(){g.uri||!g.parts&&!g.preloadHints||(!g.map&&c&&(g.map=c),!g.key&&d&&(g.key=d),g.timeline||"number"!=typeof p||(g.timeline=p),b.manifest.preloadSegment=g)}),b.parseStream.on("data",function(a){var b,m;({tag:function(){(({version:function(){a.version&&(this.manifest.version=a.version)},"allow-cache":function(){this.manifest.allowCache=a.allowed,"allowed"in a||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var b={};"length"in a&&(g.byterange=b,b.length=a.length,"offset"in a||(a.offset=q)),"offset"in a&&(g.byterange=b,b.offset=a.offset),q=b.offset+b.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),a.duration>0&&(g.duration=a.duration),0===a.duration&&(g.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=f},key:function(){if(!a.attributes)return void this.trigger("warn",{message:"ignoring key declaration without attribute list"});if("NONE"===a.attributes.METHOD)return void(d=null);if(!a.attributes.URI)return void this.trigger("warn",{message:"ignoring key declaration without URI"});if("com.apple.streamingkeydelivery"===a.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:a.attributes});if(a.attributes.KEYFORMAT===k){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(a.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===a.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==a.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):a.attributes.KEYID&&"0x"===a.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:a.attributes.KEYFORMAT,keyId:a.attributes.KEYID.substring(2)},pssh:n.default(a.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}a.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),d={method:a.attributes.METHOD||"AES-128",uri:a.attributes.URI},void 0!==a.attributes.IV&&(d.iv=a.attributes.IV)},"media-sequence":function(){if(!isFinite(a.number))return void this.trigger("warn",{message:"ignoring invalid media sequence: "+a.number});this.manifest.mediaSequence=a.number},"discontinuity-sequence":function(){if(!isFinite(a.number))return void this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+a.number});this.manifest.discontinuitySequence=a.number,p=a.number},"playlist-type":function(){if(!/VOD|EVENT/.test(a.playlistType))return void this.trigger("warn",{message:"ignoring unknown playlist type: "+a.playlist});this.manifest.playlistType=a.playlistType},map:function(){c={},a.uri&&(c.uri=a.uri),a.byterange&&(c.byterange=a.byterange),d&&(c.key=d)},"stream-inf":function(){if(this.manifest.playlists=f,this.manifest.mediaGroups=this.manifest.mediaGroups||j,!a.attributes)return void this.trigger("warn",{message:"ignoring empty stream-inf attributes"});g.attributes||(g.attributes={}),l.default(g.attributes,a.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||j,!(a.attributes&&a.attributes.TYPE&&a.attributes["GROUP-ID"]&&a.attributes.NAME))return void this.trigger("warn",{message:"ignoring incomplete or missing media group"});var c=this.manifest.mediaGroups[a.attributes.TYPE];c[a.attributes["GROUP-ID"]]=c[a.attributes["GROUP-ID"]]||{},b=c[a.attributes["GROUP-ID"]],m={default:/yes/i.test(a.attributes.DEFAULT)},m.default?m.autoselect=!0:m.autoselect=/yes/i.test(a.attributes.AUTOSELECT),a.attributes.LANGUAGE&&(m.language=a.attributes.LANGUAGE),a.attributes.URI&&(m.uri=a.attributes.URI),a.attributes["INSTREAM-ID"]&&(m.instreamId=a.attributes["INSTREAM-ID"]),a.attributes.CHARACTERISTICS&&(m.characteristics=a.attributes.CHARACTERISTICS),a.attributes.FORCED&&(m.forced=/yes/i.test(a.attributes.FORCED)),b[a.attributes.NAME]=m},discontinuity:function(){p+=1,g.discontinuity=!0,this.manifest.discontinuityStarts.push(f.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=a.dateTimeString,this.manifest.dateTimeObject=a.dateTimeObject),g.dateTimeString=a.dateTimeString,g.dateTimeObject=a.dateTimeObject},targetduration:function(){if(!isFinite(a.duration)||a.duration<0)return void this.trigger("warn",{message:"ignoring invalid target duration: "+a.duration});this.manifest.targetDuration=a.duration,w.call(this,this.manifest)},start:function(){if(!a.attributes||isNaN(a.attributes["TIME-OFFSET"]))return void this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});this.manifest.start={timeOffset:a.attributes["TIME-OFFSET"],precise:a.attributes.PRECISE}},"cue-out":function(){g.cueOut=a.data},"cue-out-cont":function(){g.cueOutCont=a.data},"cue-in":function(){g.cueIn=a.data},skip:function(){this.manifest.skip=v(a.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",a.attributes,["SKIPPED-SEGMENTS"])},part:function(){var b=this;h=!0;var c=this.manifest.segments.length,d=v(a.attributes);g.parts=g.parts||[],g.parts.push(d),d.byterange&&(d.byterange.hasOwnProperty("offset")||(d.byterange.offset=r),r=d.byterange.offset+d.byterange.length);var e=g.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+e+" for segment #"+c,a.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(a,c){a.hasOwnProperty("lastPart")||b.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+c+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var b=this.manifest.serverControl=v(a.attributes);b.hasOwnProperty("canBlockReload")||(b.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),w.call(this,this.manifest),b.canSkipDateranges&&!b.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var b=this.manifest.segments.length,c=v(a.attributes),d=c.type&&"PART"===c.type;g.preloadHints=g.preloadHints||[],g.preloadHints.push(c),c.byterange&&(c.byterange.hasOwnProperty("offset")||(c.byterange.offset=d?r:0,d&&(r=c.byterange.offset+c.byterange.length)));var e=g.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+e+" for segment #"+b,a.attributes,["TYPE","URI"]),c.type)for(var f=0;f<g.preloadHints.length-1;f++){var h=g.preloadHints[f];h.type&&(h.type===c.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+e+" for segment #"+b+" has the same TYPE "+c.type+" as preload hint #"+f}))}},"rendition-report":function(){var b=v(a.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(b);var c=this.manifest.renditionReports.length-1,d=["LAST-MSN","URI"];h&&d.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+c,a.attributes,d)},"part-inf":function(){this.manifest.partInf=v(a.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",a.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),w.call(this,this.manifest)}})[a.tagType]||i).call(e)},uri:function(){g.uri=a.uri,f.push(g),!this.manifest.targetDuration||"duration"in g||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),g.duration=this.manifest.targetDuration),d&&(g.key=d),g.timeline=p,c&&(g.map=c),r=0,g={}},comment:function(){},custom:function(){a.segment?(g.custom=g.custom||{},g.custom[a.customType]=a.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[a.customType]=a.data)}})[a.type].call(e)}),b}j.default(b,a);var c=b.prototype;return c.warnOnMissingAttributes_=function(a,b,c){var d=[];c.forEach(function(a){b.hasOwnProperty(a)||d.push(a)}),d.length&&this.trigger("warn",{message:a+" lacks required attribute(s): "+d.join(", ")})},c.push=function(a){this.lineStream.push(a)},c.end=function(){this.lineStream.push("\n"),this.trigger("end")},c.addParser=function(a){this.parseStream.addParser(a)},c.addTagMapper=function(a){this.parseStream.addTagMapper(a)},b}(k.default);c.LineStream=o,c.ParseStream=t,c.Parser=x},{"@babel/runtime/helpers/assertThisInitialized":8,"@babel/runtime/helpers/extends":10,"@babel/runtime/helpers/inheritsLoose":12,"@videojs/vhs-utils/cjs/decode-b64-to-uint8-array.js":20,"@videojs/vhs-utils/cjs/stream.js":28}],80:[function(a,b,c){"use strict";function d(a){return a&&"object"==typeof a&&"default"in a?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("@videojs/vhs-utils/cjs/resolve-url"),f=a("global/window"),g=a("@videojs/vhs-utils/cjs/decode-b64-to-uint8-array"),h=a("xmldom"),i=d(e),j=d(f),k=d(g),l="0.17.0",m=function(a){return!!a&&"object"==typeof a},n=function a(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return c.reduce(function(b,c){return"object"!=typeof c?b:(Object.keys(c).forEach(function(d){Array.isArray(b[d])&&Array.isArray(c[d])?b[d]=b[d].concat(c[d]):m(b[d])&&m(c[d])?b[d]=a(b[d],c[d]):b[d]=c[d]}),b)},{})},o=function(a){return Object.keys(a).map(function(b){return a[b]})},p=function(a,b){for(var c=[],d=a;d<b;d++)c.push(d);return c},q=function(a){return a.reduce(function(a,b){return a.concat(b)},[])},r=function(a){if(!a.length)return[];for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b},s=function(a,b){return a.reduce(function(a,c,d){return c[b]&&a.push(d),a},[])},t={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},u=function(a){var b=a.baseUrl,c=void 0===b?"":b,d=a.source,e=void 0===d?"":d,f=a.range,g=void 0===f?"":f,h=a.indexRange,j=void 0===h?"":h,k={uri:e,resolvedUri:i.default(c||"",e)};if(g||j){var l=g||j,m=l.split("-"),n=parseInt(m[0],10),o=parseInt(m[1],10);k.byterange={length:o-n+1,offset:n}}return k},v=function(a){var b=a.offset+a.length-1;return a.offset+"-"+b},w=function(a){return a&&"number"!=typeof a&&(a=parseInt(a,10)),isNaN(a)?null:a},x={static:function(a){var b=a.duration,c=a.timescale,d=void 0===c?1:c,e=a.sourceDuration,f=w(a.endNumber);return{start:0,end:"number"==typeof f?f:Math.ceil(e/(b/d))}},dynamic:function(a){var b=a.NOW,c=a.clientOffset,d=a.availabilityStartTime,e=a.timescale,f=void 0===e?1:e,g=a.duration,h=a.start,i=void 0===h?0:h,j=a.minimumUpdatePeriod,k=void 0===j?0:j,l=a.timeShiftBufferDepth,m=void 0===l?1/0:l,n=w(a.endNumber),o=(b+c)/1e3,p=d+i,q=o+k,r=q-p,s=Math.ceil(r*f/g),t=Math.floor((o-p-m)*f/g),u=Math.floor((o-p)*f/g);return{start:Math.max(0,t),end:"number"==typeof n?n:Math.min(s,u)}}},y=function(a){return function(b,c){var d=a.duration,e=a.timescale,f=void 0===e?1:e,g=a.periodIndex,h=a.startNumber;return{number:(void 0===h?1:h)+b,duration:d/f,timeline:g,time:c*d}}},z=function(a){var b=a.type,c=void 0===b?"static":b,d=a.duration,e=a.timescale,f=void 0===e?1:e,g=a.sourceDuration,h=x[c](a),i=h.start,j=h.end,k=p(i,j).map(y(a));if("static"===c){var l=k.length-1;k[l].duration=g-d/f*l}return k},A=function(a){var b=a.baseUrl,c=a.initialization,d=void 0===c?{}:c,e=a.sourceDuration,f=a.indexRange,g=void 0===f?"":f,h=a.duration;if(!b)throw new Error(t.NO_BASE_URL);var i=u({baseUrl:b,source:d.sourceURL,range:d.range}),j=u({baseUrl:b,source:b,indexRange:g});if(j.map=i,h){var k=z(a);k.length&&(j.duration=k[0].duration,j.timeline=k[0].timeline)}else e&&(j.duration=e,j.timeline=0);return j.number=0,[j]},B=function(a,b,c){for(var d=a.sidx.map?a.sidx.map:null,e=a.sidx.duration,f=a.timeline||0,g=a.sidx.byterange,h=g.offset+g.length,i=b.timescale,j=b.references.filter(function(a){return 1!==a.referenceType}),k=[],l=h+b.firstOffset,m=0;m<j.length;m++){var n=b.references[m],o=n.referencedSize,p=n.subsegmentDuration,q=l+o-1,r=l+"-"+q,s={baseUrl:c,timescale:i,timeline:f,periodIndex:f,duration:p,sourceDuration:e,indexRange:r},t=A(s)[0];d&&(t.map=d),k.push(t),l+=o}return a.segments=k,a},C=function(a){return a&&a.uri+"-"+v(a.byterange)},D=function(a){return o(a.reduce(function(a,b){var c=b.attributes.id+(b.attributes.lang||"");if(a[c]){var d;b.segments[0]&&(b.segments[0].discontinuity=!0),(d=a[c].segments).push.apply(d,b.segments),b.attributes.contentProtection&&(a[c].attributes.contentProtection=b.attributes.contentProtection)}else a[c]=b;return a},{})).map(function(a){return a.discontinuityStarts=s(a.segments,"discontinuity"),a})},E=function(a,b){var c=C(a.sidx),d=c&&b[c]&&b[c].sidx;return d&&B(a,d,a.sidx.resolvedUri),a},F=function(a,b){if(void 0===b&&(b={}),!Object.keys(b).length)return a;for(var c in a)a[c]=E(a[c],b);return a},G=function(a,b){var c,d=a.attributes,e=a.segments,f=a.sidx,g={attributes:(c={NAME:d.id,BANDWIDTH:d.bandwidth,CODECS:d.codecs},c["PROGRAM-ID"]=1,c),uri:"",endList:"static"===(d.type||"static"),timeline:d.periodIndex,resolvedUri:"",targetDuration:d.duration,segments:e,mediaSequence:e.length?e[0].number:1};return d.contentProtection&&(g.contentProtection=d.contentProtection),f&&(g.sidx=f),b&&(g.attributes.AUDIO="audio",g.attributes.SUBTITLES="subs"),g},H=function(a){var b,c=a.attributes,d=a.segments;void 0===d&&(d=[{uri:c.baseUrl,timeline:c.periodIndex,resolvedUri:c.baseUrl||"",duration:c.sourceDuration,number:0}],c.duration=c.sourceDuration);var e=(b={NAME:c.id,BANDWIDTH:c.bandwidth},b["PROGRAM-ID"]=1,b);return c.codecs&&(e.CODECS=c.codecs),{attributes:e,uri:"",endList:"static"===(c.type||"static"),timeline:c.periodIndex,resolvedUri:c.baseUrl||"",targetDuration:c.duration,segments:d,mediaSequence:d.length?d[0].number:1}},I=function(a,b,c){void 0===b&&(b={}),void 0===c&&(c=!1);var d,e=a.reduce(function(a,e){var f=e.attributes.role&&e.attributes.role.value||"",g=e.attributes.lang||"",h=e.attributes.label||"main";if(g&&!e.attributes.label){var i=f?" ("+f+")":"";h=""+e.attributes.lang+i}a[h]||(a[h]={language:g,autoselect:!0,default:"main"===f,playlists:[],uri:""});var j=E(G(e,c),b);return a[h].playlists.push(j),void 0===d&&"main"===f&&(d=e,d.default=!0),a},{});if(!d){e[Object.keys(e)[0]].default=!0}return e},J=function(a,b){return void 0===b&&(b={}),a.reduce(function(a,c){var d=c.attributes.lang||"text";return a[d]||(a[d]={language:d,default:!1,autoselect:!1,playlists:[],uri:""}),a[d].playlists.push(E(H(c),b)),a},{})},K=function(a){return a.reduce(function(a,b){return b?(b.forEach(function(b){var c=b.channel,d=b.language;a[d]={autoselect:!1,default:!1,instreamId:c,language:d},b.hasOwnProperty("aspectRatio")&&(a[d].aspectRatio=b.aspectRatio),b.hasOwnProperty("easyReader")&&(a[d].easyReader=b.easyReader),b.hasOwnProperty("3D")&&(a[d]["3D"]=b["3D"])}),a):a},{})},L=function(a){var b,c=a.attributes,d=a.segments,e=a.sidx,f={attributes:(b={NAME:c.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:c.width,height:c.height},CODECS:c.codecs,BANDWIDTH:c.bandwidth},b["PROGRAM-ID"]=1,b),uri:"",endList:"static"===(c.type||"static"),timeline:c.periodIndex,resolvedUri:"",targetDuration:c.duration,segments:d,mediaSequence:d.length?d[0].number:1};return c.contentProtection&&(f.contentProtection=c.contentProtection),e&&(f.sidx=e),f},M=function(a){var b=a.attributes;return"video/mp4"===b.mimeType||"video/webm"===b.mimeType||"video"===b.contentType},N=function(a){var b=a.attributes;return"audio/mp4"===b.mimeType||"audio/webm"===b.mimeType||"audio"===b.contentType},O=function(a){var b=a.attributes;return"text/vtt"===b.mimeType||"text"===b.contentType},P=function(a,b,c){var d;if(void 0===c&&(c={}),!a.length)return{};var e=a[0].attributes,f=e.sourceDuration,g=e.type,h=void 0===g?"static":g,i=e.suggestedPresentationDelay,j=e.minimumUpdatePeriod,k=D(a.filter(M)).map(L),l=D(a.filter(N)),m=a.filter(O),n=a.map(function(a){return a.attributes.captionServices}).filter(Boolean),o={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(d={AUDIO:{},VIDEO:{}},d["CLOSED-CAPTIONS"]={},d.SUBTITLES={},d),uri:"",duration:f,playlists:F(k,c)};j>=0&&(o.minimumUpdatePeriod=1e3*j),b&&(o.locations=b),"dynamic"===h&&(o.suggestedPresentationDelay=i);var p=0===o.playlists.length;return l.length&&(o.mediaGroups.AUDIO.audio=I(l,c,p)),m.length&&(o.mediaGroups.SUBTITLES.subs=J(m,c)),n.length&&(o.mediaGroups["CLOSED-CAPTIONS"].cc=K(n)),o},Q=function(a,b,c){var d=a.NOW,e=a.clientOffset,f=a.availabilityStartTime,g=a.timescale,h=void 0===g?1:g,i=a.start,j=void 0===i?0:i,k=a.minimumUpdatePeriod,l=void 0===k?0:k,m=(d+e)/1e3,n=f+j,o=m+l,p=o-n;return Math.ceil((p*h-b)/c)},R=function(a,b){for(var c=a.type,d=void 0===c?"static":c,e=a.minimumUpdatePeriod,f=void 0===e?0:e,g=a.media,h=void 0===g?"":g,i=a.sourceDuration,j=a.timescale,k=void 0===j?1:j,l=a.startNumber,m=void 0===l?1:l,n=a.periodIndex,o=[],p=-1,q=0;q<b.length;q++){var r=b[q],s=r.d,t=r.r||0,u=r.t||0;p<0&&(p=u),u&&u>p&&(p=u);var v=void 0;if(t<0){var w=q+1;v=w===b.length?"dynamic"===d&&f>0&&h.indexOf("$Number$")>0?Q(a,p,s):(i*k-p)/s:(b[w].t-p)/s}else v=t+1;for(var x=m+o.length+v,y=m+o.length;y<x;)o.push({number:y,duration:s/k,time:p,timeline:n}),p+=s,y++}return o},S=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,T=function(a){return function(b,c,d,e){if("$$"===b)return"$";if(void 0===a[c])return b;var f=""+a[c];return"RepresentationID"===c?f:(e=d?parseInt(e,10):1,f.length>=e?f:""+new Array(e-f.length+1).join("0")+f)}},U=function(a,b){return a.replace(S,T(b))},V=function(a,b){return a.duration||b?a.duration?z(a):R(a,b):[{number:a.startNumber||1,duration:a.sourceDuration,time:0,timeline:a.periodIndex}]},W=function(a,b){var c={RepresentationID:a.id,Bandwidth:a.bandwidth||0},d=a.initialization,e=void 0===d?{sourceURL:"",range:""}:d,f=u({baseUrl:a.baseUrl,source:U(e.sourceURL,c),range:e.range});return V(a,b).map(function(b){c.Number=b.number,c.Time=b.time;var d=U(a.media||"",c),e={uri:d,timeline:b.timeline,duration:b.duration,resolvedUri:i.default(a.baseUrl||"",d),map:f,number:b.number};return a.presentationTimeOffset&&(e.presentationTimeOffset=a.presentationTimeOffset),e})},X=function(a,b){var c=a.baseUrl,d=a.initialization,e=void 0===d?{}:d,f=u({baseUrl:c,source:e.sourceURL,range:e.range}),g=u({baseUrl:c,source:b.media,range:b.mediaRange});return g.map=f,g},Y=function(a,b){var c=a.duration,d=a.segmentUrls,e=void 0===d?[]:d;if(!c&&!b||c&&b)throw new Error(t.SEGMENT_TIME_UNSPECIFIED);var f,g=e.map(function(b){return X(a,b)});return c&&(f=z(a)),b&&(f=R(a,b)),f.map(function(a,b){if(g[b]){var c=g[b];return c.timeline=a.timeline,c.duration=a.duration,c.number=a.number,c}}).filter(function(a){return a})},Z=function(a){var b,c,d=a.attributes,e=a.segmentInfo;e.template?(c=W,b=n(d,e.template),e.template.presentationTimeOffset&&(b.presentationTimeOffset=e.template.presentationTimeOffset/e.template.timescale)):e.base?(c=A,b=n(d,e.base)):e.list&&(c=Y,b=n(d,e.list));var f={attributes:d};if(!c)return f;var g=c(b,e.timeline);if(b.duration){var h=b,i=h.duration,j=h.timescale,k=void 0===j?1:j;b.duration=i/k}else g.length?b.duration=g.reduce(function(a,b){return Math.max(a,Math.ceil(b.duration))},0):b.duration=0;return f.attributes=b,f.segments=g,e.base&&b.indexRange&&(f.sidx=g[0],f.segments=[]),f},$=function(a){return a.map(Z)},_=function(a,b){return r(a.childNodes).filter(function(a){return a.tagName===b})},aa=function(a){return a.textContent.trim()},ba=function(a){var b=31536e3,c=2592e3,d=86400,e=3600,f=60,g=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,h=g.exec(a);if(!h)return 0;var i=h.slice(1),j=i[0],k=i[1],l=i[2],m=i[3],n=i[4],o=i[5];return parseFloat(j||0)*b+parseFloat(k||0)*c+parseFloat(l||0)*d+parseFloat(m||0)*e+parseFloat(n||0)*f+parseFloat(o||0)},ca=function(a){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(a)&&(a+="Z"),Date.parse(a)},da={mediaPresentationDuration:function(a){return ba(a)},availabilityStartTime:function(a){return ca(a)/1e3},minimumUpdatePeriod:function(a){return ba(a)},suggestedPresentationDelay:function(a){return ba(a)},type:function(a){return a},timeShiftBufferDepth:function(a){return ba(a)},start:function(a){return ba(a)},width:function(a){return parseInt(a,10)},height:function(a){return parseInt(a,10)},bandwidth:function(a){return parseInt(a,10)},startNumber:function(a){return parseInt(a,10)},timescale:function(a){return parseInt(a,10)},presentationTimeOffset:function(a){return parseInt(a,10)},duration:function(a){var b=parseInt(a,10);return isNaN(b)?ba(a):b},d:function(a){return parseInt(a,10)},t:function(a){return parseInt(a,10)},r:function(a){return parseInt(a,10)},DEFAULT:function(a){return a}},ea=function(a){return a&&a.attributes?r(a.attributes).reduce(function(a,b){var c=da[b.name]||da.DEFAULT;return a[b.name]=c(b.value),a},{}):{}},fa={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},ga=function(a,b){return b.length?q(a.map(function(a){return b.map(function(b){return i.default(a,aa(b))})})):a},ha=function(a){var b=_(a,"SegmentTemplate")[0],c=_(a,"SegmentList")[0],d=c&&_(c,"SegmentURL").map(function(a){return n({tag:"SegmentURL"},ea(a))}),e=_(a,"SegmentBase")[0],f=c||b,g=f&&_(f,"SegmentTimeline")[0],h=c||e||b,i=h&&_(h,"Initialization")[0],j=b&&ea(b);j&&i?j.initialization=i&&ea(i):j&&j.initialization&&(j.initialization={sourceURL:j.initialization});var k={template:j,timeline:g&&_(g,"S").map(function(a){return ea(a)}),list:c&&n(ea(c),{segmentUrls:d,initialization:ea(i)}),base:e&&n(ea(e),{initialization:ea(i)})};return Object.keys(k).forEach(function(a){k[a]||delete k[a]}),k},ia=function(a,b,c){return function(d){var e=_(d,"BaseURL"),f=ga(b,e),g=n(a,ea(d)),h=ha(d);return f.map(function(a){return{segmentInfo:n(c,h),attributes:n(g,{baseUrl:a})}})}},ja=function(a){return a.reduce(function(a,b){var c=ea(b),d=fa[c.schemeIdUri];if(d){a[d]={attributes:c};var e=_(b,"cenc:pssh")[0];if(e){var f=aa(e),g=f&&k.default(f);a[d].pssh=g}}return a},{})},ka=function(a){if("urn:scte:dash:cc:cea-608:2015"===a.schemeIdUri){return a.value.split(";").map(function(a){var b,c;if(c=a,/^CC\d=/.test(a)){var d=a.split("=");b=d[0],c=d[1]}else/^CC\d$/.test(a)&&(b=a);return{channel:b,language:c}})}if("urn:scte:dash:cc:cea-708:2015"===a.schemeIdUri){return a.value.split(";").map(function(a){var b={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(a)){var c=a.split("="),d=c[0],e=c[1],f=void 0===e?"":e;b.channel=d,b.language=a,f.split(",").forEach(function(a){var c=a.split(":"),d=c[0],e=c[1];"lang"===d?b.language=e:"er"===d?b.easyReader=Number(e):"war"===d?b.aspectRatio=Number(e):"3D"===d&&(b["3D"]=Number(e))})}else b.language=a;return b.channel&&(b.channel="SERVICE"+b.channel),b})}},la=function(a,b,c){return function(d){var e=ea(d),f=ga(b,_(d,"BaseURL")),g=_(d,"Role")[0],h={role:ea(g)},i=n(a,e,h),j=_(d,"Accessibility")[0],k=ka(ea(j));k&&(i=n(i,{captionServices:k}));var l=_(d,"Label")[0];if(l&&l.childNodes.length){var m=l.childNodes[0].nodeValue.trim();i=n(i,{label:m})}var o=ja(_(d,"ContentProtection"));Object.keys(o).length&&(i=n(i,{contentProtection:o}));var p=ha(d),r=_(d,"Representation"),s=n(c,p);return q(r.map(ia(i,f,s)))}},ma=function(a,b){return function(c,d){var e=ga(b,_(c,"BaseURL")),f=ea(c),g=parseInt(f.id,10),h=j.default.isNaN(g)?d:g,i=n(a,{periodIndex:h}),k=_(c,"AdaptationSet"),l=ha(c);return q(k.map(la(i,e,l)))}},na=function(a,b){void 0===b&&(b={});var c=b,d=c.manifestUri,e=void 0===d?"":d,f=c.NOW,g=void 0===f?Date.now():f,h=c.clientOffset,i=void 0===h?0:h,j=_(a,"Period");if(!j.length)throw new Error(t.INVALID_NUMBER_OF_PERIOD);var k=_(a,"Location"),l=ea(a),m=ga([e],_(a,"BaseURL"));return l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=g,l.clientOffset=i,k.length&&(l.locations=k.map(aa)),{locations:l.locations,representationInfo:q(j.map(ma(l,m)))}},oa=function(a){if(""===a)throw new Error(t.DASH_EMPTY_MANIFEST);var b,c,d=new h.DOMParser;try{b=d.parseFromString(a,"application/xml"),c=b&&"MPD"===b.documentElement.tagName?b.documentElement:null}catch(a){}if(!c||c&&c.getElementsByTagName("parsererror").length>0)throw new Error(t.DASH_INVALID_XML);return c},pa=function(a){var b=_(a,"UTCTiming")[0];if(!b)return null;var c=ea(b);switch(c.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":c.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":c.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":c.method="DIRECT",c.value=Date.parse(c.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(t.UNSUPPORTED_UTC_TIMING_SCHEME)}return c},qa=l,ra=function(a,b){void 0===b&&(b={});var c=na(oa(a),b),d=$(c.representationInfo);return P(d,c.locations,b.sidxMapping)},sa=function(a){return pa(oa(a))};c.VERSION=qa,c.addSidxSegmentsToPlaylist=B,c.generateSidxKey=C,c.inheritAttributes=na,c.parse=ra,c.parseUTCTiming=sa,c.stringToMpdXml=oa,c.toM3u8=P,c.toPlaylists=$},{"@videojs/vhs-utils/cjs/decode-b64-to-uint8-array":20,"@videojs/vhs-utils/cjs/resolve-url":27,"global/window":38,xmldom:97}],81:[function(a,b,c){var d=Math.pow(2,32),e=function(a){var b=new DataView(a.buffer,a.byteOffset,a.byteLength),c={version:a[0],flags:new Uint8Array(a.subarray(1,4)),references:[],referenceId:b.getUint32(4),timescale:b.getUint32(8)},e=12;0===c.version?(c.earliestPresentationTime=b.getUint32(e),c.firstOffset=b.getUint32(e+4),e+=8):(c.earliestPresentationTime=b.getUint32(e)*d+b.getUint32(e+4),c.firstOffset=b.getUint32(e+8)*d+b.getUint32(e+12),e+=16),e+=2;var f=b.getUint16(e);for(e+=2;f>0;e+=12,f--)c.references.push({referenceType:(128&a[e])>>>7,referencedSize:2147483647&b.getUint32(e),subsegmentDuration:b.getUint32(e+4),startsWithSap:!!(128&a[e+8]),sapType:(112&a[e+8])>>>4,sapDeltaTime:268435455&b.getUint32(e+8)});return c};b.exports=e},{}],82:[function(a,b,c){var d,e,f,g,h,i,j,k=9e4;d=function(a){return a*k},e=function(a,b){return a*b},f=function(a){return a/k},g=function(a,b){return a/b},h=function(a,b){return d(g(a,b))},i=function(a,b){return e(f(a),b)},j=function(a,b,c){return f(c?a:a-b)},b.exports={ONE_SECOND_IN_TS:k,secondsToVideoTs:d,secondsToAudioTs:e,videoTsToSeconds:f,audioTsToSeconds:g,audioTsToVideoTs:h,videoTsToAudioTs:i,metadataTsToSeconds:j}},{}],83:[function(a,b,c){function d(a,b){var c,d=null;try{c=JSON.parse(a,b)}catch(a){d=a}return[d,c]}b.exports=d},{}],84:[function(b,c,d){!function(b,e){"use strict";var f="",g="?",h="function",i="undefined",j="object",k="string",l="model",m="name",n="type",o="vendor",p="version",q="architecture",r="console",s="mobile",t="tablet",u="smarttv",v="wearable",w="embedded",x=255,y={extend:function(a,b){var c={};for(var d in a)b[d]&&b[d].length%2==0?c[d]=b[d].concat(a[d]):c[d]=a[d];return c},has:function(a,b){return typeof a===k&&-1!==b.toLowerCase().indexOf(a.toLowerCase())},lowerize:function(a){return a.toLowerCase()},major:function(a){return typeof a===k?a.replace(/[^\d\.]/g,"").split(".")[0]:e},trim:function(a,b){return a=a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),typeof b===i?a:a.substring(0,x)}},z={rgx:function(a,b){for(var c,d,f,g,i,k,l=0;l<b.length&&!i;){var m=b[l],n=b[l+1];for(c=d=0;c<m.length&&!i;)if(i=m[c++].exec(a))for(f=0;f<n.length;f++)k=i[++d],g=n[f],typeof g===j&&g.length>0?2==g.length?typeof g[1]==h?this[g[0]]=g[1].call(this,k):this[g[0]]=g[1]:3==g.length?typeof g[1]!==h||g[1].exec&&g[1].test?this[g[0]]=k?k.replace(g[1],g[2]):e:this[g[0]]=k?g[1].call(this,k,g[2]):e:4==g.length&&(this[g[0]]=k?g[3].call(this,k.replace(g[1],g[2])):e):this[g]=k||e;l+=2}},str:function(a,b){for(var c in b)if(typeof b[c]===j&&b[c].length>0){for(var d=0;d<b[c].length;d++)if(y.has(b[c][d],a))return c===g?e:c}else if(y.has(b[c],a))return c===g?e:c;return a}},A={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},B={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[m,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[m,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[m,p],[/opios[\/\s]+([\w\.]+)/i],[p,[m,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[p,[m,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[m,p],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[p,[m,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[p,[m,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[m,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[p,[m,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[m,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure Browser"],p],[/focus\/([\w\.]+)/i],[p,[m,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[p,[m,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[p,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[m,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[p,[m,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[p,[m,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[m,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1 Browser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[m,/_/g," "],p],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[m,p],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[m],[/;fbav\/([\w\.]+);/i],[p,[m,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[m,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[m,p],[/\bgsa\/([\w\.]+)\s.*safari\//i],[p,[m,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[p,[m,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[m,"Chrome WebView"],p],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[p,[m,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[m,p],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[p,[m,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[p,m],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[m,[p,z.str,A.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[m,p],[/(navigator|netscape)\/([\w\.-]+)/i],[[m,"Netscape"],p],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[p,[m,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[m,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[q,"amd64"]],[/(ia32(?=;))/i],[[q,y.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[q,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[q,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[q,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[q,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[q,/ower/,"",y.lowerize]],[/(sun4\w)[;\)]/i],[[q,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[q,y.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[l,[o,"Samsung"],[n,t]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[l,[o,"Samsung"],[n,s]],[/\((ip(?:hone|od)[\s\w]*);/i],[l,[o,"Apple"],[n,s]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[o,"Apple"],[n,t]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[l,[o,"Huawei"],[n,t]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[l,[o,"Huawei"],[n,s]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[l,/_/g," "],[o,"Xiaomi"],[n,s]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[l,/_/g," "],[o,"Xiaomi"],[n,t]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[l,[o,"OPPO"],[n,s]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[l,[o,"Vivo"],[n,s]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[l,[o,"Realme"],[n,s]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[l,[o,"Motorola"],[n,s]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[l,[o,"Motorola"],[n,t]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[l,[o,"LG"],[n,t]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[l,[o,"LG"],[n,s]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[l,[o,"Lenovo"],[n,t]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[l,/_/g," "],[o,"Nokia"],[n,s]],[/droid.+;\s(pixel\sc)[\s)]/i],[l,[o,"Google"],[n,t]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[l,[o,"Google"],[n,s]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[o,"Sony"],[n,s]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[l,"Xperia Tablet"],[o,"Sony"],[n,t]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[l,[o,"OnePlus"],[n,s]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[l,[o,"Amazon"],[n,t]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[l,"Fire Phone"],[o,"Amazon"],[n,s]],[/\((playbook);[\w\s\),;-]+(rim)/i],[l,o,[n,t]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[l,[o,"BlackBerry"],[n,s]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[l,[o,"ASUS"],[n,t]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[l,[o,"ASUS"],[n,s]],[/(nexus\s9)/i],[l,[o,"HTC"],[n,t]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[o,[l,/_/g," "],[n,s]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[l,[o,"Acer"],[n,t]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[l,[o,"Meizu"],[n,s]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[o,l,[n,s]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[o,l,[n,t]],[/\s(surface\sduo)\s/i],[l,[o,"Microsoft"],[n,t]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[l,[o,"Fairphone"],[n,s]],[/\s(u304aa)\sbuild/i],[l,[o,"AT&T"],[n,s]],[/sie-(\w*)/i],[l,[o,"Siemens"],[n,s]],[/[;\/]\s?(rct\w+)\sbuild/i],[l,[o,"RCA"],[n,t]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[l,[o,"Dell"],[n,t]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[l,[o,"Verizon"],[n,t]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[l,[o,"Barnes & Noble"],[n,t]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[l,[o,"NuVision"],[n,t]],[/;\s(k88)\sbuild/i],[l,[o,"ZTE"],[n,t]],[/;\s(nx\d{3}j)\sbuild/i],[l,[o,"ZTE"],[n,s]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[l,[o,"Swiss"],[n,s]],[/[;\/]\s?(zur\d{3})\sbuild/i],[l,[o,"Swiss"],[n,t]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[l,[o,"Zeki"],[n,t]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[o,"Dragon Touch"],l,[n,t]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[l,[o,"Insignia"],[n,t]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[l,[o,"NextBook"],[n,t]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[o,"Voice"],l,[n,s]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[o,"LvTel"],l,[n,s]],[/;\s(ph-1)\s/i],[l,[o,"Essential"],[n,s]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[l,[o,"Envizen"],[n,t]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[l,[o,"MachSpeed"],[n,t]],[/[;\/]\s?tu_(1491)\sbuild/i],[l,[o,"Rotor"],[n,t]],[/(shield[\w\s]+)\sbuild/i],[l,[o,"Nvidia"],[n,t]],[/(sprint)\s(\w+)/i],[o,l,[n,s]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[o,"Microsoft"],[n,s]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[o,"Zebra"],[n,t]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[o,"Zebra"],[n,s]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[o,l,[n,r]],[/droid.+;\s(shield)\sbuild/i],[l,[o,"Nvidia"],[n,r]],[/(playstation\s[345portablevi]+)/i],[l,[o,"Sony"],[n,r]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[l,[o,"Microsoft"],[n,r]],[/smart-tv.+(samsung)/i],[o,[n,u]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[o,"Samsung"],[n,u]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[o,"LG"],[n,u]],[/(apple)\s?tv/i],[o,[l,"Apple TV"],[n,u]],[/crkey/i],[[l,"Chromecast"],[o,"Google"],[n,u]],[/droid.+aft([\w])(\sbuild\/|\))/i],[l,[o,"Amazon"],[n,u]],[/\(dtv[\);].+(aquos)/i],[l,[o,"Sharp"],[n,u]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[o,y.trim],[l,y.trim],[n,u]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[n,u]],[/((pebble))app\/[\d\.]+\s/i],[o,l,[n,v]],[/droid.+;\s(glass)\s\d/i],[l,[o,"Google"],[n,v]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[l,[o,"Zebra"],[n,v]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[o,[n,w]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[l,[n,s]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[l,[n,t]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[n,y.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[l,[o,"Generic"]],[/(phone)/i],[[n,s]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[p,[m,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[m,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,m]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[m,p],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[m,[p,z.str,A.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[m,"Windows"],[p,z.str,A.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[m,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[m,"Mac OS"],[p,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[m,p],[/\(bb(10);/i],[p,[m,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[p,[m,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[m,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[m,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[m,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[m,"Chromium OS"],p],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[m,p],[/(sunos)\s?([\w\.\d]*)/i],[[m,"Solaris"],p],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[m,p]]},C=function(a,c){if("object"==typeof a&&(c=a,a=e),!(this instanceof C))return new C(a,c).getResult();var d=a||(void 0!==b&&b.navigator&&b.navigator.userAgent?b.navigator.userAgent:f),g=c?y.extend(B,c):B;return this.getBrowser=function(){var a={name:e,version:e};return z.rgx.call(a,d,g.browser),a.major=y.major(a.version),a},this.getCPU=function(){var a={architecture:e};return z.rgx.call(a,d,g.cpu),a},this.getDevice=function(){var a={vendor:e,model:e,type:e};return z.rgx.call(a,d,g.device),a},this.getEngine=function(){var a={name:e,version:e};return z.rgx.call(a,d,g.engine),a},this.getOS=function(){var a={name:e,version:e};return z.rgx.call(a,d,g.os),a},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return d},this.setUA=function(a){return d=typeof a===k&&a.length>x?y.trim(a,x):a,this},this.setUA(d),this};C.VERSION="0.7.28",C.BROWSER={NAME:m,MAJOR:"major",VERSION:p},C.CPU={ARCHITECTURE:q},C.DEVICE={MODEL:l,VENDOR:o,TYPE:n,CONSOLE:r,MOBILE:s,SMARTTV:u,TABLET:t,WEARABLE:v,EMBEDDED:w},C.ENGINE={NAME:m,VERSION:p},C.OS={NAME:m,VERSION:p},typeof d!==i?(typeof c!==i&&c.exports&&(d=c.exports=C),d.UAParser=C):"function"==typeof a&&a.amd?a(function(){return C}):void 0!==b&&(b.UAParser=C);var D=void 0!==b&&(b.jQuery||b.Zepto);if(D&&!D.ua){var E=new C;D.ua=E.getResult(),D.ua.get=function(){return E.getUA()},D.ua.set=function(a){E.setUA(a);var b=E.getResult();for(var c in b)D.ua[c]=b[c]}}}("object"==typeof window?window:this)},{}],85:[function(b,c,d){!function(b){var e=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,f=/^([^\/?#]*)([^]*)$/,g=/(?:\/|^)\.(?=\/)/g,h=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,i={buildAbsoluteURL:function(a,b,c){if(c=c||{},a=a.trim(),!(b=b.trim())){if(!c.alwaysNormalize)return a;var d=i.parseURL(a);if(!d)throw new Error("Error trying to parse base URL.");return d.path=i.normalizePath(d.path),i.buildURLFromParts(d)}var e=i.parseURL(b);if(!e)throw new Error("Error trying to parse relative URL.");if(e.scheme)return c.alwaysNormalize?(e.path=i.normalizePath(e.path),i.buildURLFromParts(e)):b;var g=i.parseURL(a);if(!g)throw new Error("Error trying to parse base URL.");if(!g.netLoc&&g.path&&"/"!==g.path[0]){var h=f.exec(g.path);g.netLoc=h[1],g.path=h[2]}g.netLoc&&!g.path&&(g.path="/");var j={scheme:g.scheme,netLoc:e.netLoc,path:null,params:e.params,query:e.query,fragment:e.fragment};if(!e.netLoc&&(j.netLoc=g.netLoc,"/"!==e.path[0]))if(e.path){var k=g.path,l=k.substring(0,k.lastIndexOf("/")+1)+e.path;j.path=i.normalizePath(l)}else j.path=g.path,e.params||(j.params=g.params,e.query||(j.query=g.query));return null===j.path&&(j.path=c.alwaysNormalize?i.normalizePath(e.path):e.path),i.buildURLFromParts(j)},parseURL:function(a){var b=e.exec(a);return b?{scheme:b[1]||"",netLoc:b[2]||"",path:b[3]||"",params:b[4]||"",query:b[5]||"",fragment:b[6]||""}:null},normalizePath:function(a){for(a=a.split("").reverse().join("").replace(g,"");a.length!==(a=a.replace(h,"")).length;);return a.split("").reverse().join("")},buildURLFromParts:function(a){return a.scheme+a.netLoc+a.path+a.params+a.query+a.fragment}};"object"==typeof d&&"object"==typeof c?c.exports=i:"function"==typeof a&&a.amd?a([],function(){return i}):"object"==typeof d?d.URLToolkit=i:b.URLToolkit=i}(this)},{}],86:[function(a,b,c){"use strict";function d(a){return a&&"object"==typeof a&&"default"in a?a:{default:a}}function e(a){var b,c="info",d=function(){for(var a=arguments.length,d=new Array(a),e=0;e<a;e++)d[e]=arguments[e];b("log",c,d)};return b=vb(a,d),d.createLogger=function(b){return e(a+": "+b)},d.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:c},d.level=function(a){if("string"==typeof a){if(!d.levels.hasOwnProperty(a))throw new Error('"'+a+'" in not a valid log level');c=a}return c},d.history=function(){return ub?[].concat(ub):[]},d.history.filter=function(a){return(ub||[]).filter(function(b){return new RegExp(".*"+a+".*").test(b[0])})},d.history.clear=function(){ub&&(ub.length=0)},d.history.disable=function(){null!==ub&&(ub.length=0,ub=null)},d.history.enable=function(){null===ub&&(ub=[])},d.error=function(){for(var a=arguments.length,d=new Array(a),e=0;e<a;e++)d[e]=arguments[e];return b("error",c,d)},d.warn=function(){for(var a=arguments.length,d=new Array(a),e=0;e<a;e++)d[e]=arguments[e];return b("warn",c,d)},d.debug=function(){for(var a=arguments.length,d=new Array(a),e=0;e<a;e++)d[e]=arguments[e];return b("debug",c,d)},d}function f(a,b){zb(a).forEach(function(c){return b(a[c],c)})}function g(a,b,c){return void 0===c&&(c=0),zb(a).reduce(function(c,d){return b(c,a[d],d)},c)}function h(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return Object.assign?cb.default.apply(void 0,[a].concat(c)):(c.forEach(function(b){b&&f(b,function(b,c){a[c]=b})}),a)}function i(a){return!!a&&"object"==typeof a}function j(a){return i(a)&&"[object Object]"===yb.call(a)&&a.constructor===Object}function k(a,b){if(!a||!b)return"";if("function"==typeof ab.default.getComputedStyle){var c;try{c=ab.default.getComputedStyle(a)}catch(a){return""}return c?c.getPropertyValue(b)||c[b]:""}return""}function l(a){return"string"==typeof a&&Boolean(a.trim())}function m(a){if(a.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function n(a){return new RegExp("(^|\\s)"+a+"($|\\s)")}function o(){return bb.default===ab.default.document}function p(a){return i(a)&&1===a.nodeType}function q(){try{return ab.default.parent!==ab.default.self}catch(a){return!0}}function r(a){return function(b,c){if(!l(b))return bb.default[a](null);l(c)&&(c=bb.default.querySelector(c));var d=p(c)?c:bb.default;return d[a]&&d[a](b)}}function s(a,b,c,d){void 0===a&&(a="div"),void 0===b&&(b={}),void 0===c&&(c={});var e=bb.default.createElement(a);return Object.getOwnPropertyNames(b).forEach(function(a){var c=b[a];-1!==a.indexOf("aria-")||"role"===a||"type"===a?(wb.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+a+" to "+c+"."),e.setAttribute(a,c)):"textContent"===a?t(e,c):e[a]===c&&"tabIndex"!==a||(e[a]=c)}),Object.getOwnPropertyNames(c).forEach(function(a){e.setAttribute(a,c[a])}),d&&M(e,d),e}function t(a,b){return void 0===a.textContent?a.innerText=b:a.textContent=b,a}function u(a,b){b.firstChild?b.insertBefore(a,b.firstChild):b.appendChild(a)}function v(a,b){return m(b),a.classList?a.classList.contains(b):n(b).test(a.className)}function w(a,b){return a.classList?a.classList.add(b):v(a,b)||(a.className=(a.className+" "+b).trim()),a}function x(a,b){return a?(a.classList?a.classList.remove(b):(m(b),a.className=a.className.split(/\s+/).filter(function(a){return a!==b}).join(" ")),a):(wb.warn("removeClass was called with an element that doesn't exist"),null)}function y(a,b,c){var d=v(a,b);if("function"==typeof c&&(c=c(a,b)),"boolean"!=typeof c&&(c=!d),c!==d)return c?w(a,b):x(a,b),a}function z(a,b){Object.getOwnPropertyNames(b).forEach(function(c){var d=b[c];null===d||void 0===d||!1===d?a.removeAttribute(c):a.setAttribute(c,!0===d?"":d)})}function A(a){var b={};if(a&&a.attributes&&a.attributes.length>0)for(var c=a.attributes,d=c.length-1;d>=0;d--){var e=c[d].name,f=c[d].value;"boolean"!=typeof a[e]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+e+",")||(f=null!==f),b[e]=f}return b}function B(a,b){return a.getAttribute(b)}function C(a,b,c){a.setAttribute(b,c)}function D(a,b){a.removeAttribute(b)}function E(){bb.default.body.focus(),bb.default.onselectstart=function(){return!1}}function F(){bb.default.onselectstart=function(){return!0}}function G(a){if(a&&a.getBoundingClientRect&&a.parentNode){var b=a.getBoundingClientRect(),c={};return["bottom","height","left","right","top","width"].forEach(function(a){void 0!==b[a]&&(c[a]=b[a])}),c.height||(c.height=parseFloat(k(a,"height"))),c.width||(c.width=parseFloat(k(a,"width"))),c}}function H(a){if(!a||a&&!a.offsetParent)return{left:0,top:0,width:0,height:0};for(var b=a.offsetWidth,c=a.offsetHeight,d=0,e=0;a.offsetParent&&a!==bb.default[ob.fullscreenElement];)d+=a.offsetLeft,e+=a.offsetTop,a=a.offsetParent;return{left:d,top:e,width:b,height:c}}function I(a,b){var c={x:0,y:0};if(Sb)for(var d=a;d&&"html"!==d.nodeName.toLowerCase();){var e=k(d,"transform");if(/^matrix/.test(e)){var f=e.slice(7,-1).split(/,\s/).map(Number);c.x+=f[4],c.y+=f[5]}else if(/^matrix3d/.test(e)){var g=e.slice(9,-1).split(/,\s/).map(Number);c.x+=g[12],c.y+=g[13]}d=d.parentNode}var h={},i=H(b.target),j=H(a),l=j.width,m=j.height,n=b.offsetY-(j.top-i.top),o=b.offsetX-(j.left-i.left);return b.changedTouches&&(o=b.changedTouches[0].pageX-j.left,n=b.changedTouches[0].pageY+j.top,Sb&&(o-=c.x,n-=c.y)),h.y=1-Math.max(0,Math.min(1,n/m)),h.x=Math.max(0,Math.min(1,o/l)),h}function J(a){return i(a)&&3===a.nodeType}function K(a){for(;a.firstChild;)a.removeChild(a.firstChild);return a}function L(a){return"function"==typeof a&&(a=a()),(Array.isArray(a)?a:[a]).map(function(a){return"function"==typeof a&&(a=a()),p(a)||J(a)?a:"string"==typeof a&&/\S/.test(a)?bb.default.createTextNode(a):void 0}).filter(function(a){return a})}function M(a,b){return L(b).forEach(function(b){return a.appendChild(b)}),a}function N(a,b){return M(K(a),b)}function O(a){return void 0===a.button&&void 0===a.buttons||(0===a.button&&void 0===a.buttons||("mouseup"===a.type&&0===a.button&&0===a.buttons||0===a.button&&1===a.buttons))}function P(a,b){o()&&(b&&(tb=b),ab.default.setTimeout(Zb,a))}function Q(){Yb=!0,ab.default.removeEventListener("load",Q)}function R(){return cc++}function S(a,b){if(ec.has(a)){var c=ec.get(a);0===c.handlers[b].length&&(delete c.handlers[b],a.removeEventListener?a.removeEventListener(b,c.dispatcher,!1):a.detachEvent&&a.detachEvent("on"+b,c.dispatcher)),Object.getOwnPropertyNames(c.handlers).length<=0&&(delete c.handlers,delete c.dispatcher,delete c.disabled),0===Object.getOwnPropertyNames(c).length&&ec.delete(a)}}function T(a,b,c,d){c.forEach(function(c){a(b,c,d)})}function U(a){function b(){return!0}function c(){return!1}if(a.fixed_)return a;if(!a||!a.isPropagationStopped||!a.isImmediatePropagationStopped){var d=a||ab.default.event;a={};for(var e in d)"layerX"!==e&&"layerY"!==e&&"keyLocation"!==e&&"webkitMovementX"!==e&&"webkitMovementY"!==e&&("returnValue"===e&&d.preventDefault||(a[e]=d[e]));if(a.target||(a.target=a.srcElement||bb.default),a.relatedTarget||(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement),a.preventDefault=function(){d.preventDefault&&d.preventDefault(),a.returnValue=!1,d.returnValue=!1,a.defaultPrevented=!0},a.defaultPrevented=!1,a.stopPropagation=function(){d.stopPropagation&&d.stopPropagation(),a.cancelBubble=!0,d.cancelBubble=!0,a.isPropagationStopped=b},a.isPropagationStopped=c,a.stopImmediatePropagation=function(){d.stopImmediatePropagation&&d.stopImmediatePropagation(),a.isImmediatePropagationStopped=b,a.stopPropagation()},a.isImmediatePropagationStopped=c,null!==a.clientX&&void 0!==a.clientX){var f=bb.default.documentElement,g=bb.default.body;a.pageX=a.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=a.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)}a.which=a.charCode||a.keyCode,null!==a.button&&void 0!==a.button&&(a.button=1&a.button?0:4&a.button?1:2&a.button?2:0)}return a.fixed_=!0,a}function V(a,b,c){if(Array.isArray(b))return T(V,a,b,c);ec.has(a)||ec.set(a,{});var d=ec.get(a);if(d.handlers||(d.handlers={}),d.handlers[b]||(d.handlers[b]=[]),c.guid||(c.guid=R()),d.handlers[b].push(c),d.dispatcher||(d.disabled=!1,d.dispatcher=function(b,c){if(!d.disabled){b=U(b);var e=d.handlers[b.type];if(e)for(var f=e.slice(0),g=0,h=f.length;g<h&&!b.isImmediatePropagationStopped();g++)try{f[g].call(a,b,c)}catch(a){wb.error(a)}}}),1===d.handlers[b].length)if(a.addEventListener){var e=!1;fc()&&gc.indexOf(b)>-1&&(e={passive:!0}),a.addEventListener(b,d.dispatcher,e)}else a.attachEvent&&a.attachEvent("on"+b,d.dispatcher)}function W(a,b,c){if(ec.has(a)){var d=ec.get(a);if(d.handlers){if(Array.isArray(b))return T(W,a,b,c);var e=function(a,b){d.handlers[b]=[],S(a,b)};if(void 0!==b){var f=d.handlers[b];if(f){if(!c)return void e(a,b);if(c.guid)for(var g=0;g<f.length;g++)f[g].guid===c.guid&&f.splice(g--,1);S(a,b)}}else for(var h in d.handlers)Object.prototype.hasOwnProperty.call(d.handlers||{},h)&&e(a,h)}}}function X(a,b,c){var d=ec.has(a)?ec.get(a):{},e=a.parentNode||a.ownerDocument;if("string"==typeof b?b={type:b,target:a}:b.target||(b.target=a),b=U(b),d.dispatcher&&d.dispatcher.call(a,b,c),e&&!b.isPropagationStopped()&&!0===b.bubbles)X.call(null,e,b,c);else if(!e&&!b.defaultPrevented&&b.target&&b.target[b.type]){ec.has(b.target)||ec.set(b.target,{});var f=ec.get(b.target);b.target[b.type]&&(f.disabled=!0,"function"==typeof b.target[b.type]&&b.target[b.type](),f.disabled=!1)}return!b.defaultPrevented}function Y(a,b,c){if(Array.isArray(b))return T(Y,a,b,c);var d=function d(){W(a,b,d),c.apply(this,arguments)};d.guid=c.guid=c.guid||R(),V(a,b,d)}function Z(a,b,c){var d=function d(){W(a,b,d),c.apply(this,arguments)};d.guid=c.guid=c.guid||R(),V(a,b,d)}function $(a,b){void 0===b&&(b={});var c=b,d=c.eventBusKey;if(d){if(!a[d].nodeName)throw new Error('The eventBusKey "'+d+'" does not refer to an element.');a.eventBusEl_=a[d]}else a.eventBusEl_=s("span",{className:"vjs-event-bus"});return h(a,xc),a.eventedCallbacks&&a.eventedCallbacks.forEach(function(a){a()}),a.on("dispose",function(){a.off(),ab.default.setTimeout(function(){a.eventBusEl_=null},0)}),a}function _(a,b){return h(a,yc),a.state=h({},a.state,b),"function"==typeof a.handleStateChanged&&pc(a)&&a.on("statechanged",a.handleStateChanged),a}function aa(){for(var a={},b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return c.forEach(function(b){b&&f(b,function(b,c){if(!j(b))return void(a[c]=b);j(a[c])||(a[c]={}),a[c]=aa(a[c],b)})}),a}function ba(a,b,c){if("number"!=typeof b||b<0||b>c)throw new Error("Failed to execute '"+a+"' on 'TimeRanges': The index provided ("+b+") is non-numeric or out of bounds (0-"+c+").")}function ca(a,b,c,d){return ba(a,d,c.length-1),c[d][b]}function da(a){return void 0===a||0===a.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:a.length,start:ca.bind(null,"start",0,a),end:ca.bind(null,"end",1,a)}}function ea(a,b){return Array.isArray(a)?da(a):void 0===a||void 0===b?da():da([[a,b]])}function fa(a,b){var c,d,e=0;if(!b)return 0;a&&a.length||(a=ea(0,0));for(var f=0;f<a.length;f++)c=a.start(f),d=a.end(f),d>b&&(d=b),e+=d-c;return e/b}function ga(a){if(a instanceof ga)return a;"number"==typeof a?this.code=a:"string"==typeof a?this.message=a:i(a)&&("number"==typeof a.code&&(this.code=a.code),h(this,a)),this.message||(this.message=ga.defaultMessages[this.code]||"")}function ha(a){return void 0!==a&&null!==a&&"function"==typeof a.then}function ia(a){ha(a)&&a.then(null,function(a){})}function ja(a,b,c,d,e){void 0===e&&(e={});var f=a.textTracks();e.kind=b,c&&(e.label=c),d&&(e.language=d),e.tech=a;var g=new pd.text.TrackClass(e);return f.addTrack(g),g}function ka(a,b){rd[a]=rd[a]||[],rd[a].push(b)}function la(a,b,c){a.setTimeout(function(){return ua(b,rd[b.type],c,a)},1)}function ma(a,b){a.forEach(function(a){return a.setTech&&a.setTech(b)})}function na(a,b,c){return a.reduceRight(qa(c),b[c]())}function oa(a,b,c,d){return b[c](a.reduce(qa(c),d))}function pa(a,b,c,d){void 0===d&&(d=null);var e="call"+Ac(c),f=a.reduce(qa(e),d),g=f===td,h=g?null:b[c](f);return ra(a,c,h,g),h}function qa(a){return function(b,c){return b===td?td:c[a]?c[a](b):b}}function ra(a,b,c,d){for(var e=a.length-1;e>=0;e--){var f=a[e];f[b]&&f[b](d,c)}}function sa(a){sd[a.id()]=null}function ta(a,b){var c=sd[a.id()],d=null;if(void 0===c||null===c)return d=b(a),sd[a.id()]=[[b,d]],d;for(var e=0;e<c.length;e++){var f=c[e],g=f[0],h=f[1];g===b&&(d=h)}return null===d&&(d=b(a),c.push([b,d])),d}function ua(a,b,c,d,e,f){void 0===a&&(a={}),void 0===b&&(b=[]),void 0===e&&(e=[]),void 0===f&&(f=!1);var g=b,i=g[0],j=g.slice(1);if("string"==typeof i)ua(a,rd[i],c,d,e,f);else if(i){var k=ta(d,i);if(!k.setSource)return e.push(k),ua(a,j,c,d,e,f);k.setSource(h({},a),function(b,g){if(b)return ua(a,j,c,d,e,f);e.push(k),ua(g,a.type===g.type?j:rd[g.type],c,d,e,f)})}else j.length?ua(a,j,c,d,e,f):f?c(a,e):ua(a,rd["*"],c,d,e,!0)}function va(a){if(!a.type){var b=yd(a.src);b&&(a.type=b)}return a}function wa(a,b){var c;if(4===a.length)c=a[1]+a[1]+a[2]+a[2]+a[3]+a[3];else{if(7!==a.length)throw new Error("Invalid color code provided, "+a+"; must be formatted as e.g. #f0e or #f604e2.");c=a.slice(1)}return"rgba("+parseInt(c.slice(0,2),16)+","+parseInt(c.slice(2,4),16)+","+parseInt(c.slice(4,6),16)+","+b+")"}function xa(a,b,c){try{a.style[b]=c}catch(a){return}}function ya(a){Od=a}function za(){Od=Nd}function Aa(a,b){return void 0===b&&(b=a),Od(a,b)}function Ba(a,b){if(b&&(a=b(a)),a&&"none"!==a)return a}function Ca(a,b){return Ba(a.options[a.options.selectedIndex].value,b)}function Da(a,b,c){if(b)for(var d=0;d<a.options.length;d++)if(Ba(a.options[d].value,c)===b){a.selectedIndex=d;break}}function Ea(a,b,c){var d=Ea.getPlayer(a);if(d)return b&&wb.warn('Player "'+a+'" is already initialised. Options will not be applied.'),c&&d.ready(c),d;var e="string"==typeof a?Vb("#"+Hf(a)):a;if(!p(e))throw new TypeError("The element or ID supplied is not valid. (videojs)");e.ownerDocument.defaultView&&e.ownerDocument.body.contains(e)||wb.warn("The element supplied is not included in the DOM"),b=b||{},Ea.hooks("beforesetup").forEach(function(a){var c=a(e,aa(b));if(!i(c)||Array.isArray(c))return void wb.error("please return an object in beforesetup hooks");b=aa(b,c)});var f=Gc.getComponent("Player");return d=new f(e,b,c),Ea.hooks("setup").forEach(function(a){return a(d)}),d}function Fa(){}for(var Ga,Ha=a("global/window"),Ia=a("global/document"),Ja=a("@babel/runtime/helpers/extends"),Ka=a("@babel/runtime/helpers/assertThisInitialized"),La=a("@babel/runtime/helpers/inheritsLoose"),Ma=a("safe-json-parse/tuple"),Na=a("keycode"),Oa=a("@videojs/xhr"),Pa=a("videojs-vtt.js"),Qa=a("@babel/runtime/helpers/construct"),Ra=a("@babel/runtime/helpers/inherits"),Sa=a("@videojs/vhs-utils/cjs/resolve-url.js"),Ta=a("m3u8-parser"),Ua=a("@videojs/vhs-utils/cjs/codecs.js"),Va=a("@videojs/vhs-utils/cjs/media-types.js"),Wa=a("mpd-parser"),Xa=a("mux.js/lib/tools/parse-sidx"),Ya=a("@videojs/vhs-utils/cjs/id3-helpers"),Za=a("@videojs/vhs-utils/cjs/containers"),$a=a("@videojs/vhs-utils/cjs/byte-helpers"),_a=a("mux.js/lib/utils/clock"),ab=d(Ha),bb=d(Ia),cb=d(Ja),db=d(Ka),eb=d(La),fb=d(Ma),gb=d(Na),hb=d(Oa),ib=d(Pa),jb=d(Qa),kb=d(Ra),lb=d(Sa),mb=d(Xa),nb="7.14.3",ob={prefixed:!0},pb=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],qb=pb[0],rb=0;rb<pb.length;rb++)if(pb[rb][1]in bb.default){Ga=pb[rb];break}if(Ga){for(var sb=0;sb<Ga.length;sb++)ob[qb[sb]]=Ga[sb];ob.prefixed=Ga[0]!==qb[0]}var tb,ub=[],vb=function(a,b){return function(c,d,e){var f=b.levels[d],g=new RegExp("^("+f+")$");if("log"!==c&&e.unshift(c.toUpperCase()+":"),e.unshift(a+":"),ub){ub.push([].concat(e));var h=ub.length-1e3;ub.splice(0,h>0?h:0)}if(ab.default.console){var i=ab.default.console[c];i||"debug"!==c||(i=ab.default.console.info||ab.default.console.log),i&&f&&g.test(c)&&i[Array.isArray(e)?"apply":"call"](ab.default.console,e)}}},wb=e("VIDEOJS"),xb=wb.createLogger,yb=Object.prototype.toString,zb=function(a){return i(a)?Object.keys(a):[]},Ab=ab.default.navigator&&ab.default.navigator.userAgent||"",Bb=/AppleWebKit\/([\d.]+)/i.exec(Ab),Cb=Bb?parseFloat(Bb.pop()):null,Db=/iPod/i.test(Ab),Eb=function(){var a=Ab.match(/OS (\d+)_/i);return a&&a[1]?a[1]:null}(),Fb=/Android/i.test(Ab),Gb=function(){var a=Ab.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!a)return null;var b=a[1]&&parseFloat(a[1]),c=a[2]&&parseFloat(a[2]);return b&&c?parseFloat(a[1]+"."+a[2]):b||null}(),Hb=Fb&&Gb<5&&Cb<537,Ib=/Firefox/i.test(Ab),Jb=/Edg/i.test(Ab),Kb=!Jb&&(/Chrome/i.test(Ab)||/CriOS/i.test(Ab)),Lb=function(){var a=Ab.match(/(Chrome|CriOS)\/(\d+)/);return a&&a[2]?parseFloat(a[2]):null}(),Mb=function(){var a=/MSIE\s(\d+)\.\d/.exec(Ab),b=a&&parseFloat(a[1]);return!b&&/Trident\/7.0/i.test(Ab)&&/rv:11.0/.test(Ab)&&(b=11),b}(),Nb=/Safari/i.test(Ab)&&!Kb&&!Fb&&!Jb,Ob=/Windows/i.test(Ab),Pb=Boolean(o()&&("ontouchstart"in ab.default||ab.default.navigator.maxTouchPoints||ab.default.DocumentTouch&&ab.default.document instanceof ab.default.DocumentTouch)),Qb=/iPad/i.test(Ab)||Nb&&Pb&&!/iPhone/i.test(Ab),Rb=/iPhone/i.test(Ab)&&!Qb,Sb=Rb||Qb||Db,Tb=(Nb||Sb)&&!Kb,Ub=Object.freeze({__proto__:null,IS_IPOD:Db,IOS_VERSION:Eb,IS_ANDROID:Fb,ANDROID_VERSION:Gb,IS_NATIVE_ANDROID:Hb,IS_FIREFOX:Ib,IS_EDGE:Jb,IS_CHROME:Kb,CHROME_VERSION:Lb,IE_VERSION:Mb,IS_SAFARI:Nb,IS_WINDOWS:Ob,TOUCH_ENABLED:Pb,IS_IPAD:Qb,IS_IPHONE:Rb,IS_IOS:Sb,IS_ANY_SAFARI:Tb}),Vb=r("querySelector"),Wb=r("querySelectorAll"),Xb=Object.freeze({__proto__:null,isReal:o,isEl:p,isInFrame:q,createEl:s,textContent:t,prependTo:u,hasClass:v,addClass:w,removeClass:x,toggleClass:y,setAttributes:z,getAttributes:A,getAttribute:B,setAttribute:C,removeAttribute:D,blockTextSelection:E,unblockTextSelection:F,getBoundingClientRect:G,findPosition:H,getPointerPosition:I,isTextNode:J,emptyEl:K,normalizeContent:L,appendContent:M,insertContent:N,isSingleLeftClick:O,$:Vb,$$:Wb}),Yb=!1,Zb=function(){if(!1!==tb.options.autoSetup){var a=Array.prototype.slice.call(bb.default.getElementsByTagName("video")),b=Array.prototype.slice.call(bb.default.getElementsByTagName("audio")),c=Array.prototype.slice.call(bb.default.getElementsByTagName("video-js")),d=a.concat(b,c);if(d&&d.length>0)for(var e=0,f=d.length;e<f;e++){var g=d[e];if(!g||!g.getAttribute){P(1);break}if(void 0===g.player){var h=g.getAttribute("data-setup");null!==h&&tb(g)}}else Yb||P(1)}};o()&&("complete"===bb.default.readyState?Q():ab.default.addEventListener("load",Q));var $b,_b=function(a){var b=bb.default.createElement("style");return b.className=a,b},ac=function(a,b){a.styleSheet?a.styleSheet.cssText=b:a.textContent=b},bc=3,cc=bc;ab.default.WeakMap||($b=function(){function a(){this.vdata="vdata"+Math.floor(ab.default.performance&&ab.default.performance.now()||Date.now()),this.data={}}var b=a.prototype;return b.set=function(a,b){var c=a[this.vdata]||R();return a[this.vdata]||(a[this.vdata]=c),this.data[c]=b,this},b.get=function(a){var b=a[this.vdata];if(b)return this.data[b];wb("We have no data for this element",a)},b.has=function(a){return a[this.vdata]in this.data},b.delete=function(a){var b=a[this.vdata];b&&(delete this.data[b],delete a[this.vdata])},a}());var dc,ec=ab.default.WeakMap?new WeakMap:new $b,fc=function(){if("boolean"!=typeof dc){dc=!1;try{var a=Object.defineProperty({},"passive",{get:function(){dc=!0}});ab.default.addEventListener("test",null,a),ab.default.removeEventListener("test",null,a)}catch(a){}}return dc},gc=["touchstart","touchmove"],hc=Object.freeze({__proto__:null,fixEvent:U,on:V,off:W,trigger:X,one:Y,any:Z}),ic=30,jc=function(a,b,c){b.guid||(b.guid=R());var d=b.bind(a);return d.guid=c?c+"_"+b.guid:b.guid,d},kc=function(a,b){var c=ab.default.performance.now();return function(){var d=ab.default.performance.now();d-c>=b&&(a.apply(void 0,arguments),c=d)}},lc=function(a,b,c,d){void 0===d&&(d=ab.default);var e,f=function(){d.clearTimeout(e),e=null},g=function(){var f=this,g=arguments,h=function(){e=null,h=null,c||a.apply(f,g)};!e&&c&&a.apply(f,g),d.clearTimeout(e),e=d.setTimeout(h,b)};return g.cancel=f,g},mc=function(){};mc.prototype.allowedEvents_={},mc.prototype.on=function(a,b){var c=this.addEventListener;this.addEventListener=function(){},V(this,a,b),this.addEventListener=c},mc.prototype.addEventListener=mc.prototype.on,mc.prototype.off=function(a,b){W(this,a,b)},mc.prototype.removeEventListener=mc.prototype.off,mc.prototype.one=function(a,b){var c=this.addEventListener;this.addEventListener=function(){},Y(this,a,b),this.addEventListener=c},mc.prototype.any=function(a,b){var c=this.addEventListener;this.addEventListener=function(){},Z(this,a,b),this.addEventListener=c},mc.prototype.trigger=function(a){var b=a.type||a;"string"==typeof a&&(a={type:b}),a=U(a),this.allowedEvents_[b]&&this["on"+b]&&this["on"+b](a),X(this,a)},mc.prototype.dispatchEvent=mc.prototype.trigger;var nc;mc.prototype.queueTrigger=function(a){var b=this;nc||(nc=new Map);var c=a.type||a,d=nc.get(this);d||(d=new Map,nc.set(this,d));var e=d.get(c);d.delete(c),ab.default.clearTimeout(e);var f=ab.default.setTimeout(function(){0===d.size&&(d=null,nc.delete(b)),b.trigger(a)},0);d.set(c,f)};var oc=function(a){return"function"==typeof a.name?a.name():"string"==typeof a.name?a.name:a.name_?a.name_:a.constructor&&a.constructor.name?a.constructor.name:typeof a},pc=function(a){return a instanceof mc||!!a.eventBusEl_&&["on","one","off","trigger"].every(function(b){return"function"==typeof a[b]})},qc=function(a,b){pc(a)?b():(a.eventedCallbacks||(a.eventedCallbacks=[]),a.eventedCallbacks.push(b))},rc=function(a){return"string"==typeof a&&/\S/.test(a)||Array.isArray(a)&&!!a.length},sc=function(a,b,c){if(!a||!a.nodeName&&!pc(a))throw new Error("Invalid target for "+oc(b)+"#"+c+"; must be a DOM node or evented object.")},tc=function(a,b,c){if(!rc(a))throw new Error("Invalid event type for "+oc(b)+"#"+c+"; must be a non-empty string or array.")},uc=function(a,b,c){if("function"!=typeof a)throw new Error("Invalid listener for "+oc(b)+"#"+c+"; must be a function.")},vc=function(a,b,c){var d,e,f,g=b.length<3||b[0]===a||b[0]===a.eventBusEl_;return g?(d=a.eventBusEl_,b.length>=3&&b.shift(),e=b[0],f=b[1]):(d=b[0],e=b[1],f=b[2]),sc(d,a,c),tc(e,a,c),uc(f,a,c),f=jc(a,f),{isTargetingSelf:g,target:d,type:e,listener:f}},wc=function(a,b,c,d){sc(a,a,b),a.nodeName?hc[b](a,c,d):a[b](c,d)},xc={on:function(){for(var a=this,b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=vc(this,c,"on"),f=e.isTargetingSelf,g=e.target,h=e.type,i=e.listener;if(wc(g,"on",h,i),!f){var j=function(){return a.off(g,h,i)};j.guid=i.guid;var k=function(){return a.off("dispose",j)};k.guid=i.guid,wc(this,"on","dispose",j),wc(g,"on","dispose",k)}},one:function(){for(var a=this,b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=vc(this,c,"one"),f=e.isTargetingSelf,g=e.target,h=e.type,i=e.listener;if(f)wc(g,"one",h,i);else{var j=function b(){a.off(g,h,b);for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];i.apply(null,d)};j.guid=i.guid,wc(g,"one",h,j)}},any:function(){for(var a=this,b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=vc(this,c,"any"),f=e.isTargetingSelf,g=e.target,h=e.type,i=e.listener;if(f)wc(g,"any",h,i);else{var j=function b(){a.off(g,h,b);for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];i.apply(null,d)};j.guid=i.guid,wc(g,"any",h,j)}},off:function(a,b,c){if(!a||rc(a))W(this.eventBusEl_,a,b);else{var d=a,e=b;sc(d,this,"off"),tc(e,this,"off"),uc(c,this,"off"),c=jc(this,c),this.off("dispose",c),d.nodeName?(W(d,e,c),W(d,"dispose",c)):pc(d)&&(d.off(e,c),d.off("dispose",c))}},trigger:function(a,b){sc(this.eventBusEl_,this,"trigger");var c=a&&"string"!=typeof a?a.type:a;if(!rc(c)){var d="Invalid event type for "+oc(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(!a)throw new Error(d);(this.log||wb).error(d)}return X(this.eventBusEl_,a,b)}},yc={state:{},setState:function(a){var b=this;"function"==typeof a&&(a=a());var c;return f(a,function(a,d){b.state[d]!==a&&(c=c||{},c[d]={from:b.state[d],to:a}),b.state[d]=a}),c&&pc(this)&&this.trigger({changes:c,type:"statechanged"}),c}},zc=function(a){return"string"!=typeof a?a:a.replace(/./,function(a){return a.toLowerCase()})},Ac=function(a){return"string"!=typeof a?a:a.replace(/./,function(a){return a.toUpperCase()})},Bc=function(a,b){return Ac(a)===Ac(b)},Cc=function(){function a(){this.map_={}}var b=a.prototype;return b.has=function(a){return a in this.map_},b.delete=function(a){var b=this.has(a);return delete this.map_[a],b},b.set=function(a,b){return this.map_[a]=b,this},b.forEach=function(a,b){for(var c in this.map_)a.call(b,this.map_[c],c,this)},a}(),Dc=ab.default.Map?ab.default.Map:Cc,Ec=function(){function a(){this.set_={}}var b=a.prototype;return b.has=function(a){return a in this.set_},b.delete=function(a){var b=this.has(a);return delete this.set_[a],b},b.add=function(a){return this.set_[a]=1,this},b.forEach=function(a,b){for(var c in this.set_)a.call(b,c,c,this)},a}(),Fc=ab.default.Set?ab.default.Set:Ec,Gc=function(){function a(a,b,c){if(!a&&this.play?this.player_=a=this:this.player_=a,this.isDisposed_=!1,this.parentComponent_=null,this.options_=aa({},this.options_),b=this.options_=aa(this.options_,b),this.id_=b.id||b.el&&b.el.id,!this.id_){var d=a&&a.id&&a.id()||"no_player";this.id_=d+"_component_"+R()}this.name_=b.name||null,b.el?this.el_=b.el:!1!==b.createEl&&(this.el_=this.createEl()),!1!==b.evented&&($(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),_(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Fc,this.setIntervalIds_=new Fc,this.rafIds_=new Fc,this.namedRafs_=new Dc,this.clearingTimersOnDispose_=!1,!1!==b.initChildren&&this.initChildren(),this.ready(c),!1!==b.reportTouchActivity&&this.enableTouchActivity()}var b=a.prototype;return b.dispose=function(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var a=this.children_.length-1;a>=0;a--)this.children_[a].dispose&&this.children_[a].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),ec.has(this.el_)&&ec.delete(this.el_),this.el_=null),this.player_=null}},b.isDisposed=function(){return Boolean(this.isDisposed_)},b.player=function(){return this.player_},b.options=function(a){return a?(this.options_=aa(this.options_,a),this.options_):this.options_},b.el=function(){return this.el_},b.createEl=function(a,b,c){return s(a,b,c)},b.localize=function(a,b,c){void 0===c&&(c=a);var d=this.player_.language&&this.player_.language(),e=this.player_.languages&&this.player_.languages(),f=e&&e[d],g=d&&d.split("-")[0],h=e&&e[g],i=c;return f&&f[a]?i=f[a]:h&&h[a]&&(i=h[a]),b&&(i=i.replace(/\{(\d+)\}/g,function(a,c){var d=b[c-1],e=d;return void 0===d&&(e=a),e})),i},b.handleLanguagechange=function(){},b.contentEl=function(){return this.contentEl_||this.el_},b.id=function(){return this.id_},b.name=function(){return this.name_},b.children=function(){return this.children_},b.getChildById=function(a){return this.childIndex_[a]},b.getChild=function(a){if(a)return this.childNameIndex_[a]},b.getDescendant=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];b=b.reduce(function(a,b){return a.concat(b)},[]);for(var d=this,e=0;e<b.length;e++)if(!(d=d.getChild(b[e]))||!d.getChild)return;return d},b.addChild=function(b,c,d){void 0===c&&(c={}),void 0===d&&(d=this.children_.length);var e,f;if("string"==typeof b){f=Ac(b);var g=c.componentClass||f;c.name=f;var h=a.getComponent(g);if(!h)throw new Error("Component "+g+" does not exist");if("function"!=typeof h)return null;e=new h(this.player_||this,c)}else e=b;if(e.parentComponent_&&e.parentComponent_.removeChild(e),this.children_.splice(d,0,e),e.parentComponent_=this,"function"==typeof e.id&&(this.childIndex_[e.id()]=e),f=f||e.name&&Ac(e.name()),f&&(this.childNameIndex_[f]=e,this.childNameIndex_[zc(f)]=e),"function"==typeof e.el&&e.el()){var i=null;this.children_[d+1]&&(this.children_[d+1].el_?i=this.children_[d+1].el_:p(this.children_[d+1])&&(i=this.children_[d+1])),this.contentEl().insertBefore(e.el(),i)}return e},b.removeChild=function(a){if("string"==typeof a&&(a=this.getChild(a)),a&&this.children_){for(var b=!1,c=this.children_.length-1;c>=0;c--)if(this.children_[c]===a){b=!0,this.children_.splice(c,1);break}if(b){a.parentComponent_=null,this.childIndex_[a.id()]=null,this.childNameIndex_[Ac(a.name())]=null,this.childNameIndex_[zc(a.name())]=null;var d=a.el();d&&d.parentNode===this.contentEl()&&this.contentEl().removeChild(a.el())}}},b.initChildren=function(){var b=this,c=this.options_.children;if(c){var d,e=this.options_,f=function(a){var c=a.name,d=a.opts;if(void 0!==e[c]&&(d=e[c]),!1!==d){!0===d&&(d={}),d.playerOptions=b.options_.playerOptions;var f=b.addChild(c,d);f&&(b[c]=f)}},g=a.getComponent("Tech");d=Array.isArray(c)?c:Object.keys(c),d.concat(Object.keys(this.options_).filter(function(a){return!d.some(function(b){return"string"==typeof b?a===b:a===b.name})})).map(function(a){var d,e;return"string"==typeof a?(d=a,e=c[d]||b.options_[d]||{}):(d=a.name,e=a),{name:d,opts:e}}).filter(function(b){var c=a.getComponent(b.opts.componentClass||Ac(b.name));return c&&!g.isTech(c)}).forEach(f)}},b.buildCSSClass=function(){return""},b.ready=function(a,b){if(void 0===b&&(b=!1),a)return this.isReady_?void(b?a.call(this):this.setTimeout(a,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(a))},b.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var a=this.readyQueue_;this.readyQueue_=[],a&&a.length>0&&a.forEach(function(a){a.call(this)},this),this.trigger("ready")},1)},b.$=function(a,b){return Vb(a,b||this.contentEl())},b.$$=function(a,b){return Wb(a,b||this.contentEl())},b.hasClass=function(a){return v(this.el_,a)},b.addClass=function(a){w(this.el_,a)},b.removeClass=function(a){x(this.el_,a)},b.toggleClass=function(a,b){y(this.el_,a,b)},b.show=function(){this.removeClass("vjs-hidden")},b.hide=function(){this.addClass("vjs-hidden")},b.lockShowing=function(){this.addClass("vjs-lock-showing")},b.unlockShowing=function(){this.removeClass("vjs-lock-showing")},b.getAttribute=function(a){return B(this.el_,a)},b.setAttribute=function(a,b){C(this.el_,a,b)},b.removeAttribute=function(a){D(this.el_,a)},b.width=function(a,b){return this.dimension("width",a,b)},b.height=function(a,b){return this.dimension("height",a,b)},b.dimensions=function(a,b){this.width(a,!0),this.height(b)},b.dimension=function(a,b,c){if(void 0!==b)return null!==b&&b===b||(b=0),-1!==(""+b).indexOf("%")||-1!==(""+b).indexOf("px")?this.el_.style[a]=b:this.el_.style[a]="auto"===b?"":b+"px",void(c||this.trigger("componentresize"));if(!this.el_)return 0;var d=this.el_.style[a],e=d.indexOf("px");return-1!==e?parseInt(d.slice(0,e),10):parseInt(this.el_["offset"+Ac(a)],10)},b.currentDimension=function(a){var b=0;if("width"!==a&&"height"!==a)throw new Error("currentDimension only accepts width or height value");if(b=k(this.el_,a),0===(b=parseFloat(b))||isNaN(b)){var c="offset"+Ac(a);b=this.el_[c]}return b},b.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},b.currentWidth=function(){return this.currentDimension("width")},b.currentHeight=function(){return this.currentDimension("height")},b.focus=function(){this.el_.focus()},b.blur=function(){this.el_.blur()},b.handleKeyDown=function(a){this.player_&&(a.stopPropagation(),this.player_.handleKeyDown(a))},b.handleKeyPress=function(a){this.handleKeyDown(a)},b.emitTapEvents=function(){var a,b=0,c=null,d=10,e=200;this.on("touchstart",function(d){1===d.touches.length&&(c={pageX:d.touches[0].pageX,pageY:d.touches[0].pageY},b=ab.default.performance.now(),a=!0)}),this.on("touchmove",function(b){if(b.touches.length>1)a=!1;else if(c){var e=b.touches[0].pageX-c.pageX,f=b.touches[0].pageY-c.pageY,g=Math.sqrt(e*e+f*f);g>d&&(a=!1)}});var f=function(){a=!1};this.on("touchleave",f),this.on("touchcancel",f),this.on("touchend",function(d){if(c=null,!0===a){ab.default.performance.now()-b<e&&(d.preventDefault(),this.trigger("tap"))}})},b.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var a,b=jc(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){b(),this.clearInterval(a),a=this.setInterval(b,250)});var c=function(c){b(),this.clearInterval(a)};this.on("touchmove",b),this.on("touchend",c),this.on("touchcancel",c)}},b.setTimeout=function(a,b){var c,d=this;return a=jc(this,a),this.clearTimersOnDispose_(),c=ab.default.setTimeout(function(){d.setTimeoutIds_.has(c)&&d.setTimeoutIds_.delete(c),a()},b),this.setTimeoutIds_.add(c),c},b.clearTimeout=function(a){return this.setTimeoutIds_.has(a)&&(this.setTimeoutIds_.delete(a),ab.default.clearTimeout(a)),a},b.setInterval=function(a,b){a=jc(this,a),this.clearTimersOnDispose_();var c=ab.default.setInterval(a,b);return this.setIntervalIds_.add(c),c},b.clearInterval=function(a){return this.setIntervalIds_.has(a)&&(this.setIntervalIds_.delete(a),ab.default.clearInterval(a)),a},b.requestAnimationFrame=function(a){var b=this;if(!this.supportsRaf_)return this.setTimeout(a,1e3/60);this.clearTimersOnDispose_();var c;return a=jc(this,a),c=ab.default.requestAnimationFrame(function(){b.rafIds_.has(c)&&b.rafIds_.delete(c),a()}),this.rafIds_.add(c),c},b.requestNamedAnimationFrame=function(a,b){var c=this;if(!this.namedRafs_.has(a)){this.clearTimersOnDispose_(),b=jc(this,b);var d=this.requestAnimationFrame(function(){b(),c.namedRafs_.has(a)&&c.namedRafs_.delete(a)});return this.namedRafs_.set(a,d),a}},b.cancelNamedAnimationFrame=function(a){this.namedRafs_.has(a)&&(this.cancelAnimationFrame(this.namedRafs_.get(a)),this.namedRafs_.delete(a))},b.cancelAnimationFrame=function(a){return this.supportsRaf_?(this.rafIds_.has(a)&&(this.rafIds_.delete(a),ab.default.cancelAnimationFrame(a)),a):this.clearTimeout(a)},b.clearTimersOnDispose_=function(){var a=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(b){var c=b[0],d=b[1];a[c].forEach(function(b,c){return a[d](c)})}),a.clearingTimersOnDispose_=!1}))},a.registerComponent=function(b,c){if("string"!=typeof b||!b)throw new Error('Illegal component name, "'+b+'"; must be a non-empty string.');var d=a.getComponent("Tech"),e=d&&d.isTech(c),f=a===c||a.prototype.isPrototypeOf(c.prototype);if(e||!f){var g;throw g=e?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+b+'"; '+g+".")}b=Ac(b),a.components_||(a.components_={});var h=a.getComponent("Player");if("Player"===b&&h&&h.players){var i=h.players,j=Object.keys(i);if(i&&j.length>0&&j.map(function(a){return i[a]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return a.components_[b]=c,a.components_[zc(b)]=c,c},a.getComponent=function(b){if(b&&a.components_)return a.components_[b]},a}();Gc.prototype.supportsRaf_="function"==typeof ab.default.requestAnimationFrame&&"function"==typeof ab.default.cancelAnimationFrame,Gc.registerComponent("Component",Gc),ga.prototype.code=0,ga.prototype.message="",ga.prototype.status=null,ga.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],ga.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Hc=0;Hc<ga.errorTypes.length;Hc++)ga[ga.errorTypes[Hc]]=Hc,ga.prototype[ga.errorTypes[Hc]]=Hc;var Ic=function(a){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(b,c,d){return a[c]&&(b[c]=a[c]),b},{cues:a.cues&&Array.prototype.map.call(a.cues,function(a){return{startTime:a.startTime,endTime:a.endTime,text:a.text,id:a.id}})})},Jc=function(a){var b=a.$$("track"),c=Array.prototype.map.call(b,function(a){return a.track});return Array.prototype.map.call(b,function(a){var b=Ic(a.track);return a.src&&(b.src=a.src),b}).concat(Array.prototype.filter.call(a.textTracks(),function(a){return-1===c.indexOf(a)}).map(Ic))},Kc=function(a,b){return a.forEach(function(a){var c=b.addRemoteTextTrack(a).track;!a.src&&a.cues&&a.cues.forEach(function(a){return c.addCue(a)})}),b.textTracks()},Lc={textTracksToJson:Jc,jsonToTextTracks:Kc,trackToJson_:Ic},Mc="vjs-modal-dialog",Nc=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.handleKeyDown_=function(a){return d.handleKeyDown(a)},d.close_=function(a){return d.close(a)},d.opened_=d.hasBeenOpened_=d.hasBeenFilled_=!1,d.closeable(!d.options_.uncloseable),d.content(d.options_.content),d.contentEl_=s("div",{className:Mc+"-content"},{role:"document"}),d.descEl_=s("p",{className:Mc+"-description vjs-control-text",id:d.el().getAttribute("aria-describedby")}),t(d.descEl_,d.description()),d.el_.appendChild(d.descEl_),d.el_.appendChild(d.contentEl_),d}eb.default(b,a);var c=b.prototype;return c.createEl=function(){return a.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},c.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,a.prototype.dispose.call(this)},c.buildCSSClass=function(){return Mc+" vjs-hidden "+a.prototype.buildCSSClass.call(this)},c.label=function(){return this.localize(this.options_.label||"Modal Window")},c.description=function(){var a=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(a+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),a},c.open=function(){if(!this.opened_){var a=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!a.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&a.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=a.controls(),a.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},c.opened=function(a){return"boolean"==typeof a&&this[a?"open":"close"](),this.opened_},c.close=function(){if(this.opened_){var a=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&a.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&a.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},c.closeable=function(a){if("boolean"==typeof a){var b=this.closeable_=!!a,c=this.getChild("closeButton");if(b&&!c){var d=this.contentEl_;this.contentEl_=this.el_,c=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=d,this.on(c,"close",this.close_)}!b&&c&&(this.off(c,"close",this.close_),this.removeChild(c),c.dispose())}return this.closeable_},c.fill=function(){this.fillWith(this.content())},c.fillWith=function(a){var b=this.contentEl(),c=b.parentNode,d=b.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,c.removeChild(b),this.empty(),N(b,a),this.trigger("modalfill"),d?c.insertBefore(b,d):c.appendChild(b);var e=this.getChild("closeButton");e&&c.appendChild(e.el_)},c.empty=function(){this.trigger("beforemodalempty"),K(this.contentEl()),this.trigger("modalempty")},c.content=function(a){return void 0!==a&&(this.content_=a),this.content_},c.conditionalFocus_=function(){var a=bb.default.activeElement,b=this.player_.el_;this.previouslyActiveEl_=null,(b.contains(a)||b===a)&&(this.previouslyActiveEl_=a,this.focus())},c.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},c.handleKeyDown=function(a){if(a.stopPropagation(),gb.default.isEventKey(a,"Escape")&&this.closeable())return a.preventDefault(),void this.close();if(gb.default.isEventKey(a,"Tab")){for(var b,c=this.focusableEls_(),d=this.el_.querySelector(":focus"),e=0;e<c.length;e++)if(d===c[e]){b=e;break}bb.default.activeElement===this.el_&&(b=0),a.shiftKey&&0===b?(c[c.length-1].focus(),a.preventDefault()):a.shiftKey||b!==c.length-1||(c[0].focus(),a.preventDefault())}},c.focusableEls_=function(){var a=this.el_.querySelectorAll("*");return Array.prototype.filter.call(a,function(a){return(a instanceof ab.default.HTMLAnchorElement||a instanceof ab.default.HTMLAreaElement)&&a.hasAttribute("href")||(a instanceof ab.default.HTMLInputElement||a instanceof ab.default.HTMLSelectElement||a instanceof ab.default.HTMLTextAreaElement||a instanceof ab.default.HTMLButtonElement)&&!a.hasAttribute("disabled")||a instanceof ab.default.HTMLIFrameElement||a instanceof ab.default.HTMLObjectElement||a instanceof ab.default.HTMLEmbedElement||a.hasAttribute("tabindex")&&-1!==a.getAttribute("tabindex")||a.hasAttribute("contenteditable")})},b}(Gc);Nc.prototype.options_={pauseOnOpen:!0,temporary:!0},Gc.registerComponent("ModalDialog",Nc);var Oc=function(a){function b(b){var c;void 0===b&&(b=[]),c=a.call(this)||this,c.tracks_=[],Object.defineProperty(db.default(c),"length",{get:function(){return this.tracks_.length}});for(var d=0;d<b.length;d++)c.addTrack(b[d]);return c}eb.default(b,a);var c=b.prototype;return c.addTrack=function(a){var b=this,c=this.tracks_.length;""+c in this||Object.defineProperty(this,c,{get:function(){return this.tracks_[c]}}),-1===this.tracks_.indexOf(a)&&(this.tracks_.push(a),this.trigger({track:a,type:"addtrack",target:this})),a.labelchange_=function(){b.trigger({track:a,type:"labelchange",target:b})},pc(a)&&a.addEventListener("labelchange",a.labelchange_)},c.removeTrack=function(a){for(var b,c=0,d=this.length;c<d;c++)if(this[c]===a){b=this[c],b.off&&b.off(),this.tracks_.splice(c,1);break}b&&this.trigger({track:b,type:"removetrack",target:this})},c.getTrackById=function(a){for(var b=null,c=0,d=this.length;c<d;c++){var e=this[c];if(e.id===a){b=e;break}}return b},b}(mc);Oc.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var Pc in Oc.prototype.allowedEvents_)Oc.prototype["on"+Pc]=null;var Qc=function(a,b){for(var c=0;c<a.length;c++)Object.keys(a[c]).length&&b.id!==a[c].id&&(a[c].enabled=!1)},Rc=function(a){function b(b){var c;void 0===b&&(b=[]);for(var d=b.length-1;d>=0;d--)if(b[d].enabled){Qc(b,b[d]);break}return c=a.call(this,b)||this,c.changing_=!1,c}eb.default(b,a);var c=b.prototype;return c.addTrack=function(b){var c=this;b.enabled&&Qc(this,b),a.prototype.addTrack.call(this,b),b.addEventListener&&(b.enabledChange_=function(){c.changing_||(c.changing_=!0,Qc(c,b),c.changing_=!1,c.trigger("change"))},b.addEventListener("enabledchange",b.enabledChange_))},c.removeTrack=function(b){a.prototype.removeTrack.call(this,b),b.removeEventListener&&b.enabledChange_&&(b.removeEventListener("enabledchange",b.enabledChange_),b.enabledChange_=null)},b}(Oc),Sc=function(a,b){for(var c=0;c<a.length;c++)Object.keys(a[c]).length&&b.id!==a[c].id&&(a[c].selected=!1)},Tc=function(a){function b(b){var c;void 0===b&&(b=[]);for(var d=b.length-1;d>=0;d--)if(b[d].selected){Sc(b,b[d]);break}return c=a.call(this,b)||this,c.changing_=!1,Object.defineProperty(db.default(c),"selectedIndex",{get:function(){for(var a=0;a<this.length;a++)if(this[a].selected)return a;return-1},set:function(){}}),c}eb.default(b,a);var c=b.prototype;return c.addTrack=function(b){var c=this;b.selected&&Sc(this,b),a.prototype.addTrack.call(this,b),b.addEventListener&&(b.selectedChange_=function(){c.changing_||(c.changing_=!0,Sc(c,b),c.changing_=!1,c.trigger("change"))},b.addEventListener("selectedchange",b.selectedChange_))},c.removeTrack=function(b){a.prototype.removeTrack.call(this,b),b.removeEventListener&&b.selectedChange_&&(b.removeEventListener("selectedchange",b.selectedChange_),b.selectedChange_=null)},b}(Oc),Uc=function(a){function b(){return a.apply(this,arguments)||this}eb.default(b,a);var c=b.prototype;return c.addTrack=function(b){var c=this;a.prototype.addTrack.call(this,b),this.queueChange_||(this.queueChange_=function(){return c.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return c.trigger("selectedlanguagechange")}),b.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(b.kind)&&b.addEventListener("modechange",this.triggerSelectedlanguagechange_)},c.removeTrack=function(b){a.prototype.removeTrack.call(this,b),b.removeEventListener&&(this.queueChange_&&b.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&b.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},b}(Oc),Vc=function(){function a(a){void 0===a&&(a=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var b=0,c=a.length;b<c;b++)this.addTrackElement_(a[b])}var b=a.prototype;return b.addTrackElement_=function(a){var b=this.trackElements_.length;""+b in this||Object.defineProperty(this,b,{get:function(){return this.trackElements_[b]}}),-1===this.trackElements_.indexOf(a)&&this.trackElements_.push(a)},b.getTrackElementByTrack_=function(a){for(var b,c=0,d=this.trackElements_.length;c<d;c++)if(a===this.trackElements_[c].track){b=this.trackElements_[c];break}return b},b.removeTrackElement_=function(a){for(var b=0,c=this.trackElements_.length;b<c;b++)if(a===this.trackElements_[b]){this.trackElements_[b].track&&"function"==typeof this.trackElements_[b].track.off&&this.trackElements_[b].track.off(),"function"==typeof this.trackElements_[b].off&&this.trackElements_[b].off(),this.trackElements_.splice(b,1);break}},a}(),Wc=function(){function a(b){a.prototype.setCues_.call(this,b),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var b=a.prototype;return b.setCues_=function(a){var b=this.length||0,c=0,d=a.length;this.cues_=a,this.length_=a.length;var e=function(a){""+a in this||Object.defineProperty(this,""+a,{get:function(){return this.cues_[a]}})};if(b<d)for(c=b;c<d;c++)e.call(this,c)},b.getCueById=function(a){for(var b=null,c=0,d=this.length;c<d;c++){var e=this[c];if(e.id===a){b=e;break}}return b},a}(),Xc={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Yc={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Zc={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},$c={disabled:"disabled",hidden:"hidden",showing:"showing"},_c=function(a){function b(b){var c;void 0===b&&(b={}),c=a.call(this)||this;var d={id:b.id||"vjs_track_"+R(),kind:b.kind||"",language:b.language||""},e=b.label||"",f=function(a){Object.defineProperty(db.default(c),a,{get:function(){return d[a]},set:function(){}})};for(var g in d)f(g);return Object.defineProperty(db.default(c),"label",{get:function(){return e},set:function(a){a!==e&&(e=a,this.trigger("labelchange"))}}),c}return eb.default(b,a),b}(mc),ad=function(a){var b=["protocol","hostname","port","pathname","search","hash","host"],c=bb.default.createElement("a");c.href=a;for(var d={},e=0;e<b.length;e++)d[b[e]]=c[b[e]];return"http:"===d.protocol&&(d.host=d.host.replace(/:80$/,"")),"https:"===d.protocol&&(d.host=d.host.replace(/:443$/,"")),d.protocol||(d.protocol=ab.default.location.protocol),d.host||(d.host=ab.default.location.host),d},bd=function(a){if(!a.match(/^https?:\/\//)){var b=bb.default.createElement("a");b.href=a,a=b.href}return a},cd=function(a){if("string"==typeof a){var b=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,c=b.exec(a);if(c)return c.pop().toLowerCase()}return""},dd=function(a,b){void 0===b&&(b=ab.default.location);var c=ad(a);return(":"===c.protocol?b.protocol:c.protocol)+c.host!==b.protocol+b.host},ed=Object.freeze({__proto__:null,parseUrl:ad,getAbsoluteURL:bd,getFileExtension:cd,isCrossOrigin:dd}),fd=function(a,b){var c=new ab.default.WebVTT.Parser(ab.default,ab.default.vttjs,ab.default.WebVTT.StringDecoder()),d=[];c.oncue=function(a){b.addCue(a)},c.onparsingerror=function(a){d.push(a)},c.onflush=function(){b.trigger({type:"loadeddata",target:b})},c.parse(a),d.length>0&&(ab.default.console&&ab.default.console.groupCollapsed&&ab.default.console.groupCollapsed("Text Track parsing errors for "+b.src),d.forEach(function(a){return wb.error(a)}),ab.default.console&&ab.default.console.groupEnd&&ab.default.console.groupEnd()),c.flush()},gd=function(a,b){var c={uri:a},d=dd(a);d&&(c.cors=d);var e="use-credentials"===b.tech_.crossOrigin();e&&(c.withCredentials=e),hb.default(c,jc(this,function(a,c,d){if(a)return wb.error(a,c);b.loaded_=!0,"function"!=typeof ab.default.WebVTT?b.tech_&&b.tech_.any(["vttjsloaded","vttjserror"],function(a){return"vttjserror"===a.type?void wb.error("vttjs failed to load, stopping trying to process "+b.src):fd(d,b)}):fd(d,b)}))},hd=function(a){function b(b){var c;if(void 0===b&&(b={}),!b.tech)throw new Error("A tech was not provided.");var d=aa(b,{kind:Zc[b.kind]||"subtitles",language:b.language||b.srclang||""}),e=$c[d.mode]||"disabled",f=d.default;"metadata"!==d.kind&&"chapters"!==d.kind||(e="hidden"),c=a.call(this,d)||this,c.tech_=d.tech,c.cues_=[],c.activeCues_=[],c.preload_=!1!==c.tech_.preloadTextTracks;var g=new Wc(c.cues_),h=new Wc(c.activeCues_),i=!1,j=jc(db.default(c),function(){this.tech_.isReady_&&!this.tech_.isDisposed()&&(this.activeCues=this.activeCues,i&&(this.trigger("cuechange"),i=!1))}),k=function(){c.tech_.off("timeupdate",j)};return c.tech_.one("dispose",k),"disabled"!==e&&c.tech_.on("timeupdate",j),Object.defineProperties(db.default(c),{default:{get:function(){return f},set:function(){}},mode:{get:function(){return e},set:function(a){$c[a]&&e!==a&&(e=a,this.preload_||"disabled"===e||0!==this.cues.length||gd(this.src,this),this.tech_.off("timeupdate",j),"disabled"!==e&&this.tech_.on("timeupdate",j),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?g:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return h;for(var a=this.tech_.currentTime(),b=[],c=0,d=this.cues.length;c<d;c++){var e=this.cues[c];e.startTime<=a&&e.endTime>=a?b.push(e):e.startTime===e.endTime&&e.startTime<=a&&e.startTime+.5>=a&&b.push(e)}if(i=!1,b.length!==this.activeCues_.length)i=!0;else for(var f=0;f<b.length;f++)-1===this.activeCues_.indexOf(b[f])&&(i=!0);return this.activeCues_=b,h.setCues_(this.activeCues_),h},set:function(){}}}),d.src?(c.src=d.src,c.preload_||(c.loaded_=!0),(c.preload_||"subtitles"!==d.kind&&"captions"!==d.kind)&&gd(c.src,db.default(c))):c.loaded_=!0,c}eb.default(b,a);var c=b.prototype;return c.addCue=function(a){var b=a;if(ab.default.vttjs&&!(a instanceof ab.default.vttjs.VTTCue)){b=new ab.default.vttjs.VTTCue(a.startTime,a.endTime,a.text);for(var c in a)c in b||(b[c]=a[c]);b.id=a.id,b.originalCue_=a}for(var d=this.tech_.textTracks(),e=0;e<d.length;e++)d[e]!==this&&d[e].removeCue(b);this.cues_.push(b),this.cues.setCues_(this.cues_)},c.removeCue=function(a){for(var b=this.cues_.length;b--;){var c=this.cues_[b];if(c===a||c.originalCue_&&c.originalCue_===a){this.cues_.splice(b,1),this.cues.setCues_(this.cues_);break}}},b}(_c);hd.prototype.allowedEvents_={cuechange:"cuechange"};var id=function(a){function b(b){var c;void 0===b&&(b={});var d=aa(b,{kind:Yc[b.kind]||""});c=a.call(this,d)||this;var e=!1;return Object.defineProperty(db.default(c),"enabled",{get:function(){return e},set:function(a){"boolean"==typeof a&&a!==e&&(e=a,this.trigger("enabledchange"))}}),d.enabled&&(c.enabled=d.enabled),c.loaded_=!0,c}return eb.default(b,a),b}(_c),jd=function(a){function b(b){var c;void 0===b&&(b={});var d=aa(b,{kind:Xc[b.kind]||""});c=a.call(this,d)||this;var e=!1;return Object.defineProperty(db.default(c),"selected",{get:function(){return e},set:function(a){"boolean"==typeof a&&a!==e&&(e=a,this.trigger("selectedchange"))}}),d.selected&&(c.selected=d.selected),c}return eb.default(b,a),b}(_c),kd=0,ld=2,md=function(a){function b(b){var c;void 0===b&&(b={}),c=a.call(this)||this;var d,e=new hd(b);return c.kind=e.kind,c.src=e.src,c.srclang=e.language,c.label=e.label,c.default=e.default,Object.defineProperties(db.default(c),{readyState:{get:function(){return d}},track:{get:function(){return e}}}),d=kd,e.addEventListener("loadeddata",function(){d=ld,c.trigger({type:"load",target:db.default(c)})}),c}return eb.default(b,a),b}(mc);md.prototype.allowedEvents_={load:"load"},md.NONE=kd,md.LOADING=1,md.LOADED=ld,md.ERROR=3;var nd={audio:{ListClass:Rc,TrackClass:id,capitalName:"Audio"},video:{ListClass:Tc,TrackClass:jd,capitalName:"Video"},text:{ListClass:Uc,TrackClass:hd,capitalName:"Text"}};Object.keys(nd).forEach(function(a){nd[a].getterName=a+"Tracks",nd[a].privateName=a+"Tracks_"});var od={remoteText:{ListClass:Uc,TrackClass:hd,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Vc,TrackClass:md,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},pd=cb.default({},nd,od);od.names=Object.keys(od),nd.names=Object.keys(nd),pd.names=[].concat(od.names).concat(nd.names);var qd=function(a){function b(b,c){var d;return void 0===b&&(b={}),void 0===c&&(c=function(){}),b.reportTouchActivity=!1,d=a.call(this,null,b,c)||this,d.onDurationChange_=function(a){return d.onDurationChange(a)},d.trackProgress_=function(a){return d.trackProgress(a)},d.trackCurrentTime_=function(a){return d.trackCurrentTime(a)},d.stopTrackingCurrentTime_=function(a){return d.stopTrackingCurrentTime(a)},d.disposeSourceHandler_=function(a){return d.disposeSourceHandler(a)},d.hasStarted_=!1,d.on("playing",function(){this.hasStarted_=!0}),d.on("loadstart",function(){this.hasStarted_=!1}),pd.names.forEach(function(a){var c=pd[a];b&&b[c.getterName]&&(d[c.privateName]=b[c.getterName])}),d.featuresProgressEvents||d.manualProgressOn(),d.featuresTimeupdateEvents||d.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(a){!1===b["native"+a+"Tracks"]&&(d["featuresNative"+a+"Tracks"]=!1)}),!1===b.nativeCaptions||!1===b.nativeTextTracks?d.featuresNativeTextTracks=!1:!0!==b.nativeCaptions&&!0!==b.nativeTextTracks||(d.featuresNativeTextTracks=!0),d.featuresNativeTextTracks||d.emulateTextTracks(),d.preloadTextTracks=!1!==b.preloadTextTracks,d.autoRemoteTextTracks_=new pd.text.ListClass,d.initTrackListeners(),b.nativeControlsForTouch||d.emitTapEvents(),d.constructor&&(d.name_=d.constructor.name||"Unknown Tech"),d}eb.default(b,a);var c=b.prototype;return c.triggerSourceset=function(a){var b=this;this.isReady_||this.one("ready",function(){return b.setTimeout(function(){return b.triggerSourceset(a)},1)}),this.trigger({src:a,type:"sourceset"})},c.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},c.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},c.trackProgress=function(a){this.stopTrackingProgress(),this.progressInterval=this.setInterval(jc(this,function(){var a=this.bufferedPercent();this.bufferedPercent_!==a&&this.trigger("progress"),this.bufferedPercent_=a,1===a&&this.stopTrackingProgress()}),500)},c.onDurationChange=function(a){this.duration_=this.duration()},c.buffered=function(){return ea(0,0)},c.bufferedPercent=function(){return fa(this.buffered(),this.duration_)},c.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},c.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},c.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},c.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},c.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},c.dispose=function(){this.clearTracks(nd.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),a.prototype.dispose.call(this)},c.clearTracks=function(a){var b=this;a=[].concat(a),a.forEach(function(a){for(var c=b[a+"Tracks"]()||[],d=c.length;d--;){var e=c[d];"text"===a&&b.removeRemoteTextTrack(e),c.removeTrack(e)}})},c.cleanupAutoTextTracks=function(){for(var a=this.autoRemoteTextTracks_||[],b=a.length;b--;){var c=a[b];this.removeRemoteTextTrack(c)}},c.reset=function(){},c.crossOrigin=function(){},c.setCrossOrigin=function(){},c.error=function(a){return void 0!==a&&(this.error_=new ga(a),this.trigger("error")),this.error_},c.played=function(){return this.hasStarted_?ea(0,0):ea()},c.play=function(){},c.setScrubbing=function(){},c.scrubbing=function(){},c.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},c.initTrackListeners=function(){var a=this;nd.names.forEach(function(b){var c=nd[b],d=function(){a.trigger(b+"trackchange")},e=a[c.getterName]();e.addEventListener("removetrack",d),e.addEventListener("addtrack",d),a.on("dispose",function(){e.removeEventListener("removetrack",d),e.removeEventListener("addtrack",d)})})},c.addWebVttScript_=function(){var a=this;if(!ab.default.WebVTT)if(bb.default.body.contains(this.el())){if(!this.options_["vtt.js"]&&j(ib.default)&&Object.keys(ib.default).length>0)return void this.trigger("vttjsloaded");var b=bb.default.createElement("script");b.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",b.onload=function(){a.trigger("vttjsloaded")},b.onerror=function(){a.trigger("vttjserror")},this.on("dispose",function(){b.onload=null,b.onerror=null}),ab.default.WebVTT=!0,this.el().parentNode.appendChild(b)}else this.ready(this.addWebVttScript_)},c.emulateTextTracks=function(){var a=this,b=this.textTracks(),c=this.remoteTextTracks(),d=function(a){return b.addTrack(a.track)},e=function(a){return b.removeTrack(a.track)};c.on("addtrack",d),c.on("removetrack",e),this.addWebVttScript_();var f=function(){return a.trigger("texttrackchange")},g=function(){f();for(var a=0;a<b.length;a++){var c=b[a];c.removeEventListener("cuechange",f),"showing"===c.mode&&c.addEventListener("cuechange",f)}};g(),b.addEventListener("change",g),b.addEventListener("addtrack",g),b.addEventListener("removetrack",g),this.on("dispose",function(){c.off("addtrack",d),c.off("removetrack",e),b.removeEventListener("change",g),b.removeEventListener("addtrack",g),b.removeEventListener("removetrack",g);for(var a=0;a<b.length;a++){b[a].removeEventListener("cuechange",f)}})},c.addTextTrack=function(a,b,c){if(!a)throw new Error("TextTrack kind is required but was not provided");return ja(this,a,b,c)},c.createRemoteTextTrack=function(a){var b=aa(a,{tech:this});return new od.remoteTextEl.TrackClass(b)},c.addRemoteTextTrack=function(a,b){var c=this;void 0===a&&(a={});var d=this.createRemoteTextTrack(a);return!0!==b&&!1!==b&&(wb.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),b=!0),this.remoteTextTrackEls().addTrackElement_(d),this.remoteTextTracks().addTrack(d.track),!0!==b&&this.ready(function(){return c.autoRemoteTextTracks_.addTrack(d.track)}),d},c.removeRemoteTextTrack=function(a){var b=this.remoteTextTrackEls().getTrackElementByTrack_(a);this.remoteTextTrackEls().removeTrackElement_(b),this.remoteTextTracks().removeTrack(a),this.autoRemoteTextTracks_.removeTrack(a)},c.getVideoPlaybackQuality=function(){return{}},c.requestPictureInPicture=function(){var a=this.options_.Promise||ab.default.Promise;if(a)return a.reject()},c.disablePictureInPicture=function(){return!0},c.setDisablePictureInPicture=function(){},c.setPoster=function(){},c.playsinline=function(){},c.setPlaysinline=function(){},c.overrideNativeAudioTracks=function(){},c.overrideNativeVideoTracks=function(){},c.canPlayType=function(){return""},b.canPlayType=function(){return""},b.canPlaySource=function(a,c){return b.canPlayType(a.type)},b.isTech=function(a){return a.prototype instanceof b||a instanceof b||a===b},b.registerTech=function(a,c){if(b.techs_||(b.techs_={}),!b.isTech(c))throw new Error("Tech "+a+" must be a Tech");if(!b.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!b.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return a=Ac(a),b.techs_[a]=c,b.techs_[zc(a)]=c,"Tech"!==a&&b.defaultTechOrder_.push(a),c},b.getTech=function(a){if(a)return b.techs_&&b.techs_[a]?b.techs_[a]:(a=Ac(a),ab.default&&ab.default.videojs&&ab.default.videojs[a]?(wb.warn("The "+a+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),ab.default.videojs[a]):void 0)},b}(Gc);pd.names.forEach(function(a){var b=pd[a];qd.prototype[b.getterName]=function(){return this[b.privateName]=this[b.privateName]||new b.ListClass,this[b.privateName]}}),qd.prototype.featuresVolumeControl=!0,qd.prototype.featuresMuteControl=!0,qd.prototype.featuresFullscreenResize=!1,qd.prototype.featuresPlaybackRate=!1,qd.prototype.featuresProgressEvents=!1,qd.prototype.featuresSourceset=!1,qd.prototype.featuresTimeupdateEvents=!1,qd.prototype.featuresNativeTextTracks=!1,qd.withSourceHandlers=function(a){a.registerSourceHandler=function(b,c){var d=a.sourceHandlers;d||(d=a.sourceHandlers=[]),void 0===c&&(c=d.length),d.splice(c,0,b)},a.canPlayType=function(b){for(var c,d=a.sourceHandlers||[],e=0;e<d.length;e++)if(c=d[e].canPlayType(b))return c;return""},a.selectSourceHandler=function(b,c){for(var d=a.sourceHandlers||[],e=0;e<d.length;e++)if(d[e].canHandleSource(b,c))return d[e];return null},a.canPlaySource=function(b,c){var d=a.selectSourceHandler(b,c);return d?d.canHandleSource(b,c):""},["seekable","seeking","duration"].forEach(function(a){var b=this[a];"function"==typeof b&&(this[a]=function(){return this.sourceHandler_&&this.sourceHandler_[a]?this.sourceHandler_[a].apply(this.sourceHandler_,arguments):b.apply(this,arguments)})},a.prototype),a.prototype.setSource=function(b){var c=a.selectSourceHandler(b,this.options_);c||(a.nativeSourceHandler?c=a.nativeSourceHandler:wb.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),c!==a.nativeSourceHandler&&(this.currentSource_=b),this.sourceHandler_=c.handleSource(b,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},a.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Gc.registerComponent("Tech",qd),qd.registerTech("Tech",qd),qd.defaultTechOrder_=[];var rd={},sd={},td={},ud={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},vd={setCurrentTime:1,setMuted:1,setVolume:1},wd={play:1,pause:1},xd={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},yd=function(a){void 0===a&&(a="");var b=cd(a);return xd[b.toLowerCase()]||""},zd=function(a,b){if(!b)return"";if(a.cache_.source.src===b&&a.cache_.source.type)return a.cache_.source.type;var c=a.cache_.sources.filter(function(a){return a.src===b});if(c.length)return c[0].type;for(var d=a.$$("source"),e=0;e<d.length;e++){var f=d[e];if(f.type&&f.src&&f.src===b)return f.type}return yd(b)},Ad=function a(b){if(Array.isArray(b)){var c=[];b.forEach(function(b){b=a(b),Array.isArray(b)?c=c.concat(b):i(b)&&c.push(b)}),b=c}else b="string"==typeof b&&b.trim()?[va({src:b})]:i(b)&&"string"==typeof b.src&&b.src&&b.src.trim()?[va(b)]:[];return b},Bd=function(a){function b(b,c,d){var e,f=aa({createEl:!1},c);if(e=a.call(this,b,f,d)||this,c.playerOptions.sources&&0!==c.playerOptions.sources.length)b.src(c.playerOptions.sources);else for(var g=0,h=c.playerOptions.techOrder;g<h.length;g++){var i=Ac(h[g]),j=qd.getTech(i);if(i||(j=Gc.getComponent(i)),j&&j.isSupported()){b.loadTech_(i);break}}return e}return eb.default(b,a),b}(Gc);Gc.registerComponent("MediaLoader",Bd);var Cd=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.handleMouseOver_=function(a){return d.handleMouseOver(a)},d.handleMouseOut_=function(a){return d.handleMouseOut(a)},d.handleClick_=function(a){return d.handleClick(a)},d.handleKeyDown_=function(a){return d.handleKeyDown(a)},d.emitTapEvents(),d.enable(),d}eb.default(b,a);var c=b.prototype;return c.createEl=function(b,c,d){void 0===b&&(b="div"),void 0===c&&(c={}),void 0===d&&(d={}),c=h({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},c),"button"===b&&wb.error("Creating a ClickableComponent with an HTML element of "+b+" is not supported; use a Button instead."),d=h({role:"button"},d),this.tabIndex_=c.tabIndex;var e=a.prototype.createEl.call(this,b,c,d);return this.createControlTextEl(e),e},c.dispose=function(){this.controlTextEl_=null,a.prototype.dispose.call(this)},c.createControlTextEl=function(a){return this.controlTextEl_=s("span",{className:"vjs-control-text"},{"aria-live":"polite"}),a&&a.appendChild(this.controlTextEl_),this.controlText(this.controlText_,a),this.controlTextEl_},c.controlText=function(a,b){if(void 0===b&&(b=this.el()),void 0===a)return this.controlText_||"Need Text";var c=this.localize(a);this.controlText_=a,t(this.controlTextEl_,c),this.nonIconControl||this.player_.options_.noUITitleAttributes||b.setAttribute("title",c)},c.buildCSSClass=function(){return"vjs-control vjs-button "+a.prototype.buildCSSClass.call(this)},c.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},c.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},c.handleLanguagechange=function(){this.controlText(this.controlText_)},c.handleClick=function(a){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},c.handleKeyDown=function(b){gb.default.isEventKey(b,"Space")||gb.default.isEventKey(b,"Enter")?(b.preventDefault(),b.stopPropagation(),this.trigger("click")):a.prototype.handleKeyDown.call(this,b)},b}(Gc);Gc.registerComponent("ClickableComponent",Cd);var Dd=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.update(),d.update_=function(a){return d.update(a)},b.on("posterchange",d.update_),d}eb.default(b,a);var c=b.prototype;return c.dispose=function(){this.player().off("posterchange",this.update_),a.prototype.dispose.call(this)},c.createEl=function(){return s("div",{className:"vjs-poster",tabIndex:-1})},c.update=function(a){var b=this.player().poster();this.setSrc(b),b?this.show():this.hide()},c.setSrc=function(a){var b="";a&&(b='url("'+a+'")'),this.el_.style.backgroundImage=b},c.handleClick=function(a){if(this.player_.controls()){var b=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(Mb||Jb)&&b||this.player_.tech(!0).focus(),this.player_.paused()?ia(this.player_.play()):this.player_.pause()}},b}(Cd);Gc.registerComponent("PosterImage",Dd);var Ed="#222",Fd="#ccc",Gd={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},Hd=function(a){function b(b,c,d){var e;e=a.call(this,b,c,d)||this;var f=function(a){return e.updateDisplay(a)};return b.on("loadstart",function(a){return e.toggleDisplay(a)}),b.on("texttrackchange",f),b.on("loadedmetadata",function(a){return e.preselectTrack(a)}),b.ready(jc(db.default(e),function(){if(b.tech_&&b.tech_.featuresNativeTextTracks)return void this.hide();b.on("fullscreenchange",f),b.on("playerresize",f),ab.default.addEventListener("orientationchange",f),b.on("dispose",function(){return ab.default.removeEventListener("orientationchange",f)});for(var a=this.options_.playerOptions.tracks||[],c=0;c<a.length;c++)this.player_.addRemoteTextTrack(a[c],!0);this.preselectTrack()})),e}eb.default(b,a);var c=b.prototype;return c.preselectTrack=function(){for(var a,b,c,d={captions:1,subtitles:1},e=this.player_.textTracks(),f=this.player_.cache_.selectedLanguage,g=0;g<e.length;g++){var h=e[g];f&&f.enabled&&f.language&&f.language===h.language&&h.kind in d?h.kind===f.kind?c=h:c||(c=h):f&&!f.enabled?(c=null,a=null,b=null):h.default&&("descriptions"!==h.kind||a?h.kind in d&&!b&&(b=h):a=h)}c?c.mode="showing":b?b.mode="showing":a&&(a.mode="showing")},c.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},c.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},c.clearDisplay=function(){"function"==typeof ab.default.WebVTT&&ab.default.WebVTT.processCues(ab.default,[],this.el_)},c.updateDisplay=function(){var a=this.player_.textTracks(),b=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),b){for(var c=[],d=0;d<a.length;++d){var e=a[d];"showing"===e.mode&&c.push(e)}return void this.updateForTrack(c)}for(var f=null,g=null,h=a.length;h--;){var i=a[h];"showing"===i.mode&&("descriptions"===i.kind?f=i:g=i)}g?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(g)):f&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(f))},c.updateDisplayState=function(a){for(var b=this.player_.textTrackSettings.getValues(),c=a.activeCues,d=c.length;d--;){var e=c[d];if(e){var f=e.displayState;if(b.color&&(f.firstChild.style.color=b.color),b.textOpacity&&xa(f.firstChild,"color",wa(b.color||"#fff",b.textOpacity)),b.backgroundColor&&(f.firstChild.style.backgroundColor=b.backgroundColor),b.backgroundOpacity&&xa(f.firstChild,"backgroundColor",wa(b.backgroundColor||"#000",b.backgroundOpacity)),b.windowColor&&(b.windowOpacity?xa(f,"backgroundColor",wa(b.windowColor,b.windowOpacity)):f.style.backgroundColor=b.windowColor),b.edgeStyle&&("dropshadow"===b.edgeStyle?f.firstChild.style.textShadow="2px 2px 3px "+Ed+", 2px 2px 4px "+Ed+", 2px 2px 5px "+Ed:"raised"===b.edgeStyle?f.firstChild.style.textShadow="1px 1px "+Ed+", 2px 2px "+Ed+", 3px 3px "+Ed:"depressed"===b.edgeStyle?f.firstChild.style.textShadow="1px 1px "+Fd+", 0 1px "+Fd+", -1px -1px "+Ed+", 0 -1px "+Ed:"uniform"===b.edgeStyle&&(f.firstChild.style.textShadow="0 0 4px "+Ed+", 0 0 4px "+Ed+", 0 0 4px "+Ed+", 0 0 4px "+Ed)),b.fontPercent&&1!==b.fontPercent){var g=ab.default.parseFloat(f.style.fontSize);f.style.fontSize=g*b.fontPercent+"px",f.style.height="auto",f.style.top="auto"}b.fontFamily&&"default"!==b.fontFamily&&("small-caps"===b.fontFamily?f.firstChild.style.fontVariant="small-caps":f.firstChild.style.fontFamily=Gd[b.fontFamily])}}},c.updateForTrack=function(a){if(Array.isArray(a)||(a=[a]),"function"==typeof ab.default.WebVTT&&!a.every(function(a){return!a.activeCues})){for(var b=[],c=0;c<a.length;++c)for(var d=a[c],e=0;e<d.activeCues.length;++e)b.push(d.activeCues[e]);ab.default.WebVTT.processCues(ab.default,b,this.el_);for(var f=0;f<a.length;++f){for(var g=a[f],h=0;h<g.activeCues.length;++h){var i=g.activeCues[h].displayState;w(i,"vjs-text-track-cue"),w(i,"vjs-text-track-cue-"+(g.language?g.language:f))}this.player_.textTrackSettings&&this.updateDisplayState(g)}}},b}(Gc);Gc.registerComponent("TextTrackDisplay",Hd);var Id=function(a){function b(){return a.apply(this,arguments)||this}return eb.default(b,a),b.prototype.createEl=function(){var b=this.player_.isAudio(),c=this.localize(b?"Audio Player":"Video Player"),d=s("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[c])}),e=a.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return e.appendChild(d),e},b}(Gc);Gc.registerComponent("LoadingSpinner",Id);var Jd=function(a){function b(){return a.apply(this,arguments)||this}eb.default(b,a);var c=b.prototype;return c.createEl=function(a,b,c){void 0===b&&(b={}),void 0===c&&(c={}),a="button",b=h({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},b),c=h({type:"button"},c);var d=Gc.prototype.createEl.call(this,a,b,c);return this.createControlTextEl(d),d},c.addChild=function(a,b){void 0===b&&(b={});var c=this.constructor.name;return wb.warn("Adding an actionable (user controllable) child to a Button ("+c+") is not supported; use a ClickableComponent instead."),Gc.prototype.addChild.call(this,a,b)},c.enable=function(){a.prototype.enable.call(this),this.el_.removeAttribute("disabled")},c.disable=function(){a.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},c.handleKeyDown=function(b){if(gb.default.isEventKey(b,"Space")||gb.default.isEventKey(b,"Enter"))return void b.stopPropagation();a.prototype.handleKeyDown.call(this,b)},b}(Cd);Gc.registerComponent("Button",Jd);var Kd=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.mouseused_=!1,d.on("mousedown",function(a){return d.handleMouseDown(a)}),d}eb.default(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-big-play-button"},c.handleClick=function(a){var b=this.player_.play();if(this.mouseused_&&a.clientX&&a.clientY){var c=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return ia(b),void(!this.player_.tech(!0)||(Mb||Jb)&&c||this.player_.tech(!0).focus())}var d=this.player_.getChild("controlBar"),e=d&&d.getChild("playToggle");if(!e)return void this.player_.tech(!0).focus();var f=function(){return e.focus()};ha(b)?b.then(f,function(){}):this.setTimeout(f,1)},c.handleKeyDown=function(b){this.mouseused_=!1,a.prototype.handleKeyDown.call(this,b)},c.handleMouseDown=function(a){this.mouseused_=!0},b}(Jd);Kd.prototype.controlText_="Play Video",Gc.registerComponent("BigPlayButton",Kd);var Ld=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.controlText(c&&c.controlText||d.localize("Close")),d}eb.default(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-close-button "+a.prototype.buildCSSClass.call(this)},c.handleClick=function(a){this.trigger({type:"close",bubbles:!1})},c.handleKeyDown=function(b){gb.default.isEventKey(b,"Esc")?(b.preventDefault(),b.stopPropagation(),this.trigger("click")):a.prototype.handleKeyDown.call(this,b)},b}(Jd);Gc.registerComponent("CloseButton",Ld);var Md=function(a){function b(b,c){var d;return void 0===c&&(c={}),d=a.call(this,b,c)||this,c.replay=void 0===c.replay||c.replay,d.on(b,"play",function(a){return d.handlePlay(a)}),d.on(b,"pause",function(a){return d.handlePause(a)}),c.replay&&d.on(b,"ended",function(a){return d.handleEnded(a)}),d}eb.default(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-play-control "+a.prototype.buildCSSClass.call(this)},c.handleClick=function(a){this.player_.paused()?ia(this.player_.play()):this.player_.pause()},c.handleSeeked=function(a){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(a):this.handlePlay(a)},c.handlePlay=function(a){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},c.handlePause=function(a){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},c.handleEnded=function(a){var b=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(a){return b.handleSeeked(a)})},b}(Jd);Md.prototype.controlText_="Play",Gc.registerComponent("PlayToggle",Md);var Nd=function(a,b){a=a<0?0:a;var c=Math.floor(a%60),d=Math.floor(a/60%60),e=Math.floor(a/3600),f=Math.floor(b/60%60),g=Math.floor(b/3600);return(isNaN(a)||a===1/0)&&(e=d=c="-"),e=e>0||g>0?e+":":"",d=((e||f>=10)&&d<10?"0"+d:d)+":",c=c<10?"0"+c:c,e+d+c},Od=Nd,Pd=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.on(b,["timeupdate","ended"],function(a){return d.updateContent(a)}),d.updateTextNode_(),d}eb.default(b,a);var c=b.prototype;return c.createEl=function(){var b=this.buildCSSClass(),c=a.prototype.createEl.call(this,"div",{className:b+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=s("span",{className:b+"-display"},{"aria-live":"off",role:"presentation"}),c.appendChild(this.contentEl_),c},c.dispose=function(){this.contentEl_=null,this.textNode_=null,a.prototype.dispose.call(this)},c.updateTextNode_=function(a){var b=this;void 0===a&&(a=0),a=Aa(a),this.formattedTime_!==a&&(this.formattedTime_=a,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(b.contentEl_){var a=b.textNode_;a&&b.contentEl_.firstChild!==a&&(a=null,wb.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),b.textNode_=bb.default.createTextNode(b.formattedTime_),b.textNode_&&(a?b.contentEl_.replaceChild(b.textNode_,a):b.contentEl_.appendChild(b.textNode_))}}))},c.updateContent=function(a){},b}(Gc);Pd.prototype.labelText_="Time",Pd.prototype.controlText_="Time",Gc.registerComponent("TimeDisplay",Pd);var Qd=function(a){function b(){return a.apply(this,arguments)||this}eb.default(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-current-time"},c.updateContent=function(a){var b;b=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(b)},b}(Pd);Qd.prototype.labelText_="Current Time",Qd.prototype.controlText_="Current Time",Gc.registerComponent("CurrentTimeDisplay",Qd);var Rd=function(a){function b(b,c){var d;d=a.call(this,b,c)||this;var e=function(a){return d.updateContent(a)};return d.on(b,"durationchange",e),d.on(b,"loadstart",e),d.on(b,"loadedmetadata",e),d}eb.default(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-duration"},c.updateContent=function(a){var b=this.player_.duration();this.updateTextNode_(b)},b}(Pd);Rd.prototype.labelText_="Duration",Rd.prototype.controlText_="Duration",Gc.registerComponent("DurationDisplay",Rd);var Sd=function(a){function b(){return a.apply(this,arguments)||this}return eb.default(b,a),b.prototype.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},b}(Gc);Gc.registerComponent("TimeDivider",Sd);var Td=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.on(b,"durationchange",function(a){return d.updateContent(a)}),d}eb.default(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-remaining-time"},c.createEl=function(){var b=a.prototype.createEl.call(this);return b.insertBefore(s("span",{},{"aria-hidden":!0},"-"),this.contentEl_),b},c.updateContent=function(a){if("number"==typeof this.player_.duration()){var b;b=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(b)}},b}(Pd);Td.prototype.labelText_="Remaining Time",Td.prototype.controlText_="Remaining Time",Gc.registerComponent("RemainingTimeDisplay",Td);var Ud=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.updateShowing(),d.on(d.player(),"durationchange",function(a){return d.updateShowing(a)}),d}eb.default(b,a);var c=b.prototype;return c.createEl=function(){var b=a.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=s("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),b.appendChild(this.contentEl_),b},c.dispose=function(){this.contentEl_=null,a.prototype.dispose.call(this)},c.updateShowing=function(a){this.player().duration()===1/0?this.show():this.hide()},b}(Gc);Gc.registerComponent("LiveDisplay",Ud);var Vd=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.updateLiveEdgeStatus(),d.player_.liveTracker&&(d.updateLiveEdgeStatusHandler_=function(a){return d.updateLiveEdgeStatus(a)},d.on(d.player_.liveTracker,"liveedgechange",d.updateLiveEdgeStatusHandler_)),d}eb.default(b,a);var c=b.prototype;return c.createEl=function(){var b=a.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=s("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),b.appendChild(this.textEl_),b},c.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},c.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},c.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,a.prototype.dispose.call(this)},b}(Jd);Vd.prototype.controlText_="Seek to live, currently playing live",Gc.registerComponent("SeekToLive",Vd);var Wd=function(a,b,c){return a=Number(a),Math.min(c,Math.max(b,isNaN(a)?b:a))},Xd=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.handleMouseDown_=function(a){return d.handleMouseDown(a)},d.handleMouseUp_=function(a){return d.handleMouseUp(a)},d.handleKeyDown_=function(a){return d.handleKeyDown(a)},d.handleClick_=function(a){return d.handleClick(a)},d.handleMouseMove_=function(a){return d.handleMouseMove(a)},d.update_=function(a){return d.update(a)},d.bar=d.getChild(d.options_.barName),d.vertical(!!d.options_.vertical),d.enable(),d}eb.default(b,a);var c=b.prototype;return c.enabled=function(){return this.enabled_},c.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},c.disable=function(){if(this.enabled()){var a=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(a,"mousemove",this.handleMouseMove_),this.off(a,"mouseup",this.handleMouseUp_),this.off(a,"touchmove",this.handleMouseMove_),this.off(a,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},c.createEl=function(b,c,d){return void 0===c&&(c={}),void 0===d&&(d={}),c.className=c.className+" vjs-slider",c=h({tabIndex:0},c),d=h({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},d),a.prototype.createEl.call(this,b,c,d)},c.handleMouseDown=function(a){var b=this.bar.el_.ownerDocument;"mousedown"===a.type&&a.preventDefault(),"touchstart"!==a.type||Kb||a.preventDefault(),E(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(b,"mousemove",this.handleMouseMove_),this.on(b,"mouseup",this.handleMouseUp_),this.on(b,"touchmove",this.handleMouseMove_),this.on(b,"touchend",this.handleMouseUp_),this.handleMouseMove(a)},c.handleMouseMove=function(a){},c.handleMouseUp=function(){var a=this.bar.el_.ownerDocument;F(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(a,"mousemove",this.handleMouseMove_),this.off(a,"mouseup",this.handleMouseUp_),this.off(a,"touchmove",this.handleMouseMove_),this.off(a,"touchend",this.handleMouseUp_),this.update()},c.update=function(){var a=this;if(this.el_&&this.bar){var b=this.getProgress();return b===this.progress_?b:(this.progress_=b,this.requestNamedAnimationFrame("Slider#update",function(){var c=a.vertical()?"height":"width";a.bar.el().style[c]=(100*b).toFixed(2)+"%"}),b)}},c.getProgress=function(){return Number(Wd(this.getPercent(),0,1).toFixed(4))},c.calculateDistance=function(a){var b=I(this.el_,a);return this.vertical()?b.y:b.x},c.handleKeyDown=function(b){gb.default.isEventKey(b,"Left")||gb.default.isEventKey(b,"Down")?(b.preventDefault(),b.stopPropagation(),this.stepBack()):gb.default.isEventKey(b,"Right")||gb.default.isEventKey(b,"Up")?(b.preventDefault(),b.stopPropagation(),this.stepForward()):a.prototype.handleKeyDown.call(this,b)},c.handleClick=function(a){a.stopPropagation(),a.preventDefault()},c.vertical=function(a){if(void 0===a)return this.vertical_||!1;this.vertical_=!!a,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},b}(Gc);Gc.registerComponent("Slider",Xd);var Yd=function(a,b){return Wd(a/b*100,0,100).toFixed(2)+"%"},Zd=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.partEls_=[],d.on(b,"progress",function(a){return d.update(a)}),d}eb.default(b,a);var c=b.prototype;return c.createEl=function(){var b=a.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),c=s("span",{className:"vjs-control-text"}),d=s("span",{textContent:this.localize("Loaded")}),e=bb.default.createTextNode(": ");return this.percentageEl_=s("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),b.appendChild(c),c.appendChild(d),c.appendChild(e),c.appendChild(this.percentageEl_),b},c.dispose=function(){this.partEls_=null,this.percentageEl_=null,a.prototype.dispose.call(this)},c.update=function(a){var b=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var a=b.player_.liveTracker,c=b.player_.buffered(),d=a&&a.isLive()?a.seekableEnd():b.player_.duration(),e=b.player_.bufferedEnd(),f=b.partEls_,g=Yd(e,d);b.percent_!==g&&(b.el_.style.width=g,t(b.percentageEl_,g),b.percent_=g);for(var h=0;h<c.length;h++){var i=c.start(h),j=c.end(h),k=f[h];k||(k=b.el_.appendChild(s()),f[h]=k),k.dataset.start===i&&k.dataset.end===j||(k.dataset.start=i,k.dataset.end=j,k.style.left=Yd(i,e),k.style.width=Yd(j-i,e))}for(var l=f.length;l>c.length;l--)b.el_.removeChild(f[l-1]);f.length=c.length})},b}(Gc);Gc.registerComponent("LoadProgressBar",Zd);var $d=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.update=kc(jc(db.default(d),d.update),ic),d}eb.default(b,a);var c=b.prototype;return c.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},c.update=function(a,b,c){var d=H(this.el_),e=G(this.player_.el()),f=a.width*b;if(e&&d){var g=a.left-e.left+f,h=a.width-f+(e.right-a.right),i=d.width/2;g<i?i+=i-g:h<i&&(i=h),i<0?i=0:i>d.width&&(i=d.width),i=Math.round(i),this.el_.style.right="-"+i+"px",this.write(c)}},c.write=function(a){t(this.el_,a)},c.updateTime=function(a,b,c,d){var e=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var f,g=e.player_.duration();if(e.player_.liveTracker&&e.player_.liveTracker.isLive()){var h=e.player_.liveTracker.liveWindow(),i=h-b*h;f=(i<1?"":"-")+Aa(i,h)}else f=Aa(c,g);e.update(a,b,f),d&&d()})},b}(Gc);Gc.registerComponent("TimeTooltip",$d);var _d=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.update=kc(jc(db.default(d),d.update),ic),d}eb.default(b,a);var c=b.prototype;return c.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},c.update=function(a,b){var c=this.getChild("timeTooltip");if(c){var d=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();c.updateTime(a,b,d)}},b}(Gc);_d.prototype.options_={children:[]},Sb||Fb||_d.prototype.options_.children.push("timeTooltip"),Gc.registerComponent("PlayProgressBar",_d);var ae=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.update=kc(jc(db.default(d),d.update),ic),d}eb.default(b,a);var c=b.prototype;return c.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},c.update=function(a,b){var c=this,d=b*this.player_.duration();this.getChild("timeTooltip").updateTime(a,b,d,function(){c.el_.style.left=a.width*b+"px"})},b}(Gc);ae.prototype.options_={children:["timeTooltip"]},Gc.registerComponent("MouseTimeDisplay",ae);var be=5,ce=12,de=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.setEventHandlers_(),d}eb.default(b,a);var c=b.prototype;return c.setEventHandlers_=function(){var a=this;this.update_=jc(this,this.update),this.update=kc(this.update_,ic),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(b){return a.enableInterval_(b)},this.disableIntervalHandler_=function(b){return a.disableInterval_(b)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in bb.default&&"visibilityState"in bb.default&&this.on(bb.default,"visibilitychange",this.toggleVisibility_)},c.toggleVisibility_=function(a){"hidden"===bb.default.visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(a)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())},c.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,ic))},c.disableInterval_=function(a){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&a&&"ended"!==a.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},c.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},c.update=function(b){var c=this;if("hidden"!==bb.default.visibilityState){var d=a.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var a=c.player_.ended()?c.player_.duration():c.getCurrentTime_(),b=c.player_.liveTracker,e=c.player_.duration();b&&b.isLive()&&(e=c.player_.liveTracker.liveCurrentTime()),c.percent_!==d&&(c.el_.setAttribute("aria-valuenow",(100*d).toFixed(2)),c.percent_=d),c.currentTime_===a&&c.duration_===e||(c.el_.setAttribute("aria-valuetext",c.localize("progress bar timing: currentTime={1} duration={2}",[Aa(a,e),Aa(e,e)],"{1} of {2}")),c.currentTime_=a,c.duration_=e),c.bar&&c.bar.update(G(c.el()),c.getProgress())}),d}},c.userSeek_=function(a){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(a)},c.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},c.getPercent=function(){var a,b=this.getCurrentTime_(),c=this.player_.liveTracker;return c&&c.isLive()?(a=(b-c.seekableStart())/c.liveWindow(),c.atLiveEdge()&&(a=1)):a=b/this.player_.duration(),a},c.handleMouseDown=function(b){O(b)&&(b.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),a.prototype.handleMouseDown.call(this,b))},c.handleMouseMove=function(a){if(O(a)){var b,c=this.calculateDistance(a),d=this.player_.liveTracker;if(d&&d.isLive()){if(c>=.99)return void d.seekToLiveEdge();var e=d.seekableStart(),f=d.liveCurrentTime();if(b=e+c*d.liveWindow(),b>=f&&(b=f),b<=e&&(b=e+.1),b===1/0)return}else(b=c*this.player_.duration())===this.player_.duration()&&(b-=.1);this.userSeek_(b)}},c.enable=function(){a.prototype.enable.call(this);var b=this.getChild("mouseTimeDisplay");b&&b.show()},c.disable=function(){a.prototype.disable.call(this);var b=this.getChild("mouseTimeDisplay");b&&b.hide()},c.handleMouseUp=function(b){a.prototype.handleMouseUp.call(this,b),b&&b.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?ia(this.player_.play()):this.update_()},c.stepForward=function(){this.userSeek_(this.player_.currentTime()+be)},c.stepBack=function(){this.userSeek_(this.player_.currentTime()-be)},c.handleAction=function(a){this.player_.paused()?this.player_.play():this.player_.pause()},c.handleKeyDown=function(b){var c=this.player_.liveTracker;if(gb.default.isEventKey(b,"Space")||gb.default.isEventKey(b,"Enter"))b.preventDefault(),b.stopPropagation(),this.handleAction(b);else if(gb.default.isEventKey(b,"Home"))b.preventDefault(),b.stopPropagation(),this.userSeek_(0);else if(gb.default.isEventKey(b,"End"))b.preventDefault(),b.stopPropagation(),c&&c.isLive()?this.userSeek_(c.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(gb.default(b))){b.preventDefault(),b.stopPropagation();var d=10*(gb.default.codes[gb.default(b)]-gb.default.codes[0])/100;c&&c.isLive()?this.userSeek_(c.seekableStart()+c.liveWindow()*d):this.userSeek_(this.player_.duration()*d)}else gb.default.isEventKey(b,"PgDn")?(b.preventDefault(),b.stopPropagation(),this.userSeek_(this.player_.currentTime()-be*ce)):gb.default.isEventKey(b,"PgUp")?(b.preventDefault(),b.stopPropagation(),this.userSeek_(this.player_.currentTime()+be*ce)):a.prototype.handleKeyDown.call(this,b)},c.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in bb.default&&"visibilityState"in bb.default&&this.off(bb.default,"visibilitychange",this.toggleVisibility_),a.prototype.dispose.call(this)},b}(Xd);de.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},Sb||Fb||de.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Gc.registerComponent("SeekBar",de);var ee=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.handleMouseMove=kc(jc(db.default(d),d.handleMouseMove),ic),d.throttledHandleMouseSeek=kc(jc(db.default(d),d.handleMouseSeek),ic),d.handleMouseUpHandler_=function(a){return d.handleMouseUp(a)},d.handleMouseDownHandler_=function(a){return d.handleMouseDown(a)},d.enable(),d}eb.default(b,a);var c=b.prototype;return c.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},c.handleMouseMove=function(a){var b=this.getChild("seekBar");if(b){var c=b.getChild("playProgressBar"),d=b.getChild("mouseTimeDisplay");if(c||d){var e=b.el(),f=H(e),g=I(e,a).x;g=Wd(g,0,1),d&&d.update(f,g),c&&c.update(f,b.getProgress())}}},c.handleMouseSeek=function(a){var b=this.getChild("seekBar");b&&b.handleMouseMove(a)},c.enabled=function(){return this.enabled_},c.disable=function(){if(this.children().forEach(function(a){return a.disable&&a.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var a=this.getChild("seekBar");this.player_.scrubbing(!1),a.videoWasPlaying&&ia(this.player_.play())}},c.enable=function(){this.children().forEach(function(a){return a.enable&&a.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},c.removeListenersAddedOnMousedownAndTouchstart=function(){var a=this.el_.ownerDocument;this.off(a,"mousemove",this.throttledHandleMouseSeek),this.off(a,"touchmove",this.throttledHandleMouseSeek),this.off(a,"mouseup",this.handleMouseUpHandler_),this.off(a,"touchend",this.handleMouseUpHandler_)},c.handleMouseDown=function(a){var b=this.el_.ownerDocument,c=this.getChild("seekBar");c&&c.handleMouseDown(a),this.on(b,"mousemove",this.throttledHandleMouseSeek),this.on(b,"touchmove",this.throttledHandleMouseSeek),this.on(b,"mouseup",this.handleMouseUpHandler_),this.on(b,"touchend",this.handleMouseUpHandler_)},c.handleMouseUp=function(a){var b=this.getChild("seekBar");b&&b.handleMouseUp(a),this.removeListenersAddedOnMousedownAndTouchstart()},b}(Gc);ee.prototype.options_={children:["seekBar"]},Gc.registerComponent("ProgressControl",ee);var fe=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.on(b,["enterpictureinpicture","leavepictureinpicture"],function(a){return d.handlePictureInPictureChange(a)}),d.on(b,["disablepictureinpicturechanged","loadedmetadata"],function(a){return d.handlePictureInPictureEnabledChange(a)}),d.disable(),d}eb.default(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-picture-in-picture-control "+a.prototype.buildCSSClass.call(this)},c.handlePictureInPictureEnabledChange=function(){bb.default.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},c.handlePictureInPictureChange=function(a){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},c.handleClick=function(a){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},b}(Jd);fe.prototype.controlText_="Picture-in-Picture",Gc.registerComponent("PictureInPictureToggle",fe);var ge=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.on(b,"fullscreenchange",function(a){return d.handleFullscreenChange(a)}),!1===bb.default[b.fsApi_.fullscreenEnabled]&&d.disable(),d}eb.default(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-fullscreen-control "+a.prototype.buildCSSClass.call(this)},c.handleFullscreenChange=function(a){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},c.handleClick=function(a){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},b}(Jd);ge.prototype.controlText_="Fullscreen",Gc.registerComponent("FullscreenToggle",ge);var he=function(a,b){b.tech_&&!b.tech_.featuresVolumeControl&&a.addClass("vjs-hidden"),a.on(b,"loadstart",function(){b.tech_.featuresVolumeControl?a.removeClass("vjs-hidden"):a.addClass("vjs-hidden")})},ie=function(a){function b(){return a.apply(this,arguments)||this}return eb.default(b,a),b.prototype.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},b}(Gc);Gc.registerComponent("VolumeLevel",ie);var je=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.update=kc(jc(db.default(d),d.update),ic),d}eb.default(b,a);var c=b.prototype;return c.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},c.update=function(a,b,c,d){if(!c){var e=G(this.el_),f=G(this.player_.el()),g=a.width*b;if(!f||!e)return;var h=a.left-f.left+g,i=a.width-g+(f.right-a.right),j=e.width/2;h<j?j+=j-h:i<j&&(j=i),j<0?j=0:j>e.width&&(j=e.width),this.el_.style.right="-"+j+"px"}this.write(d+"%")},c.write=function(a){t(this.el_,a)},c.updateVolume=function(a,b,c,d,e){var f=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){f.update(a,b,c,d.toFixed(0)),e&&e()})},b}(Gc);Gc.registerComponent("VolumeLevelTooltip",je);var ke=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.update=kc(jc(db.default(d),d.update),ic),d}eb.default(b,a);var c=b.prototype;return c.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},c.update=function(a,b,c){var d=this,e=100*b;this.getChild("volumeLevelTooltip").updateVolume(a,b,c,e,function(){c?d.el_.style.bottom=a.height*b+"px":d.el_.style.left=a.width*b+"px"})},b}(Gc);ke.prototype.options_={children:["volumeLevelTooltip"]},Gc.registerComponent("MouseVolumeLevelDisplay",ke);var le=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.on("slideractive",function(a){return d.updateLastVolume_(a)}),d.on(b,"volumechange",function(a){return d.updateARIAAttributes(a)}),b.ready(function(){return d.updateARIAAttributes()}),d}eb.default(b,a);var c=b.prototype;return c.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},c.handleMouseDown=function(b){O(b)&&a.prototype.handleMouseDown.call(this,b)},c.handleMouseMove=function(a){var b=this.getChild("mouseVolumeLevelDisplay");if(b){var c=this.el(),d=G(c),e=this.vertical(),f=I(c,a);f=e?f.y:f.x,f=Wd(f,0,1),b.update(d,f,e)}O(a)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(a)))},c.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},c.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},c.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},c.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},c.updateARIAAttributes=function(a){var b=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",b),this.el_.setAttribute("aria-valuetext",b+"%")},c.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},c.updateLastVolume_=function(){var a=this,b=this.player_.volume();this.one("sliderinactive",function(){0===a.player_.volume()&&a.player_.lastVolume_(b)})},b}(Xd);le.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Sb||Fb||le.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),le.prototype.playerEvent="volumechange",Gc.registerComponent("VolumeBar",le);var me=function(a){function b(b,c){var d;return void 0===c&&(c={}),c.vertical=c.vertical||!1,(void 0===c.volumeBar||j(c.volumeBar))&&(c.volumeBar=c.volumeBar||{},c.volumeBar.vertical=c.vertical),d=a.call(this,b,c)||this,he(db.default(d),b),d.throttledHandleMouseMove=kc(jc(db.default(d),d.handleMouseMove),ic),d.handleMouseUpHandler_=function(a){return d.handleMouseUp(a)},d.on("mousedown",function(a){return d.handleMouseDown(a)}),d.on("touchstart",function(a){return d.handleMouseDown(a)}),d.on("mousemove",function(a){return d.handleMouseMove(a)}),d.on(d.volumeBar,["focus","slideractive"],function(){d.volumeBar.addClass("vjs-slider-active"),d.addClass("vjs-slider-active"),d.trigger("slideractive")}),d.on(d.volumeBar,["blur","sliderinactive"],function(){d.volumeBar.removeClass("vjs-slider-active"),d.removeClass("vjs-slider-active"),d.trigger("sliderinactive")}),d}eb.default(b,a);var c=b.prototype;return c.createEl=function(){var b="vjs-volume-horizontal";return this.options_.vertical&&(b="vjs-volume-vertical"),a.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+b})},c.handleMouseDown=function(a){var b=this.el_.ownerDocument;this.on(b,"mousemove",this.throttledHandleMouseMove),this.on(b,"touchmove",this.throttledHandleMouseMove),this.on(b,"mouseup",this.handleMouseUpHandler_),this.on(b,"touchend",this.handleMouseUpHandler_)},c.handleMouseUp=function(a){var b=this.el_.ownerDocument;this.off(b,"mousemove",this.throttledHandleMouseMove),this.off(b,"touchmove",this.throttledHandleMouseMove),this.off(b,"mouseup",this.handleMouseUpHandler_),this.off(b,"touchend",this.handleMouseUpHandler_)},c.handleMouseMove=function(a){this.volumeBar.handleMouseMove(a)},b}(Gc);me.prototype.options_={children:["volumeBar"]},Gc.registerComponent("VolumeControl",me);var ne=function(a,b){b.tech_&&!b.tech_.featuresMuteControl&&a.addClass("vjs-hidden"),a.on(b,"loadstart",function(){b.tech_.featuresMuteControl?a.removeClass("vjs-hidden"):a.addClass("vjs-hidden")})},oe=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,ne(db.default(d),b),d.on(b,["loadstart","volumechange"],function(a){return d.update(a)}),d}eb.default(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-mute-control "+a.prototype.buildCSSClass.call(this)},c.handleClick=function(a){var b=this.player_.volume(),c=this.player_.lastVolume_();if(0===b){var d=c<.1?.1:c;this.player_.volume(d),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},c.update=function(a){this.updateIcon_(),this.updateControlText_()},c.updateIcon_=function(){var a=this.player_.volume(),b=3;Sb&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===a||this.player_.muted()?b=0:a<.33?b=1:a<.67&&(b=2);for(var c=0;c<4;c++)x(this.el_,"vjs-vol-"+c);w(this.el_,"vjs-vol-"+b)},c.updateControlText_=function(){var a=this.player_.muted()||0===this.player_.volume(),b=a?"Unmute":"Mute";this.controlText()!==b&&this.controlText(b)},b}(Jd);oe.prototype.controlText_="Mute",Gc.registerComponent("MuteToggle",oe);var pe=function(a){function b(b,c){var d;return void 0===c&&(c={}),void 0!==c.inline?c.inline=c.inline:c.inline=!0,(void 0===c.volumeControl||j(c.volumeControl))&&(c.volumeControl=c.volumeControl||{},c.volumeControl.vertical=!c.inline),d=a.call(this,b,c)||this,d.handleKeyPressHandler_=function(a){return d.handleKeyPress(a)},d.on(b,["loadstart"],function(a){return d.volumePanelState_(a)}),d.on(d.muteToggle,"keyup",function(a){return d.handleKeyPress(a)}),d.on(d.volumeControl,"keyup",function(a){return d.handleVolumeControlKeyUp(a)}),d.on("keydown",function(a){return d.handleKeyPress(a)}),d.on("mouseover",function(a){return d.handleMouseOver(a)}),d.on("mouseout",function(a){return d.handleMouseOut(a)}),d.on(d.volumeControl,["slideractive"],d.sliderActive_),d.on(d.volumeControl,["sliderinactive"],d.sliderInactive_),d}eb.default(b,a);var c=b.prototype;return c.sliderActive_=function(){this.addClass("vjs-slider-active")},c.sliderInactive_=function(){this.removeClass("vjs-slider-active")},c.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},c.createEl=function(){var b="vjs-volume-panel-horizontal";return this.options_.inline||(b="vjs-volume-panel-vertical"),a.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+b})},c.dispose=function(){this.handleMouseOut(),a.prototype.dispose.call(this)},c.handleVolumeControlKeyUp=function(a){gb.default.isEventKey(a,"Esc")&&this.muteToggle.focus()},c.handleMouseOver=function(a){this.addClass("vjs-hover"),V(bb.default,"keyup",this.handleKeyPressHandler_)},c.handleMouseOut=function(a){this.removeClass("vjs-hover"),W(bb.default,"keyup",this.handleKeyPressHandler_)},c.handleKeyPress=function(a){gb.default.isEventKey(a,"Esc")&&this.handleMouseOut()},b}(Gc);pe.prototype.options_={children:["muteToggle","volumeControl"]},Gc.registerComponent("VolumePanel",pe);var qe=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,c&&(d.menuButton_=c.menuButton),d.focusedChild_=-1,d.on("keydown",function(a){return d.handleKeyDown(a)}),d.boundHandleBlur_=function(a){return d.handleBlur(a)},d.boundHandleTapClick_=function(a){return d.handleTapClick(a)},d}eb.default(b,a);var c=b.prototype;return c.addEventListenerForItem=function(a){a instanceof Gc&&(this.on(a,"blur",this.boundHandleBlur_),this.on(a,["tap","click"],this.boundHandleTapClick_))},c.removeEventListenerForItem=function(a){a instanceof Gc&&(this.off(a,"blur",this.boundHandleBlur_),this.off(a,["tap","click"],this.boundHandleTapClick_))},c.removeChild=function(b){"string"==typeof b&&(b=this.getChild(b)),this.removeEventListenerForItem(b),a.prototype.removeChild.call(this,b)},c.addItem=function(a){var b=this.addChild(a);b&&this.addEventListenerForItem(b)},c.createEl=function(){var b=this.options_.contentElType||"ul";this.contentEl_=s(b,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var c=a.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return c.appendChild(this.contentEl_),V(c,"click",function(a){a.preventDefault(),a.stopImmediatePropagation()}),c},c.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,a.prototype.dispose.call(this)},c.handleBlur=function(a){var b=a.relatedTarget||bb.default.activeElement;if(!this.children().some(function(a){return a.el()===b})){var c=this.menuButton_;c&&c.buttonPressed_&&b!==c.el().firstChild&&c.unpressButton()}},c.handleTapClick=function(a){if(this.menuButton_){this.menuButton_.unpressButton();var b=this.children();if(!Array.isArray(b))return;var c=b.filter(function(b){return b.el()===a.target})[0];if(!c)return;"CaptionSettingsMenuItem"!==c.name()&&this.menuButton_.focus()}},c.handleKeyDown=function(a){gb.default.isEventKey(a,"Left")||gb.default.isEventKey(a,"Down")?(a.preventDefault(),a.stopPropagation(),this.stepForward()):(gb.default.isEventKey(a,"Right")||gb.default.isEventKey(a,"Up"))&&(a.preventDefault(),a.stopPropagation(),this.stepBack())},c.stepForward=function(){var a=0;void 0!==this.focusedChild_&&(a=this.focusedChild_+1),this.focus(a)},c.stepBack=function(){var a=0;void 0!==this.focusedChild_&&(a=this.focusedChild_-1),this.focus(a)},c.focus=function(a){void 0===a&&(a=0);var b=this.children().slice();b.length&&b[0].hasClass("vjs-menu-title")&&b.shift(),b.length>0&&(a<0?a=0:a>=b.length&&(a=b.length-1),this.focusedChild_=a,b[a].el_.focus())},b}(Gc);Gc.registerComponent("Menu",qe);var re=function(a){function b(b,c){var d;void 0===c&&(c={}),d=a.call(this,b,c)||this,d.menuButton_=new Jd(b,c),d.menuButton_.controlText(d.controlText_),d.menuButton_.el_.setAttribute("aria-haspopup","true");var e=Jd.prototype.buildCSSClass();d.menuButton_.el_.className=d.buildCSSClass()+" "+e,d.menuButton_.removeClass("vjs-control"),d.addChild(d.menuButton_),d.update(),d.enabled_=!0;var f=function(a){return d.handleClick(a)};return d.handleMenuKeyUp_=function(a){return d.handleMenuKeyUp(a)},d.on(d.menuButton_,"tap",f),d.on(d.menuButton_,"click",f),d.on(d.menuButton_,"keydown",function(a){return d.handleKeyDown(a)}),d.on(d.menuButton_,"mouseenter",function(){d.addClass("vjs-hover"),d.menu.show(),V(bb.default,"keyup",d.handleMenuKeyUp_)}),d.on("mouseleave",function(a){return d.handleMouseLeave(a)}),d.on("keydown",function(a){return d.handleSubmenuKeyDown(a)}),d}eb.default(b,a);var c=b.prototype;return c.update=function(){var a=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=a,this.addChild(a),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},c.createMenu=function(){var a=new qe(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var b=s("li",{className:"vjs-menu-title",innerHTML:Ac(this.options_.title),tabIndex:-1}),c=new Gc(this.player_,{el:b});a.addItem(c)}if(this.items=this.createItems(),this.items)for(var d=0;d<this.items.length;d++)a.addItem(this.items[d]);return a},c.createItems=function(){},c.createEl=function(){return a.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},c.buildWrapperCSSClass=function(){var b="vjs-menu-button";return!0===this.options_.inline?b+="-inline":b+="-popup","vjs-menu-button "+b+" "+Jd.prototype.buildCSSClass()+" "+a.prototype.buildCSSClass.call(this)},c.buildCSSClass=function(){var b="vjs-menu-button";return!0===this.options_.inline?b+="-inline":b+="-popup","vjs-menu-button "+b+" "+a.prototype.buildCSSClass.call(this)},c.controlText=function(a,b){return void 0===b&&(b=this.menuButton_.el()),this.menuButton_.controlText(a,b)},c.dispose=function(){this.handleMouseLeave(),a.prototype.dispose.call(this)},c.handleClick=function(a){this.buttonPressed_?this.unpressButton():this.pressButton()},c.handleMouseLeave=function(a){this.removeClass("vjs-hover"),W(bb.default,"keyup",this.handleMenuKeyUp_)},c.focus=function(){this.menuButton_.focus()},c.blur=function(){this.menuButton_.blur()},c.handleKeyDown=function(a){gb.default.isEventKey(a,"Esc")||gb.default.isEventKey(a,"Tab")?(this.buttonPressed_&&this.unpressButton(),gb.default.isEventKey(a,"Tab")||(a.preventDefault(),this.menuButton_.focus())):(gb.default.isEventKey(a,"Up")||gb.default.isEventKey(a,"Down"))&&(this.buttonPressed_||(a.preventDefault(),this.pressButton()))},c.handleMenuKeyUp=function(a){(gb.default.isEventKey(a,"Esc")||gb.default.isEventKey(a,"Tab"))&&this.removeClass("vjs-hover")},c.handleSubmenuKeyPress=function(a){this.handleSubmenuKeyDown(a)},c.handleSubmenuKeyDown=function(a){(gb.default.isEventKey(a,"Esc")||gb.default.isEventKey(a,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),gb.default.isEventKey(a,"Tab")||(a.preventDefault(),this.menuButton_.focus()))},c.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Sb&&q())return;this.menu.focus()}},c.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},c.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},c.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},b}(Gc);Gc.registerComponent("MenuButton",re);var se=function(a){function b(b,c){var d,e=c.tracks;if(d=a.call(this,b,c)||this,d.items.length<=1&&d.hide(),!e)return db.default(d);var f=jc(db.default(d),d.update);return e.addEventListener("removetrack",f),e.addEventListener("addtrack",f),e.addEventListener("labelchange",f),d.player_.on("ready",f),d.player_.on("dispose",function(){e.removeEventListener("removetrack",f),e.removeEventListener("addtrack",f),e.removeEventListener("labelchange",f)}),d}return eb.default(b,a),b}(re);Gc.registerComponent("TrackButton",se);var te=["Tab","Esc","Up","Down","Right","Left"],ue=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.selectable=c.selectable,d.isSelected_=c.selected||!1,d.multiSelectable=c.multiSelectable,d.selected(d.isSelected_),d.selectable?d.multiSelectable?d.el_.setAttribute("role","menuitemcheckbox"):d.el_.setAttribute("role","menuitemradio"):d.el_.setAttribute("role","menuitem"),d}eb.default(b,a);var c=b.prototype;return c.createEl=function(b,c,d){return this.nonIconControl=!0,a.prototype.createEl.call(this,"li",h({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},c),d)},c.handleKeyDown=function(b){te.some(function(a){return gb.default.isEventKey(b,a)})||a.prototype.handleKeyDown.call(this,b)},c.handleClick=function(a){this.selected(!0)},c.selected=function(a){this.selectable&&(a?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},b}(Cd);Gc.registerComponent("MenuItem",ue);var ve=function(a){function b(b,c){var d,e=c.track,f=b.textTracks();c.label=e.label||e.language||"Unknown",c.selected="showing"===e.mode,d=a.call(this,b,c)||this,d.track=e,d.kinds=(c.kinds||[c.kind||d.track.kind]).filter(Boolean);var g=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];d.handleTracksChange.apply(db.default(d),b)},h=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];d.handleSelectedLanguageChange.apply(db.default(d),b)};if(b.on(["loadstart","texttrackchange"],g),f.addEventListener("change",g),f.addEventListener("selectedlanguagechange",h),d.on("dispose",function(){b.off(["loadstart","texttrackchange"],g),f.removeEventListener("change",g),f.removeEventListener("selectedlanguagechange",h)}),void 0===f.onchange){var i;d.on(["tap","click"],function(){if("object"!=typeof ab.default.Event)try{i=new ab.default.Event("change")}catch(a){}i||(i=bb.default.createEvent("Event"),i.initEvent("change",!0,!0)),f.dispatchEvent(i)})}return d.handleTracksChange(),d}eb.default(b,a);var c=b.prototype;return c.handleClick=function(b){var c=this.track,d=this.player_.textTracks();if(a.prototype.handleClick.call(this,b),d)for(var e=0;e<d.length;e++){var f=d[e];-1!==this.kinds.indexOf(f.kind)&&(f===c?"showing"!==f.mode&&(f.mode="showing"):"disabled"!==f.mode&&(f.mode="disabled"))}},c.handleTracksChange=function(a){var b="showing"===this.track.mode;b!==this.isSelected_&&this.selected(b)},c.handleSelectedLanguageChange=function(a){if("showing"===this.track.mode){var b=this.player_.cache_.selectedLanguage;if(b&&b.enabled&&b.language===this.track.language&&b.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},c.dispose=function(){this.track=null,a.prototype.dispose.call(this)},b}(ue);Gc.registerComponent("TextTrackMenuItem",ve);var we=function(a){function b(b,c){return c.track={player:b,kind:c.kind,kinds:c.kinds,default:!1,mode:"disabled"},c.kinds||(c.kinds=[c.kind]),c.label?c.track.label=c.label:c.track.label=c.kinds.join(" and ")+" off",c.selectable=!0,c.multiSelectable=!1,a.call(this,b,c)||this}eb.default(b,a);var c=b.prototype;return c.handleTracksChange=function(a){for(var b=this.player().textTracks(),c=!0,d=0,e=b.length;d<e;d++){var f=b[d];if(this.options_.kinds.indexOf(f.kind)>-1&&"showing"===f.mode){c=!1;break}}c!==this.isSelected_&&this.selected(c)},c.handleSelectedLanguageChange=function(a){for(var b=this.player().textTracks(),c=!0,d=0,e=b.length;d<e;d++){var f=b[d];if(["captions","descriptions","subtitles"].indexOf(f.kind)>-1&&"showing"===f.mode){c=!1;break}}c&&(this.player_.cache_.selectedLanguage={enabled:!1})},b}(ve);Gc.registerComponent("OffTextTrackMenuItem",we);var xe=function(a){function b(b,c){return void 0===c&&(c={}),c.tracks=b.textTracks(),a.call(this,b,c)||this}return eb.default(b,a),b.prototype.createItems=function(a,b){void 0===a&&(a=[]),void 0===b&&(b=ve);var c;this.label_&&(c=this.label_+" off"),a.push(new we(this.player_,{kinds:this.kinds_,kind:this.kind_,label:c})),this.hideThreshold_+=1;var d=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var e=0;e<d.length;e++){var f=d[e];if(this.kinds_.indexOf(f.kind)>-1){var g=new b(this.player_,{track:f,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});g.addClass("vjs-"+f.kind+"-menu-item"),a.push(g)}}return a},b}(se);Gc.registerComponent("TextTrackButton",xe);var ye=function(a){function b(b,c){var d,e=c.track,f=c.cue,g=b.currentTime();return c.selectable=!0,c.multiSelectable=!1,c.label=f.text,c.selected=f.startTime<=g&&g<f.endTime,d=a.call(this,b,c)||this,d.track=e,d.cue=f,e.addEventListener("cuechange",jc(db.default(d),d.update)),d}eb.default(b,a);var c=b.prototype;return c.handleClick=function(b){a.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},c.update=function(a){var b=this.cue,c=this.player_.currentTime();this.selected(b.startTime<=c&&c<b.endTime)},b}(ue);Gc.registerComponent("ChaptersTrackMenuItem",ye);var ze=function(a){function b(b,c,d){return a.call(this,b,c,d)||this}eb.default(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-chapters-button "+a.prototype.buildCSSClass.call(this)},c.buildWrapperCSSClass=function(){return"vjs-chapters-button "+a.prototype.buildWrapperCSSClass.call(this)},c.update=function(b){this.track_&&(!b||"addtrack"!==b.type&&"removetrack"!==b.type)||this.setTrack(this.findChaptersTrack()),a.prototype.update.call(this)},c.setTrack=function(a){if(this.track_!==a){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var b=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);b&&b.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=a,this.track_){this.track_.mode="hidden";var c=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);c&&c.addEventListener("load",this.updateHandler_)}}},c.findChaptersTrack=function(){for(var a=this.player_.textTracks()||[],b=a.length-1;b>=0;b--){var c=a[b];if(c.kind===this.kind_)return c}},c.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Ac(this.kind_))},c.createMenu=function(){return this.options_.title=this.getMenuCaption(),a.prototype.createMenu.call(this)},c.createItems=function(){var a=[];if(!this.track_)return a;var b=this.track_.cues;if(!b)return a;for(var c=0,d=b.length;c<d;c++){var e=b[c],f=new ye(this.player_,{track:this.track_,cue:e});a.push(f)}return a},b}(xe);ze.prototype.kind_="chapters",ze.prototype.controlText_="Chapters",Gc.registerComponent("ChaptersButton",ze);var Ae=function(a){function b(b,c,d){var e;e=a.call(this,b,c,d)||this;var f=b.textTracks(),g=jc(db.default(e),e.handleTracksChange);return f.addEventListener("change",g),e.on("dispose",function(){f.removeEventListener("change",g)}),e}eb.default(b,a);var c=b.prototype;return c.handleTracksChange=function(a){for(var b=this.player().textTracks(),c=!1,d=0,e=b.length;d<e;d++){var f=b[d];if(f.kind!==this.kind_&&"showing"===f.mode){c=!0;break}}c?this.disable():this.enable()},c.buildCSSClass=function(){return"vjs-descriptions-button "+a.prototype.buildCSSClass.call(this)},c.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+a.prototype.buildWrapperCSSClass.call(this)},b}(xe);Ae.prototype.kind_="descriptions",Ae.prototype.controlText_="Descriptions",Gc.registerComponent("DescriptionsButton",Ae);var Be=function(a){function b(b,c,d){return a.call(this,b,c,d)||this}eb.default(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-subtitles-button "+a.prototype.buildCSSClass.call(this)},c.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+a.prototype.buildWrapperCSSClass.call(this)},b}(xe);Be.prototype.kind_="subtitles",Be.prototype.controlText_="Subtitles",Gc.registerComponent("SubtitlesButton",Be);var Ce=function(a){function b(b,c){var d;return c.track={player:b,kind:c.kind,label:c.kind+" settings",selectable:!1,default:!1,mode:"disabled"},c.selectable=!1,c.name="CaptionSettingsMenuItem",d=a.call(this,b,c)||this,d.addClass("vjs-texttrack-settings"),d.controlText(", opens "+c.kind+" settings dialog"),d}return eb.default(b,a),b.prototype.handleClick=function(a){this.player().getChild("textTrackSettings").open()},b}(ve);Gc.registerComponent("CaptionSettingsMenuItem",Ce);var De=function(a){function b(b,c,d){return a.call(this,b,c,d)||this}eb.default(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-captions-button "+a.prototype.buildCSSClass.call(this)},c.buildWrapperCSSClass=function(){return"vjs-captions-button "+a.prototype.buildWrapperCSSClass.call(this)},c.createItems=function(){var b=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(b.push(new Ce(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),a.prototype.createItems.call(this,b)},b}(xe);De.prototype.kind_="captions",De.prototype.controlText_="Captions",Gc.registerComponent("CaptionsButton",De);var Ee=function(a){function b(){return a.apply(this,arguments)||this}return eb.default(b,a),b.prototype.createEl=function(b,c,d){var e='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(e+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),e+="</span>",a.prototype.createEl.call(this,b,h({innerHTML:e},c),d)},b}(ve);Gc.registerComponent("SubsCapsMenuItem",Ee);var Fe=function(a){function b(b,c){var d;return void 0===c&&(c={}),d=a.call(this,b,c)||this,d.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(d.player_.language_)>-1&&(d.label_="captions"),d.menuButton_.controlText(Ac(d.label_)),d}eb.default(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-subs-caps-button "+a.prototype.buildCSSClass.call(this)},c.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+a.prototype.buildWrapperCSSClass.call(this)},c.createItems=function(){var b=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(b.push(new Ce(this.player_,{kind:this.label_})),this.hideThreshold_+=1),b=a.prototype.createItems.call(this,b,Ee)},b}(xe);Fe.prototype.kinds_=["captions","subtitles"],Fe.prototype.controlText_="Subtitles",Gc.registerComponent("SubsCapsButton",Fe);var Ge=function(a){function b(b,c){var d,e=c.track,f=b.audioTracks();c.label=e.label||e.language||"Unknown",c.selected=e.enabled,d=a.call(this,b,c)||this,d.track=e,d.addClass("vjs-"+e.kind+"-menu-item");var g=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];d.handleTracksChange.apply(db.default(d),b)};return f.addEventListener("change",g),d.on("dispose",function(){f.removeEventListener("change",g)}),d}eb.default(b,a);var c=b.prototype;return c.createEl=function(b,c,d){var e='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(e+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),e+="</span>",a.prototype.createEl.call(this,b,h({innerHTML:e},c),d)},c.handleClick=function(b){a.prototype.handleClick.call(this,b),this.track.enabled=!0},c.handleTracksChange=function(a){this.selected(this.track.enabled)},b}(ue);Gc.registerComponent("AudioTrackMenuItem",Ge);var He=function(a){function b(b,c){return void 0===c&&(c={}),c.tracks=b.audioTracks(),a.call(this,b,c)||this}eb.default(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-audio-button "+a.prototype.buildCSSClass.call(this)},c.buildWrapperCSSClass=function(){return"vjs-audio-button "+a.prototype.buildWrapperCSSClass.call(this)},c.createItems=function(a){void 0===a&&(a=[]),this.hideThreshold_=1;for(var b=this.player_.audioTracks(),c=0;c<b.length;c++){var d=b[c];a.push(new Ge(this.player_,{track:d,selectable:!0,multiSelectable:!1}))}return a},b}(se);He.prototype.controlText_="Audio Track",Gc.registerComponent("AudioTrackButton",He);var Ie=function(a){function b(b,c){var d,e=c.rate,f=parseFloat(e,10);return c.label=e,c.selected=f===b.playbackRate(),c.selectable=!0,c.multiSelectable=!1,d=a.call(this,b,c)||this,d.label=e,d.rate=f,d.on(b,"ratechange",function(a){return d.update(a)}),d}eb.default(b,a);var c=b.prototype;return c.handleClick=function(b){a.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},c.update=function(a){this.selected(this.player().playbackRate()===this.rate)},b}(ue);Ie.prototype.contentElType="button",Gc.registerComponent("PlaybackRateMenuItem",Ie);var Je=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.menuButton_.el_.setAttribute("aria-describedby",d.labelElId_),d.updateVisibility(),d.updateLabel(),d.on(b,"loadstart",function(a){return d.updateVisibility(a)}),d.on(b,"ratechange",function(a){return d.updateLabel(a)}),d.on(b,"playbackrateschange",function(a){return d.handlePlaybackRateschange(a)}),d}eb.default(b,a);var c=b.prototype;return c.createEl=function(){var b=a.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=s("div",{className:"vjs-playback-rate-value",id:this.labelElId_,innerHTML:"1x"}),b.appendChild(this.labelEl_),b},c.dispose=function(){this.labelEl_=null,a.prototype.dispose.call(this)},c.buildCSSClass=function(){return"vjs-playback-rate "+a.prototype.buildCSSClass.call(this)},c.buildWrapperCSSClass=function(){return"vjs-playback-rate "+a.prototype.buildWrapperCSSClass.call(this)},c.createItems=function(){for(var a=this.playbackRates(),b=[],c=a.length-1;c>=0;c--)b.push(new Ie(this.player(),{rate:a[c]+"x"}));return b},c.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},c.handleClick=function(a){for(var b=this.player().playbackRate(),c=this.playbackRates(),d=c[0],e=0;e<c.length;e++)if(c[e]>b){d=c[e];break}this.player().playbackRate(d)},c.handlePlaybackRateschange=function(a){this.update()},c.playbackRates=function(){var a=this.player();return a.playbackRates&&a.playbackRates()||[]},c.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},c.updateVisibility=function(a){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},c.updateLabel=function(a){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},b}(re);Je.prototype.controlText_="Playback Rate",Gc.registerComponent("PlaybackRateMenuButton",Je);var Ke=function(a){function b(){return a.apply(this,arguments)||this}eb.default(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-spacer "+a.prototype.buildCSSClass.call(this)},c.createEl=function(){return a.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},b}(Gc);Gc.registerComponent("Spacer",Ke);var Le=function(a){function b(){return a.apply(this,arguments)||this}eb.default(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-custom-control-spacer "+a.prototype.buildCSSClass.call(this)},c.createEl=function(){var b=a.prototype.createEl.call(this,{className:this.buildCSSClass()});return b.innerHTML=" ",b},b}(Ke);Gc.registerComponent("CustomControlSpacer",Le);var Me=function(a){function b(){return a.apply(this,arguments)||this}return eb.default(b,a),b.prototype.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},b}(Gc);Me.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in bb.default&&Me.prototype.options_.children.splice(Me.prototype.options_.children.length-1,0,"pictureInPictureToggle"),Gc.registerComponent("ControlBar",Me);var Ne=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.on(b,"error",function(a){return d.open(a)}),d}eb.default(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-error-display "+a.prototype.buildCSSClass.call(this)},c.content=function(){var a=this.player().error();return a?this.localize(a.message):""},b}(Nc);Ne.prototype.options_=cb.default({},Nc.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Gc.registerComponent("ErrorDisplay",Ne);var Oe="vjs-text-track-settings",Pe=["#000","Black"],Qe=["#00F","Blue"],Re=["#0FF","Cyan"],Se=["#0F0","Green"],Te=["#F0F","Magenta"],Ue=["#F00","Red"],Ve=["#FFF","White"],We=["#FF0","Yellow"],Xe=["1","Opaque"],Ye=["0.5","Semi-Transparent"],Ze=["0","Transparent"],$e={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Pe,Ve,Ue,Se,Qe,We,Te,Re]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Xe,Ye,Ze]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Ve,Pe,Ue,Se,Qe,We,Te,Re]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(a){return"1.00"===a?null:Number(a)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Xe,Ye]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Ze,Ye,Xe]}};$e.windowColor.options=$e.backgroundColor.options;var _e=function(a){function b(b,c){var d;return c.temporary=!1,d=a.call(this,b,c)||this,d.updateDisplay=d.updateDisplay.bind(db.default(d)),d.fill(),d.hasBeenOpened_=d.hasBeenFilled_=!0,d.endDialog=s("p",{className:"vjs-control-text",textContent:d.localize("End of dialog window.")}),d.el().appendChild(d.endDialog),d.setDefaults(),void 0===c.persistTextTrackSettings&&(d.options_.persistTextTrackSettings=d.options_.playerOptions.persistTextTrackSettings),d.on(d.$(".vjs-done-button"),"click",function(){d.saveSettings(),d.close()}),d.on(d.$(".vjs-default-button"),"click",function(){d.setDefaults(),d.updateDisplay()}),f($e,function(a){d.on(d.$(a.selector),"change",d.updateDisplay)}),d.options_.persistTextTrackSettings&&d.restoreSettings(),d}eb.default(b,a);var c=b.prototype;return c.dispose=function(){this.endDialog=null,a.prototype.dispose.call(this)},c.createElSelect_=function(a,b,c){var d=this;void 0===b&&(b=""),void 0===c&&(c="label");var e=$e[a],f=e.id.replace("%s",this.id_),g=[b,f].join(" ").trim();return["<"+c+' id="'+f+'" class="'+("label"===c?"vjs-label":"")+'">',this.localize(e.label),"</"+c+">",'<select aria-labelledby="'+g+'">'].concat(e.options.map(function(a){var b=f+"-"+a[1].replace(/\W+/g,"");return['<option id="'+b+'" value="'+a[0]+'" ','aria-labelledby="'+g+" "+b+'">',d.localize(a[1]),"</option>"].join("")})).concat("</select>").join("")},c.createElFgColor_=function(){var a="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+a+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",a),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",a),"</span>","</fieldset>"].join("")},c.createElBgColor_=function(){var a="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+a+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",a),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",a),"</span>","</fieldset>"].join("")},c.createElWinColor_=function(){var a="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+a+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",a),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",a),"</span>","</fieldset>"].join("")},c.createElColors_=function(){return s("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},c.createElFont_=function(){return s("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},c.createElControls_=function(){var a=this.localize("restore all settings to the default values");return s("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+a+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+a+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},c.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},c.label=function(){return this.localize("Caption Settings Dialog")},c.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},c.buildCSSClass=function(){return a.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},c.getValues=function(){var a=this;return g($e,function(b,c,d){var e=Ca(a.$(c.selector),c.parser);return void 0!==e&&(b[d]=e),b},{})},c.setValues=function(a){var b=this;f($e,function(c,d){Da(b.$(c.selector),a[d],c.parser)})},c.setDefaults=function(){var a=this;f($e,function(b){var c=b.hasOwnProperty("default")?b.default:0;a.$(b.selector).selectedIndex=c})},c.restoreSettings=function(){var a;try{a=JSON.parse(ab.default.localStorage.getItem(Oe))}catch(a){wb.warn(a)}a&&this.setValues(a)},c.saveSettings=function(){if(this.options_.persistTextTrackSettings){var a=this.getValues();try{Object.keys(a).length?ab.default.localStorage.setItem(Oe,JSON.stringify(a)):ab.default.localStorage.removeItem(Oe)}catch(a){wb.warn(a)}}},c.updateDisplay=function(){var a=this.player_.getChild("textTrackDisplay");a&&a.updateDisplay()},c.conditionalBlur_=function(){this.previouslyActiveEl_=null;var a=this.player_.controlBar,b=a&&a.subsCapsButton,c=a&&a.captionsButton;b?b.focus():c&&c.focus()},b}(Nc);Gc.registerComponent("TextTrackSettings",_e);var af=function(a){function b(b,c){var d,e=c.ResizeObserver||ab.default.ResizeObserver;null===c.ResizeObserver&&(e=!1);var f=aa({createEl:!e,reportTouchActivity:!1},c);return d=a.call(this,b,f)||this,d.ResizeObserver=c.ResizeObserver||ab.default.ResizeObserver,d.loadListener_=null,d.resizeObserver_=null,d.debouncedHandler_=lc(function(){d.resizeHandler()},100,!1,db.default(d)),e?(d.resizeObserver_=new d.ResizeObserver(d.debouncedHandler_),d.resizeObserver_.observe(b.el())):(d.loadListener_=function(){if(d.el_&&d.el_.contentWindow){var a=d.debouncedHandler_,b=d.unloadListener_=function(){W(this,"resize",a),W(this,"unload",b),b=null};V(d.el_.contentWindow,"unload",b),V(d.el_.contentWindow,"resize",a)}},d.one("load",d.loadListener_)),d}eb.default(b,a);var c=b.prototype;return c.createEl=function(){return a.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},c.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},c.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,a.prototype.dispose.call(this)},b}(Gc);Gc.registerComponent("ResizeManager",af);var bf={trackingThreshold:30,liveTolerance:15},cf=function(a){function b(b,c){var d,e=aa(bf,c,{createEl:!1});return d=a.call(this,b,e)||this,d.handleVisibilityChange_=function(a){return d.handleVisibilityChange(a)},d.trackLiveHandler_=function(){return d.trackLive_()},d.handlePlay_=function(a){return d.handlePlay(a)},d.handleFirstTimeupdate_=function(a){return d.handleFirstTimeupdate(a)},d.handleSeeked_=function(a){return d.handleSeeked(a)},d.seekToLiveEdge_=function(a){return d.seekToLiveEdge(a)},d.reset_(),d.on(d.player_,"durationchange",function(a){return d.handleDurationchange(a)}),d.one(d.player_,"canplay",function(){return d.toggleTracking()}),Mb&&"hidden"in bb.default&&"visibilityState"in bb.default&&d.on(bb.default,"visibilitychange",d.handleVisibilityChange_),d}eb.default(b,a);var c=b.prototype;return c.handleVisibilityChange=function(){this.player_.duration()===1/0&&(bb.default.hidden?this.stopTracking():this.startTracking())},c.trackLive_=function(){var a=this.player_.seekable();if(a&&a.length){var b=Number(ab.default.performance.now().toFixed(4)),c=-1===this.lastTime_?0:(b-this.lastTime_)/1e3;this.lastTime_=b,this.pastSeekEnd_=this.pastSeekEnd()+c;var d=this.liveCurrentTime(),e=this.player_.currentTime(),f=this.player_.paused()||this.seekedBehindLive_||Math.abs(d-e)>this.options_.liveTolerance;this.timeupdateSeen_&&d!==1/0||(f=!1),f!==this.behindLiveEdge_&&(this.behindLiveEdge_=f,this.trigger("liveedgechange"))}},c.handleDurationchange=function(){this.toggleTracking()},c.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},c.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,ic),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},c.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},c.handleSeeked=function(){var a=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&a>2,this.nextSeekedFromUser_=!1,this.trackLive_()},c.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},c.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},c.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},c.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},c.seekableEnd=function(){for(var a=this.player_.seekable(),b=[],c=a?a.length:0;c--;)b.push(a.end(c));return b.length?b.sort()[b.length-1]:1/0},c.seekableStart=function(){for(var a=this.player_.seekable(),b=[],c=a?a.length:0;c--;)b.push(a.start(c));return b.length?b.sort()[0]:0},c.liveWindow=function(){var a=this.liveCurrentTime();return a===1/0?0:a-this.seekableStart()},c.isLive=function(){return this.isTracking()},c.atLiveEdge=function(){return!this.behindLiveEdge()},c.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},c.pastSeekEnd=function(){var a=this.seekableEnd();return-1!==this.lastSeekEnd_&&a!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=a,this.pastSeekEnd_},c.behindLiveEdge=function(){return this.behindLiveEdge_},c.isTracking=function(){return"number"==typeof this.trackingInterval_},c.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},c.dispose=function(){this.off(bb.default,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),a.prototype.dispose.call(this)},b}(Gc);Gc.registerComponent("LiveTracker",cf);var df=function(a){var b=a.el();if(b.hasAttribute("src"))return a.triggerSourceset(b.src),!0;var c=a.$$("source"),d=[],e="";if(!c.length)return!1;for(var f=0;f<c.length;f++){var g=c[f].src;g&&-1===d.indexOf(g)&&d.push(g)}return!!d.length&&(1===d.length&&(e=d[0]),a.triggerSourceset(e),!0)},ef=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(a){var b=bb.default.createElement(this.nodeName.toLowerCase());b.innerHTML=a;for(var c=bb.default.createDocumentFragment();b.childNodes.length;)c.appendChild(b.childNodes[0]);return this.innerText="",ab.default.Element.prototype.appendChild.call(this,c),this.innerHTML}}),ff=function(a,b){for(var c={},d=0;d<a.length&&!((c=Object.getOwnPropertyDescriptor(a[d],b))&&c.set&&c.get);d++);return c.enumerable=!0,c.configurable=!0,c},gf=function(a){return ff([a.el(),ab.default.HTMLMediaElement.prototype,ab.default.Element.prototype,ef],"innerHTML")},hf=function(a){var b=a.el();if(!b.resetSourceWatch_){var c={},d=gf(a),e=function(c){return function(){for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];var g=c.apply(b,e);return df(a),g}};["append","appendChild","insertAdjacentHTML"].forEach(function(a){b[a]&&(c[a]=b[a],b[a]=e(c[a]))}),Object.defineProperty(b,"innerHTML",aa(d,{set:e(d.set)})),b.resetSourceWatch_=function(){b.resetSourceWatch_=null,Object.keys(c).forEach(function(a){b[a]=c[a]}),Object.defineProperty(b,"innerHTML",d)},a.one("sourceset",b.resetSourceWatch_)}},jf=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?bd(ab.default.Element.prototype.getAttribute.call(this,"src")):""},set:function(a){return ab.default.Element.prototype.setAttribute.call(this,"src",a),a}}),kf=function(a){return ff([a.el(),ab.default.HTMLMediaElement.prototype,jf],"src")},lf=function(a){if(a.featuresSourceset){var b=a.el();if(!b.resetSourceset_){var c=kf(a),d=b.setAttribute,e=b.load;Object.defineProperty(b,"src",aa(c,{set:function(d){var e=c.set.call(b,d);return a.triggerSourceset(b.src),e}})),b.setAttribute=function(c,e){var f=d.call(b,c,e);return/src/i.test(c)&&a.triggerSourceset(b.src),f},b.load=function(){var c=e.call(b);return df(a)||(a.triggerSourceset(""),hf(a)),c},b.currentSrc?a.triggerSourceset(b.currentSrc):df(a)||hf(a),b.resetSourceset_=function(){b.resetSourceset_=null,b.load=e,b.setAttribute=d,Object.defineProperty(b,"src",c),b.resetSourceWatch_&&b.resetSourceWatch_()}}}},mf=function(a,b,c,d){void 0===d&&(d=!0);var e=function(c){return Object.defineProperty(a,b,{value:c,enumerable:!0,writable:!0})},f={configurable:!0,enumerable:!0,get:function(){var a=c();return e(a),a}};return d&&(f.set=e),Object.defineProperty(a,b,f)},nf=function(a){function b(b,c){var d;d=a.call(this,b,c)||this;var e=b.source,f=!1;if(e&&(d.el_.currentSrc!==e.src||b.tag&&3===b.tag.initNetworkState_)?d.setSource(e):d.handleLateInit_(d.el_),b.enableSourceset&&d.setupSourcesetHandling_(),d.isScrubbing_=!1,d.el_.hasChildNodes()){for(var g=d.el_.childNodes,h=g.length,i=[];h--;){var j=g[h];"track"===j.nodeName.toLowerCase()&&(d.featuresNativeTextTracks?(d.remoteTextTrackEls().addTrackElement_(j),d.remoteTextTracks().addTrack(j.track),d.textTracks().addTrack(j.track),f||d.el_.hasAttribute("crossorigin")||!dd(j.src)||(f=!0)):i.push(j))}for(var k=0;k<i.length;k++)d.el_.removeChild(i[k])}return d.proxyNativeTracks_(),d.featuresNativeTextTracks&&f&&wb.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),d.restoreMetadataTracksInIOSNativePlayer_(),(Pb||Rb||Hb)&&!0===b.nativeControlsForTouch&&d.setControls(!0),d.proxyWebkitFullscreen_(),d.triggerReady(),d}eb.default(b,a);var c=b.prototype;return c.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),b.disposeMediaElement(this.el_),this.options_=null,a.prototype.dispose.call(this)},c.setupSourcesetHandling_=function(){lf(this)},c.restoreMetadataTracksInIOSNativePlayer_=function(){var a,b=this.textTracks(),c=function(){a=[];for(var c=0;c<b.length;c++){var d=b[c];"metadata"===d.kind&&a.push({track:d,storedMode:d.mode})}};c(),b.addEventListener("change",c),this.on("dispose",function(){return b.removeEventListener("change",c)});var d=function c(){for(var d=0;d<a.length;d++){var e=a[d];"disabled"===e.track.mode&&e.track.mode!==e.storedMode&&(e.track.mode=e.storedMode)}b.removeEventListener("change",c)};this.on("webkitbeginfullscreen",function(){b.removeEventListener("change",c),b.removeEventListener("change",d),b.addEventListener("change",d)}),this.on("webkitendfullscreen",function(){b.removeEventListener("change",c),b.addEventListener("change",c),b.removeEventListener("change",d)})},c.overrideNative_=function(a,b){var c=this;if(b===this["featuresNative"+a+"Tracks"]){var d=a.toLowerCase();this[d+"TracksListeners_"]&&Object.keys(this[d+"TracksListeners_"]).forEach(function(a){c.el()[d+"Tracks"].removeEventListener(a,c[d+"TracksListeners_"][a])}),this["featuresNative"+a+"Tracks"]=!b,this[d+"TracksListeners_"]=null,this.proxyNativeTracksForType_(d)}},c.overrideNativeAudioTracks=function(a){this.overrideNative_("Audio",a)},c.overrideNativeVideoTracks=function(a){this.overrideNative_("Video",a)},c.proxyNativeTracksForType_=function(a){var b=this,c=nd[a],d=this.el()[c.getterName],e=this[c.getterName]();if(this["featuresNative"+c.capitalName+"Tracks"]&&d&&d.addEventListener){var f={change:function(c){var d={type:"change",target:e,currentTarget:e,srcElement:e};e.trigger(d),"text"===a&&b[od.remoteText.getterName]().trigger(d)},addtrack:function(a){e.addTrack(a.track)},removetrack:function(a){e.removeTrack(a.track)}},g=function(){for(var a=[],b=0;b<e.length;b++){for(var c=!1,f=0;f<d.length;f++)if(d[f]===e[b]){c=!0;break}c||a.push(e[b])}for(;a.length;)e.removeTrack(a.shift())};this[c.getterName+"Listeners_"]=f,Object.keys(f).forEach(function(a){var c=f[a];d.addEventListener(a,c),b.on("dispose",function(b){return d.removeEventListener(a,c)})}),this.on("loadstart",g),this.on("dispose",function(a){return b.off("loadstart",g)})}},c.proxyNativeTracks_=function(){var a=this;nd.names.forEach(function(b){a.proxyNativeTracksForType_(b)})},c.createEl=function(){var a=this.options_.tag;if(!a||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(a){var c=a.cloneNode(!0);a.parentNode&&a.parentNode.insertBefore(c,a),b.disposeMediaElement(a),a=c}else{a=bb.default.createElement("video");var d=this.options_.tag&&A(this.options_.tag),e=aa({},d);Pb&&!0===this.options_.nativeControlsForTouch||delete e.controls,z(a,h(e,{id:this.options_.techId,class:"vjs-tech"}))}a.playerId=this.options_.playerId}void 0!==this.options_.preload&&C(a,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(a.disablePictureInPicture=this.options_.disablePictureInPicture);for(var f=["loop","muted","playsinline","autoplay"],g=0;g<f.length;g++){var i=f[g],j=this.options_[i];void 0!==j&&(j?C(a,i,i):D(a,i),a[i]=j)}return a},c.handleLateInit_=function(a){if(0!==a.networkState&&3!==a.networkState){if(0===a.readyState){var b=!1,c=function(){b=!0};this.on("loadstart",c);var d=function(){b||this.trigger("loadstart")};return this.on("loadedmetadata",d),void this.ready(function(){this.off("loadstart",c),this.off("loadedmetadata",d),b||this.trigger("loadstart")})}var e=["loadstart"];e.push("loadedmetadata"),a.readyState>=2&&e.push("loadeddata"),a.readyState>=3&&e.push("canplay"),a.readyState>=4&&e.push("canplaythrough"),this.ready(function(){e.forEach(function(a){this.trigger(a)},this)})}},c.setScrubbing=function(a){this.isScrubbing_=a},c.scrubbing=function(){return this.isScrubbing_},c.setCurrentTime=function(a){try{this.isScrubbing_&&this.el_.fastSeek&&Tb?this.el_.fastSeek(a):this.el_.currentTime=a}catch(a){wb(a,"Video is not ready. (Video.js)")}},c.duration=function(){var a=this;if(this.el_.duration===1/0&&Fb&&Kb&&0===this.el_.currentTime){var b=function b(){a.el_.currentTime>0&&(a.el_.duration===1/0&&a.trigger("durationchange"),a.off("timeupdate",b))};return this.on("timeupdate",b),NaN}return this.el_.duration||NaN},c.width=function(){return this.el_.offsetWidth},c.height=function(){return this.el_.offsetHeight},c.proxyWebkitFullscreen_=function(){var a=this;if("webkitDisplayingFullscreen"in this.el_){var b=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},c=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",b),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",c),this.on("dispose",function(){a.off("webkitbeginfullscreen",c),a.off("webkitendfullscreen",b)})}},c.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var a=ab.default.navigator&&ab.default.navigator.userAgent||"";if(/Android/.test(a)||!/Chrome|Mac OS X 10.5/.test(a))return!0}return!1},c.enterFullScreen=function(){var a=this.el_;if(a.paused&&a.networkState<=a.HAVE_METADATA)ia(this.el_.play()),this.setTimeout(function(){a.pause();try{a.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},0);else try{a.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},c.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen)return void this.trigger("fullscreenerror",new Error("The video is not fullscreen"));this.el_.webkitExitFullScreen()},c.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},c.src=function(a){if(void 0===a)return this.el_.src;this.setSrc(a)},c.reset=function(){b.resetMediaElement(this.el_)},c.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},c.setControls=function(a){this.el_.controls=!!a},c.addTextTrack=function(b,c,d){return this.featuresNativeTextTracks?this.el_.addTextTrack(b,c,d):a.prototype.addTextTrack.call(this,b,c,d)},c.createRemoteTextTrack=function(b){if(!this.featuresNativeTextTracks)return a.prototype.createRemoteTextTrack.call(this,b);var c=bb.default.createElement("track");return b.kind&&(c.kind=b.kind),b.label&&(c.label=b.label),(b.language||b.srclang)&&(c.srclang=b.language||b.srclang),b.default&&(c.default=b.default),b.id&&(c.id=b.id),b.src&&(c.src=b.src),c},c.addRemoteTextTrack=function(b,c){var d=a.prototype.addRemoteTextTrack.call(this,b,c);return this.featuresNativeTextTracks&&this.el().appendChild(d),d},c.removeRemoteTextTrack=function(b){if(a.prototype.removeRemoteTextTrack.call(this,b),this.featuresNativeTextTracks)for(var c=this.$$("track"),d=c.length;d--;)b!==c[d]&&b!==c[d].track||this.el().removeChild(c[d])},c.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var a={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(a.droppedVideoFrames=this.el().webkitDroppedFrameCount,a.totalVideoFrames=this.el().webkitDecodedFrameCount),ab.default.performance&&"function"==typeof ab.default.performance.now?a.creationTime=ab.default.performance.now():ab.default.performance&&ab.default.performance.timing&&"number"==typeof ab.default.performance.timing.navigationStart&&(a.creationTime=ab.default.Date.now()-ab.default.performance.timing.navigationStart),a},b}(qd);mf(nf,"TEST_VID",function(){if(o()){var a=bb.default.createElement("video"),b=bb.default.createElement("track");return b.kind="captions",b.srclang="en",b.label="English",a.appendChild(b),a}}),nf.isSupported=function(){try{nf.TEST_VID.volume=.5}catch(a){return!1}return!(!nf.TEST_VID||!nf.TEST_VID.canPlayType)},nf.canPlayType=function(a){return nf.TEST_VID.canPlayType(a)},nf.canPlaySource=function(a,b){return nf.canPlayType(a.type)},nf.canControlVolume=function(){try{var a=nf.TEST_VID.volume;return nf.TEST_VID.volume=a/2+.1,a!==nf.TEST_VID.volume}catch(a){return!1}},nf.canMuteVolume=function(){try{var a=nf.TEST_VID.muted;return nf.TEST_VID.muted=!a,nf.TEST_VID.muted?C(nf.TEST_VID,"muted","muted"):D(nf.TEST_VID,"muted","muted"),a!==nf.TEST_VID.muted}catch(a){return!1}},nf.canControlPlaybackRate=function(){if(Fb&&Kb&&Lb<58)return!1;try{var a=nf.TEST_VID.playbackRate;return nf.TEST_VID.playbackRate=a/2+.1,a!==nf.TEST_VID.playbackRate}catch(a){return!1}},nf.canOverrideAttributes=function(){try{var a=function(){};Object.defineProperty(bb.default.createElement("video"),"src",{get:a,set:a}),Object.defineProperty(bb.default.createElement("audio"),"src",{get:a,set:a}),Object.defineProperty(bb.default.createElement("video"),"innerHTML",{get:a,set:a}),Object.defineProperty(bb.default.createElement("audio"),"innerHTML",{get:a,set:a})}catch(a){return!1}return!0},nf.supportsNativeTextTracks=function(){return Tb||Sb&&Kb},nf.supportsNativeVideoTracks=function(){return!(!nf.TEST_VID||!nf.TEST_VID.videoTracks)},nf.supportsNativeAudioTracks=function(){return!(!nf.TEST_VID||!nf.TEST_VID.audioTracks)},nf.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(a){var b=a[0],c=a[1];mf(nf.prototype,b,function(){return nf[c]()},!0)}),nf.prototype.movingMediaElementInDOM=!Sb,nf.prototype.featuresFullscreenResize=!0,nf.prototype.featuresProgressEvents=!0,nf.prototype.featuresTimeupdateEvents=!0;var of;nf.patchCanPlayType=function(){Gb>=4&&!Ib&&!Kb&&(of=nf.TEST_VID&&nf.TEST_VID.constructor.prototype.canPlayType,nf.TEST_VID.constructor.prototype.canPlayType=function(a){var b=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return a&&b.test(a)?"maybe":of.call(this,a)})},nf.unpatchCanPlayType=function(){var a=nf.TEST_VID.constructor.prototype.canPlayType;return of&&(nf.TEST_VID.constructor.prototype.canPlayType=of),a},nf.patchCanPlayType(),nf.disposeMediaElement=function(a){if(a){for(a.parentNode&&a.parentNode.removeChild(a);a.hasChildNodes();)a.removeChild(a.firstChild);a.removeAttribute("src"),"function"==typeof a.load&&function(){try{a.load()}catch(a){}}()}},nf.resetMediaElement=function(a){if(a){for(var b=a.querySelectorAll("source"),c=b.length;c--;)a.removeChild(b[c]);a.removeAttribute("src"),"function"==typeof a.load&&function(){try{a.load()}catch(a){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(a){nf.prototype[a]=function(){return this.el_[a]||this.el_.hasAttribute(a)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(a){nf.prototype["set"+Ac(a)]=function(b){this.el_[a]=b,b?this.el_.setAttribute(a,a):this.el_.removeAttribute(a)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(a){nf.prototype[a]=function(){return this.el_[a]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(a){nf.prototype["set"+Ac(a)]=function(b){this.el_[a]=b}}),["pause","load","play"].forEach(function(a){nf.prototype[a]=function(){return this.el_[a]()}}),qd.withSourceHandlers(nf),nf.nativeSourceHandler={},nf.nativeSourceHandler.canPlayType=function(a){try{return nf.TEST_VID.canPlayType(a)}catch(a){return""}},nf.nativeSourceHandler.canHandleSource=function(a,b){if(a.type)return nf.nativeSourceHandler.canPlayType(a.type);if(a.src){var c=cd(a.src);return nf.nativeSourceHandler.canPlayType("video/"+c)}return""},nf.nativeSourceHandler.handleSource=function(a,b,c){b.setSrc(a.src)},nf.nativeSourceHandler.dispose=function(){},nf.registerSourceHandler(nf.nativeSourceHandler),qd.registerTech("Html5",nf);var pf=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],qf={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},rf=["tiny","xsmall","small","medium","large","xlarge","huge"],sf={};rf.forEach(function(a){var b="x"===a.charAt(0)?"x-"+a.substring(1):a;sf[a]="vjs-layout-"+b});var tf={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},uf=function(a){function b(c,d,e){var f;if(c.id=c.id||d.id||"vjs_video_"+R(),d=h(b.getTagSettings(c),d),d.initChildren=!1,d.createEl=!1,d.evented=!1,d.reportTouchActivity=!1,!d.language)if("function"==typeof c.closest){var g=c.closest("[lang]");g&&g.getAttribute&&(d.language=g.getAttribute("lang"))}else for(var i=c;i&&1===i.nodeType;){if(A(i).hasOwnProperty("lang")){d.language=i.getAttribute("lang");break}i=i.parentNode}if(f=a.call(this,null,d,e)||this,f.boundDocumentFullscreenChange_=function(a){return f.documentFullscreenChange_(a)},f.boundFullWindowOnEscKey_=function(a){return f.fullWindowOnEscKey(a)},f.boundUpdateStyleEl_=function(a){return f.updateStyleEl_(a)},f.boundApplyInitTime_=function(a){return f.applyInitTime_(a)},f.boundUpdateCurrentBreakpoint_=function(a){return f.updateCurrentBreakpoint_(a)},f.boundHandleTechClick_=function(a){return f.handleTechClick_(a)},f.boundHandleTechDoubleClick_=function(a){return f.handleTechDoubleClick_(a)},f.boundHandleTechTouchStart_=function(a){return f.handleTechTouchStart_(a)},f.boundHandleTechTouchMove_=function(a){return f.handleTechTouchMove_(a)},f.boundHandleTechTouchEnd_=function(a){return f.handleTechTouchEnd_(a)},f.boundHandleTechTap_=function(a){return f.handleTechTap_(a)},f.isFullscreen_=!1,f.log=xb(f.id_),f.fsApi_=ob,f.isPosterFromTech_=!1,f.queuedCallbacks_=[],f.isReady_=!1,f.hasStarted_=!1,f.userActive_=!1,f.debugEnabled_=!1,!f.options_||!f.options_.techOrder||!f.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(f.tag=c,f.tagAttributes=c&&A(c),f.language(f.options_.language),d.languages){var j={};Object.getOwnPropertyNames(d.languages).forEach(function(a){j[a.toLowerCase()]=d.languages[a]}),f.languages_=j}else f.languages_=b.prototype.options_.languages;f.resetCache_(),f.poster_=d.poster||"",f.controls_=!!d.controls,c.controls=!1,c.removeAttribute("controls"),f.changingSrc_=!1,f.playCallbacks_=[],f.playTerminatedQueue_=[],c.hasAttribute("autoplay")?f.autoplay(!0):f.autoplay(f.options_.autoplay),d.plugins&&Object.keys(d.plugins).forEach(function(a){if("function"!=typeof f[a])throw new Error('plugin "'+a+'" does not exist')}),f.scrubbing_=!1,f.el_=f.createEl(),$(db.default(f),{eventBusKey:"el_"}),f.fsApi_.requestFullscreen&&(V(bb.default,f.fsApi_.fullscreenchange,f.boundDocumentFullscreenChange_),f.on(f.fsApi_.fullscreenchange,f.boundDocumentFullscreenChange_)),f.fluid_&&f.on(["playerreset","resize"],f.boundUpdateStyleEl_);var k=aa(f.options_);d.plugins&&Object.keys(d.plugins).forEach(function(a){f[a](d.plugins[a])}),d.debug&&f.debug(!0),f.options_.playerOptions=k,f.middleware_=[],f.playbackRates(d.playbackRates),f.initChildren(),f.isAudio("audio"===c.nodeName.toLowerCase()),f.controls()?f.addClass("vjs-controls-enabled"):f.addClass("vjs-controls-disabled"),f.el_.setAttribute("role","region"),f.isAudio()?f.el_.setAttribute("aria-label",f.localize("Audio Player")):f.el_.setAttribute("aria-label",f.localize("Video Player")),f.isAudio()&&f.addClass("vjs-audio"),f.flexNotSupported_()&&f.addClass("vjs-no-flex"),Pb&&f.addClass("vjs-touch-enabled"),Sb||f.addClass("vjs-workinghover"),b.players[f.id_]=db.default(f);var l=nb.split(".")[0];return f.addClass("vjs-v"+l),f.userActive(!0),f.reportUserActivity(),f.one("play",function(a){return f.listenForUserActivity_(a)}),f.on("stageclick",function(a){return f.handleStageClick_(a)}),f.on("keydown",function(a){return f.handleKeyDown(a)}),f.on("languagechange",function(a){return f.handleLanguagechange(a)}),f.breakpoints(f.options_.breakpoints),f.responsive(f.options_.responsive),f}eb.default(b,a);var c=b.prototype;return c.dispose=function(){var c=this;this.trigger("dispose"),this.off("dispose"),W(bb.default,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),W(bb.default,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),b.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),sa(this),pd.names.forEach(function(a){var b=pd[a],d=c[b.getterName]();d&&d.off&&d.off()}),a.prototype.dispose.call(this)},c.createEl=function(){var b,c=this.tag,d=this.playerElIngest_=c.parentNode&&c.parentNode.hasAttribute&&c.parentNode.hasAttribute("data-vjs-player"),e="video-js"===this.tag.tagName.toLowerCase();d?b=this.el_=c.parentNode:e||(b=this.el_=a.prototype.createEl.call(this,"div"));var f=A(c);if(e){for(b=this.el_=c,c=this.tag=bb.default.createElement("video");b.children.length;)c.appendChild(b.firstChild);v(b,"video-js")||w(b,"video-js"),b.appendChild(c),d=this.playerElIngest_=b,Object.keys(b).forEach(function(a){try{c[a]=b[a]}catch(a){}})}if(c.setAttribute("tabindex","-1"),f.tabindex="-1",(Mb||Kb&&Ob)&&(c.setAttribute("role","application"),f.role="application"),c.removeAttribute("width"),c.removeAttribute("height"),"width"in f&&delete f.width,"height"in f&&delete f.height,Object.getOwnPropertyNames(f).forEach(function(a){e&&"class"===a||b.setAttribute(a,f[a]),e&&c.setAttribute(a,f[a])}),c.playerId=c.id,c.id+="_html5_api",c.className="vjs-tech",c.player=b.player=this,this.addClass("vjs-paused"),!0!==ab.default.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=_b("vjs-styles-dimensions");var g=Vb(".vjs-styles-defaults"),h=Vb("head");h.insertBefore(this.styleEl_,g?g.nextSibling:h.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var i=c.getElementsByTagName("a"),j=0;j<i.length;j++){var k=i.item(j);w(k,"vjs-hidden"),k.setAttribute("hidden","hidden")}return c.initNetworkState_=c.networkState,c.parentNode&&!d&&c.parentNode.insertBefore(b,c),u(c,b),this.children_.unshift(c),this.el_.setAttribute("lang",this.language_),this.el_=b,b},c.crossOrigin=function(a){return a?"anonymous"!==a&&"use-credentials"!==a?void wb.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+a+'"'):void this.techCall_("setCrossOrigin",a):this.techGet_("crossOrigin")},c.width=function(a){return this.dimension("width",a)},c.height=function(a){return this.dimension("height",a)},c.dimension=function(a,b){var c=a+"_";if(void 0===b)return this[c]||0;if(""===b||"auto"===b)return this[c]=void 0,void this.updateStyleEl_();var d=parseFloat(b);if(isNaN(d))return void wb.error('Improper value "'+b+'" supplied for for '+a);this[c]=d,this.updateStyleEl_()},c.fluid=function(a){var b=this;if(void 0===a)return!!this.fluid_;this.fluid_=!!a,pc(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),a?(this.addClass("vjs-fluid"),this.fill(!1),qc(this,function(){b.on(["playerreset","resize"],b.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},c.fill=function(a){if(void 0===a)return!!this.fill_;this.fill_=!!a,a?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},c.aspectRatio=function(a){if(void 0===a)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(a))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=a,this.fluid(!0),this.updateStyleEl_()},c.updateStyleEl_=function(){if(!0===ab.default.VIDEOJS_NO_DYNAMIC_STYLE){var a="number"==typeof this.width_?this.width_:this.options_.width,b="number"==typeof this.height_?this.height_:this.options_.height,c=this.tech_&&this.tech_.el();return void(c&&(a>=0&&(c.width=a),b>=0&&(c.height=b)))}var d,e,f,g;f=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var h=f.split(":"),i=h[1]/h[0];d=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/i:this.videoWidth()||300,e=void 0!==this.height_?this.height_:d*i,g=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(g),ac(this.styleEl_,"\n      ."+g+" {\n        width: "+d+"px;\n        height: "+e+"px;\n      }\n\n      ."+g+".vjs-fluid {\n        padding-top: "+100*i+"%;\n      }\n    ")},c.loadTech_=function(a,b){var c=this;this.tech_&&this.unloadTech_();var d=Ac(a),e=a.charAt(0).toLowerCase()+a.slice(1);"Html5"!==d&&this.tag&&(qd.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=d,this.isReady_=!1;var f=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(f=!1);var g={source:b,autoplay:f,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+e+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};pd.names.forEach(function(a){var b=pd[a];g[b.getterName]=c[b.privateName]}),h(g,this.options_[d]),h(g,this.options_[e]),h(g,this.options_[a.toLowerCase()]),this.tag&&(g.tag=this.tag),b&&b.src===this.cache_.src&&this.cache_.currentTime>0&&(g.startTime=this.cache_.currentTime);var i=qd.getTech(a);if(!i)throw new Error("No Tech named '"+d+"' exists! '"+d+"' should be registered using videojs.registerTech()'");this.tech_=new i(g),this.tech_.ready(jc(this,this.handleTechReady_),!0),Lc.jsonToTextTracks(this.textTracksJson_||[],this.tech_),pf.forEach(function(a){c.on(c.tech_,a,function(b){return c["handleTech"+Ac(a)+"_"](b)})}),Object.keys(qf).forEach(function(a){c.on(c.tech_,a,function(b){if(0===c.tech_.playbackRate()&&c.tech_.seeking())return void c.queuedCallbacks_.push({callback:c["handleTech"+qf[a]+"_"].bind(c),event:b});c["handleTech"+qf[a]+"_"](b)})}),this.on(this.tech_,"loadstart",function(a){return c.handleTechLoadStart_(a)}),this.on(this.tech_,"sourceset",function(a){return c.handleTechSourceset_(a)}),this.on(this.tech_,"waiting",function(a){return c.handleTechWaiting_(a)}),this.on(this.tech_,"ended",function(a){return c.handleTechEnded_(a)}),this.on(this.tech_,"seeking",function(a){return c.handleTechSeeking_(a)}),this.on(this.tech_,"play",function(a){return c.handleTechPlay_(a)}),this.on(this.tech_,"firstplay",function(a){return c.handleTechFirstPlay_(a)}),this.on(this.tech_,"pause",function(a){return c.handleTechPause_(a)}),this.on(this.tech_,"durationchange",function(a){return c.handleTechDurationChange_(a)}),this.on(this.tech_,"fullscreenchange",function(a,b){return c.handleTechFullscreenChange_(a,b)}),this.on(this.tech_,"fullscreenerror",function(a,b){return c.handleTechFullscreenError_(a,b)}),this.on(this.tech_,"enterpictureinpicture",function(a){return c.handleTechEnterPictureInPicture_(a)}),this.on(this.tech_,"leavepictureinpicture",function(a){return c.handleTechLeavePictureInPicture_(a)}),this.on(this.tech_,"error",function(a){return c.handleTechError_(a)}),this.on(this.tech_,"posterchange",function(a){return c.handleTechPosterChange_(a)}),this.on(this.tech_,"textdata",function(a){return c.handleTechTextData_(a)}),this.on(this.tech_,"ratechange",function(a){return c.handleTechRateChange_(a)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===d&&this.tag||u(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},c.unloadTech_=function(){var a=this;pd.names.forEach(function(b){var c=pd[b];a[c.privateName]=a[c.getterName]()}),this.textTracksJson_=Lc.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},c.tech=function(a){return void 0===a&&wb.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},c.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},c.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"mouseup",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},c.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},c.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())},c.manualAutoplay_=function(a){var b=this;if(this.tech_&&"string"==typeof a){var c,d=function(){var a=b.muted();b.muted(!0);var c=function(){b.muted(a)};b.playTerminatedQueue_.push(c);var d=b.play();if(ha(d))return d.catch(function(a){throw c(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(a||""))})};if("any"!==a||this.muted()?c="muted"!==a||this.muted()?this.play():d():(c=this.play(),ha(c)&&(c=c.catch(d))),ha(c))return c.then(function(){b.trigger({type:"autoplay-success",autoplay:a})}).catch(function(){b.trigger({type:"autoplay-failure",autoplay:a})})}},c.updateSourceCaches_=function(a){void 0===a&&(a="");var b=a,c="";"string"!=typeof b&&(b=a.src,c=a.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],b&&!c&&(c=zd(this,b)),this.cache_.source=aa({},a,{src:b,type:c});for(var d=this.cache_.sources.filter(function(a){return a.src&&a.src===b}),e=[],f=this.$$("source"),g=[],h=0;h<f.length;h++){var i=A(f[h]);e.push(i),i.src&&i.src===b&&g.push(i.src)}g.length&&!d.length?this.cache_.sources=e:d.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=b},c.handleTechSourceset_=function(a){var b=this;if(!this.changingSrc_){var c=function(a){return b.updateSourceCaches_(a)},d=this.currentSource().src,e=a.src;d&&!/^blob:/.test(d)&&/^blob:/.test(e)&&(!this.lastSource_||this.lastSource_.tech!==e&&this.lastSource_.player!==d)&&(c=function(){}),c(e),a.src||this.tech_.any(["sourceset","loadstart"],function(a){if("sourceset"!==a.type){var c=b.techGet("currentSrc");b.lastSource_.tech=c,b.updateSourceCaches_(c)}})}this.lastSource_={player:this.currentSource().src,tech:a.src},this.trigger({src:a.src,type:"sourceset"})},c.hasStarted=function(a){if(void 0===a)return this.hasStarted_;a!==this.hasStarted_&&(this.hasStarted_=a,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},c.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},c.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(a){return a.callback(a.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},c.handleTechWaiting_=function(){var a=this;this.addClass("vjs-waiting"),this.trigger("waiting");var b=this.currentTime(),c=function c(){b!==a.currentTime()&&(a.removeClass("vjs-waiting"),a.off("timeupdate",c))};this.on("timeupdate",c)},c.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},c.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},c.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},c.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},c.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},c.handleTechFirstPlay_=function(){this.options_.starttime&&(wb.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},c.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},c.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},c.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},c.handleTechClick_=function(a){O(a)&&this.controls_&&(this.paused()?ia(this.play()):this.pause())},c.handleTechDoubleClick_=function(a){if(this.controls_){Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(b){return b.contains(a.target)})||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,a):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},c.handleTechTap_=function(){this.userActive(!this.userActive())},c.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},c.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},c.handleTechTouchEnd_=function(a){a.cancelable&&a.preventDefault()},c.handleStageClick_=function(){this.reportUserActivity()},c.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},c.documentFullscreenChange_=function(a){var b=a.target.player;if(!b||b===this){var c=this.el(),d=bb.default[this.fsApi_.fullscreenElement]===c;!d&&c.matches?d=c.matches(":"+this.fsApi_.fullscreen):!d&&c.msMatchesSelector&&(d=c.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(d)}},c.handleTechFullscreenChange_=function(a,b){b&&(b.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(b.isFullscreen))},c.handleTechFullscreenError_=function(a,b){this.trigger("fullscreenerror",b)},c.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},c.handleTechEnterPictureInPicture_=function(a){this.isInPictureInPicture(!0)},c.handleTechLeavePictureInPicture_=function(a){this.isInPictureInPicture(!1)},c.handleTechError_=function(){var a=this.tech_.error();this.error(a)},c.handleTechTextData_=function(){var a=null;arguments.length>1&&(a=arguments[1]),this.trigger("textdata",a)},c.getCache=function(){return this.cache_},c.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},c.techCall_=function(a,b){this.ready(function(){if(a in vd)return oa(this.middleware_,this.tech_,a,b);if(a in wd)return pa(this.middleware_,this.tech_,a,b);try{this.tech_&&this.tech_[a](b)}catch(a){throw wb(a),a}},!0)},c.techGet_=function(a){if(this.tech_&&this.tech_.isReady_){if(a in ud)return na(this.middleware_,this.tech_,a);if(a in wd)return pa(this.middleware_,this.tech_,a);try{return this.tech_[a]()}catch(b){if(void 0===this.tech_[a])throw wb("Video.js: "+a+" method not defined for "+this.techName_+" playback technology.",b),b;if("TypeError"===b.name)throw wb("Video.js: "+a+" unavailable on "+this.techName_+" playback technology element.",b),this.tech_.isReady_=!1,b;throw wb(b),b}}},c.play=function(){var a=this,b=this.options_.Promise||ab.default.Promise;return b?new b(function(b){a.play_(b)}):this.play_()},c.play_=function(a){var b=this;void 0===a&&(a=ia),this.playCallbacks_.push(a);var c=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!c)return this.waitToPlay_=function(a){b.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(c||!Tb&&!Sb||this.load());var d=this.techGet_("play");null===d?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(d)},c.runPlayTerminatedQueue_=function(){var a=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],a.forEach(function(a){a()})},c.runPlayCallbacks_=function(a){var b=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],b.forEach(function(b){b(a)})},c.pause=function(){this.techCall_("pause")},c.paused=function(){return!1!==this.techGet_("paused")},c.played=function(){return this.techGet_("played")||ea(0,0)},c.scrubbing=function(a){if(void 0===a)return this.scrubbing_;this.scrubbing_=!!a,this.techCall_("setScrubbing",this.scrubbing_),a?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},c.currentTime=function(a){return void 0!==a?(a<0&&(a=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",a),void(this.cache_.initTime=0)):(this.cache_.initTime=a,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},c.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},c.duration=function(a){if(void 0===a)return void 0!==this.cache_.duration?this.cache_.duration:NaN;a=parseFloat(a),a<0&&(a=1/0),a!==this.cache_.duration&&(this.cache_.duration=a,a===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(a)||this.trigger("durationchange"))},c.remainingTime=function(){return this.duration()-this.currentTime()},c.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},c.buffered=function(){var a=this.techGet_("buffered");return a&&a.length||(a=ea(0,0)),a},c.bufferedPercent=function(){return fa(this.buffered(),this.duration())},c.bufferedEnd=function(){var a=this.buffered(),b=this.duration(),c=a.end(a.length-1);return c>b&&(c=b),c},c.volume=function(a){var b;return void 0!==a?(b=Math.max(0,Math.min(1,parseFloat(a))),this.cache_.volume=b,this.techCall_("setVolume",b),void(b>0&&this.lastVolume_(b))):(b=parseFloat(this.techGet_("volume")),isNaN(b)?1:b)},c.muted=function(a){return void 0!==a?void this.techCall_("setMuted",a):this.techGet_("muted")||!1},c.defaultMuted=function(a){return void 0!==a?this.techCall_("setDefaultMuted",a):this.techGet_("defaultMuted")||!1},c.lastVolume_=function(a){return void 0!==a&&0!==a?void(this.cache_.lastVolume=a):this.cache_.lastVolume},c.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},c.isFullscreen=function(a){if(void 0!==a){var b=this.isFullscreen_;return this.isFullscreen_=Boolean(a),this.isFullscreen_!==b&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},c.requestFullscreen=function(a){var b=this.options_.Promise||ab.default.Promise;if(b){var c=this;return new b(function(b,d){function e(){c.off("fullscreenerror",g),c.off("fullscreenchange",f)}function f(){e(),b()}function g(a,b){e(),d(b)}c.one("fullscreenchange",f),c.one("fullscreenerror",g);var h=c.requestFullscreenHelper_(a);h&&(h.then(e,e),h.then(b,d))})}return this.requestFullscreenHelper_()},c.requestFullscreenHelper_=function(a){var b,c=this;if(this.fsApi_.prefixed||(b=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==a&&(b=a)),this.fsApi_.requestFullscreen){var d=this.el_[this.fsApi_.requestFullscreen](b);return d&&d.then(function(){return c.isFullscreen(!0)},function(){return c.isFullscreen(!1)}),d}this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},c.exitFullscreen=function(){var a=this.options_.Promise||ab.default.Promise;if(a){var b=this;return new a(function(a,c){function d(){b.off("fullscreenerror",f),b.off("fullscreenchange",e)}function e(){d(),a()}function f(a,b){d(),c(b)}b.one("fullscreenchange",e),b.one("fullscreenerror",f);var g=b.exitFullscreenHelper_();g&&(g.then(d,d),g.then(a,c))})}return this.exitFullscreenHelper_()},c.exitFullscreenHelper_=function(){var a=this;if(this.fsApi_.requestFullscreen){var b=bb.default[this.fsApi_.exitFullscreen]();return b&&ia(b.then(function(){return a.isFullscreen(!1)})),b}this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},c.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=bb.default.documentElement.style.overflow,V(bb.default,"keydown",this.boundFullWindowOnEscKey_),bb.default.documentElement.style.overflow="hidden",w(bb.default.body,"vjs-full-window"),this.trigger("enterFullWindow")},c.fullWindowOnEscKey=function(a){gb.default.isEventKey(a,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},c.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,W(bb.default,"keydown",this.boundFullWindowOnEscKey_),bb.default.documentElement.style.overflow=this.docOrigOverflow,x(bb.default.body,"vjs-full-window"),this.trigger("exitFullWindow")},c.disablePictureInPicture=function(a){if(void 0===a)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",a),this.options_.disablePictureInPicture=a,this.trigger("disablepictureinpicturechanged")},c.isInPictureInPicture=function(a){return void 0!==a?(this.isInPictureInPicture_=!!a,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},c.requestPictureInPicture=function(){if("pictureInPictureEnabled"in bb.default&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},c.exitPictureInPicture=function(){if("pictureInPictureEnabled"in bb.default)return bb.default.exitPictureInPicture()},c.handleKeyDown=function(a){var b=this.options_.userActions;if(b&&b.hotkeys){(function(a){var b=a.tagName.toLowerCase();if(a.isContentEditable)return!0;var c=["button","checkbox","hidden","radio","reset","submit"];return"input"===b?-1===c.indexOf(a.type):-1!==["textarea"].indexOf(b)})(this.el_.ownerDocument.activeElement)||("function"==typeof b.hotkeys?b.hotkeys.call(this,a):this.handleHotkeys(a))}},c.handleHotkeys=function(a){var b=this.options_.userActions?this.options_.userActions.hotkeys:{},c=b.fullscreenKey,d=void 0===c?function(a){return gb.default.isEventKey(a,"f")}:c,e=b.muteKey,f=void 0===e?function(a){return gb.default.isEventKey(a,"m")}:e,g=b.playPauseKey,h=void 0===g?function(a){return gb.default.isEventKey(a,"k")||gb.default.isEventKey(a,"Space")}:g;if(d.call(this,a)){a.preventDefault(),a.stopPropagation();var i=Gc.getComponent("FullscreenToggle");!1!==bb.default[this.fsApi_.fullscreenEnabled]&&i.prototype.handleClick.call(this,a)}else if(f.call(this,a)){a.preventDefault(),a.stopPropagation();var j=Gc.getComponent("MuteToggle");j.prototype.handleClick.call(this,a)}else if(h.call(this,a)){a.preventDefault(),a.stopPropagation();var k=Gc.getComponent("PlayToggle");k.prototype.handleClick.call(this,a)}},c.canPlayType=function(a){for(var b,c=0,d=this.options_.techOrder;c<d.length;c++){var e=d[c],f=qd.getTech(e);if(f||(f=Gc.getComponent(e)),f){if(f.isSupported()&&(b=f.canPlayType(a)))return b}else wb.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.')}return""},c.selectSource=function(a){var b=this,c=this.options_.techOrder.map(function(a){return[a,qd.getTech(a)]}).filter(function(a){var b=a[0],c=a[1];return c?c.isSupported():(wb.error('The "'+b+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),d=function(a,b,c){var d;return a.some(function(a){return b.some(function(b){if(d=c(a,b))return!0})}),d},e=function(a){return function(b,c){return a(c,b)}},f=function(a,c){var d=a[0];if(a[1].canPlaySource(c,b.options_[d.toLowerCase()]))return{source:c,tech:d}};return(this.options_.sourceOrder?d(a,c,e(f)):d(c,a,f))||!1},c.handleSrc_=function(a,b){var c=this;if(void 0===a)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var d=Ad(a);if(!d.length)return void this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);if(this.changingSrc_=!0,b||(this.cache_.sources=d),this.updateSourceCaches_(d[0]),la(this,d[0],function(a,e){if(c.middleware_=e,b||(c.cache_.sources=d),c.updateSourceCaches_(a),c.src_(a))return d.length>1?c.handleSrc_(d.slice(1)):(c.changingSrc_=!1,c.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void c.triggerReady());ma(e,c.tech_)}),this.options_.retryOnError&&d.length>1){var e=function(){c.error(null),c.handleSrc_(d.slice(1),!0)},f=function(){c.off("error",e)};this.one("error",e),this.one("playing",f),this.resetRetryOnError_=function(){c.off("error",e),c.off("playing",f)}}},c.src=function(a){return this.handleSrc_(a,!1)},c.src_=function(a){var b=this,c=this.selectSource([a]);return!c||(Bc(c.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",a):this.techCall_("src",a.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(c.tech,c.source),this.tech_.ready(function(){b.changingSrc_=!1}),!1))},c.load=function(){this.techCall_("load")},c.reset=function(){var a=this,b=this.options_.Promise||ab.default.Promise;if(this.paused()||!b)this.doReset_();else{ia(this.play().then(function(){return a.doReset_()}))}},c.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),pc(this)&&this.trigger("playerreset")},c.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},c.resetProgressBar_=function(){this.currentTime(0);var a=this.controlBar,b=a.durationDisplay,c=a.remainingTimeDisplay;b&&b.updateContent(),c&&c.updateContent()},c.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},c.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},c.currentSources=function(){var a=this.currentSource(),b=[];return 0!==Object.keys(a).length&&b.push(a),this.cache_.sources||b},c.currentSource=function(){return this.cache_.source||{}},c.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},c.currentType=function(){return this.currentSource()&&this.currentSource().type||""},c.preload=function(a){return void 0!==a?(this.techCall_("setPreload",a),void(this.options_.preload=a)):this.techGet_("preload")},c.autoplay=function(a){if(void 0===a)return this.options_.autoplay||!1;var b;"string"==typeof a&&/(any|play|muted)/.test(a)||!0===a&&this.options_.normalizeAutoplay?(this.options_.autoplay=a,this.manualAutoplay_("string"==typeof a?a:"play"),b=!1):this.options_.autoplay=!!a,b=void 0===b?this.options_.autoplay:b,this.tech_&&this.techCall_("setAutoplay",b)},c.playsinline=function(a){return void 0!==a?(this.techCall_("setPlaysinline",a),this.options_.playsinline=a,this):this.techGet_("playsinline")},c.loop=function(a){return void 0!==a?(this.techCall_("setLoop",a),void(this.options_.loop=a)):this.techGet_("loop")},c.poster=function(a){if(void 0===a)return this.poster_;a||(a=""),a!==this.poster_&&(this.poster_=a,this.techCall_("setPoster",a),this.isPosterFromTech_=!1,this.trigger("posterchange"))},c.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var a=this.tech_.poster()||"";a!==this.poster_&&(this.poster_=a,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},c.controls=function(a){if(void 0===a)return!!this.controls_;a=!!a,this.controls_!==a&&(this.controls_=a,this.usingNativeControls()&&this.techCall_("setControls",a),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},c.usingNativeControls=function(a){if(void 0===a)return!!this.usingNativeControls_;a=!!a,this.usingNativeControls_!==a&&(this.usingNativeControls_=a,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},c.error=function(a){if(void 0===a)return this.error_||null;if(this.options_.suppressNotSupportedError&&a&&4===a.code){var b=function(){this.error(a)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],b),void this.one("loadstart",function(){this.off(["click","touchstart"],b)})}if(null===a)return this.error_=a,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new ga(a),this.addClass("vjs-error"),wb.error("(CODE:"+this.error_.code+" "+ga.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},c.reportUserActivity=function(a){this.userActivity_=!0},c.userActive=function(a){if(void 0===a)return this.userActive_;if((a=!!a)!==this.userActive_){if(this.userActive_=a,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},c.listenForUserActivity_=function(){var a,b,c,d=jc(this,this.reportUserActivity),e=function(a){a.screenX===b&&a.screenY===c||(b=a.screenX,c=a.screenY,d())},f=function(){d(),this.clearInterval(a),a=this.setInterval(d,250)},g=function(b){d(),this.clearInterval(a)};this.on("mousedown",f),this.on("mousemove",e),this.on("mouseup",g),this.on("mouseleave",g);var h=this.getChild("controlBar");!h||Sb||Fb||(h.on("mouseenter",function(a){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0}),h.on("mouseleave",function(a){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",d),this.on("keyup",d);var i;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(i);var a=this.options_.inactivityTimeout;a<=0||(i=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},a))}},250)},c.playbackRate=function(a){return void 0!==a?void this.techCall_("setPlaybackRate",a):this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},c.defaultPlaybackRate=function(a){return void 0!==a?this.techCall_("setDefaultPlaybackRate",a):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},c.isAudio=function(a){return void 0!==a?void(this.isAudio_=!!a):!!this.isAudio_},c.addTextTrack=function(a,b,c){if(this.tech_)return this.tech_.addTextTrack(a,b,c)},c.addRemoteTextTrack=function(a,b){if(this.tech_)return this.tech_.addRemoteTextTrack(a,b)},c.removeRemoteTextTrack=function(a){void 0===a&&(a={});var b=a,c=b.track;if(c||(c=a),this.tech_)return this.tech_.removeRemoteTextTrack(c)},c.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},c.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},c.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},c.language=function(a){if(void 0===a)return this.language_;this.language_!==String(a).toLowerCase()&&(this.language_=String(a).toLowerCase(),pc(this)&&this.trigger("languagechange"))},c.languages=function(){return aa(b.prototype.options_.languages,this.languages_)},c.toJSON=function(){var a=aa(this.options_),b=a.tracks;a.tracks=[];for(var c=0;c<b.length;c++){var d=b[c];d=aa(d),d.player=void 0,a.tracks[c]=d}return a},c.createModal=function(a,b){var c=this;b=b||{},b.content=a||"";var d=new Nc(this,b);return this.addChild(d),d.on("dispose",function(){c.removeChild(d)}),d.open(),d},c.updateCurrentBreakpoint_=function(){if(this.responsive())for(var a=this.currentBreakpoint(),b=this.currentWidth(),c=0;c<rf.length;c++){var d=rf[c],e=this.breakpoints_[d];if(b<=e){if(a===d)return;a&&this.removeClass(sf[a]),this.addClass(sf[d]),this.breakpoint_=d;break}}},c.removeCurrentBreakpoint_=function(){var a=this.currentBreakpointClass();this.breakpoint_="",a&&this.removeClass(a)},c.breakpoints=function(a){return void 0===a?h(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=h({},tf,a),this.updateCurrentBreakpoint_(),h(this.breakpoints_))},c.responsive=function(a){return void 0===a?this.responsive_:(a=Boolean(a),a!==this.responsive_?(this.responsive_=a,a?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),a):void 0)},c.currentBreakpoint=function(){return this.breakpoint_},c.currentBreakpointClass=function(){return sf[this.breakpoint_]||""},c.loadMedia=function(a,b){var c=this;if(a&&"object"==typeof a){this.reset(),this.cache_.media=aa(a);var d=this.cache_.media,e=d.artwork,f=d.poster,g=d.src,h=d.textTracks;!e&&f&&(this.cache_.media.artwork=[{src:f,type:yd(f)}]),g&&this.src(g),f&&this.poster(f),Array.isArray(h)&&h.forEach(function(a){return c.addRemoteTextTrack(a,!1)}),this.ready(b)}},c.getMedia=function(){if(!this.cache_.media){var a=this.poster(),b=this.currentSources(),c=Array.prototype.map.call(this.remoteTextTracks(),function(a){return{kind:a.kind,label:a.label,language:a.language,src:a.src}}),d={src:b,textTracks:c};return a&&(d.poster=a,d.artwork=[{src:d.poster,type:yd(d.poster)}]),d}return aa(this.cache_.media)},b.getTagSettings=function(a){var b={sources:[],tracks:[]},c=A(a),d=c["data-setup"];if(v(a,"vjs-fill")&&(c.fill=!0),v(a,"vjs-fluid")&&(c.fluid=!0),null!==d){var e=fb.default(d||"{}"),f=e[0],g=e[1];f&&wb.error(f),h(c,g)}if(h(b,c),a.hasChildNodes())for(var i=a.childNodes,j=0,k=i.length;j<k;j++){var l=i[j],m=l.nodeName.toLowerCase();"source"===m?b.sources.push(A(l)):"track"===m&&b.tracks.push(A(l))}return b},c.flexNotSupported_=function(){var a=bb.default.createElement("i");return!("flexBasis"in a.style||"webkitFlexBasis"in a.style||"mozFlexBasis"in a.style||"msFlexBasis"in a.style||"msFlexOrder"in a.style)},c.debug=function(a){if(void 0===a)return this.debugEnabled_;a?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},c.playbackRates=function(a){if(void 0===a)return this.cache_.playbackRates;Array.isArray(a)&&a.every(function(a){return"number"==typeof a})&&(this.cache_.playbackRates=a,this.trigger("playbackrateschange"))},b}(Gc);pd.names.forEach(function(a){var b=pd[a];uf.prototype[b.getterName]=function(){return this.tech_?this.tech_[b.getterName]():(this[b.privateName]=this[b.privateName]||new b.ListClass,this[b.privateName])}}),uf.prototype.crossorigin=uf.prototype.crossOrigin,uf.players={};var vf=ab.default.navigator;uf.prototype.options_={techOrder:qd.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:vf&&(vf.languages&&vf.languages[0]||vf.userLanguage||vf.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(a){uf.prototype[a]=function(){return this.techGet_(a)}}),pf.forEach(function(a){uf.prototype["handleTech"+Ac(a)+"_"]=function(){return this.trigger(a)}}),Gc.registerComponent("Player",uf);var wf="plugin",xf="activePlugins_",yf={},zf=function(a){return yf.hasOwnProperty(a)},Af=function(a){return zf(a)?yf[a]:void 0},Bf=function(a,b){a[xf]=a[xf]||{},a[xf][b]=!0},Cf=function(a,b,c){var d=(c?"before":"")+"pluginsetup";a.trigger(d,b),a.trigger(d+":"+b.name,b)},Df=function(a,b){var c=function(){Cf(this,{name:a,plugin:b,instance:null},!0);var c=b.apply(this,arguments);return Bf(this,a),Cf(this,{name:a,plugin:b,instance:c}),c};return Object.keys(b).forEach(function(a){c[a]=b[a]}),c},Ef=function(a,b){return b.prototype.name=a,function(){Cf(this,{name:a,plugin:b,instance:null},!0);for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=jb.default(b,[this].concat(d));return this[a]=function(){return f},Cf(this,f.getEventHash()),f}},Ff=function(){function a(b){if(this.constructor===a)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=b,this.log||(this.log=this.player.log.createLogger(this.name)),$(this),delete this.trigger,_(this,this.constructor.defaultState),Bf(b,this.name),this.dispose=this.dispose.bind(this),b.on("dispose",this.dispose)}var b=a.prototype;return b.version=function(){return this.constructor.VERSION},b.getEventHash=function(a){return void 0===a&&(a={}),a.name=this.name,a.plugin=this.constructor,a.instance=this,a},b.trigger=function(a,b){return void 0===b&&(b={}),X(this.eventBusEl_,a,this.getEventHash(b))},b.handleStateChanged=function(a){},b.dispose=function(){var a=this.name,b=this.player;this.trigger("dispose"),this.off(),b.off("dispose",this.dispose),b[xf][a]=!1,this.player=this.state=null,b[a]=Ef(a,yf[a])},a.isBasic=function(b){var c="string"==typeof b?Af(b):b;return"function"==typeof c&&!a.prototype.isPrototypeOf(c.prototype)},a.registerPlugin=function(b,c){if("string"!=typeof b)throw new Error('Illegal plugin name, "'+b+'", must be a string, was '+typeof b+".");if(zf(b))wb.warn('A plugin named "'+b+'" already exists. You may want to avoid re-registering plugins!');else if(uf.prototype.hasOwnProperty(b))throw new Error('Illegal plugin name, "'+b+'", cannot share a name with an existing player method!');if("function"!=typeof c)throw new Error('Illegal plugin for "'+b+'", must be a function, was '+typeof c+".");return yf[b]=c,b!==wf&&(a.isBasic(c)?uf.prototype[b]=Df(b,c):uf.prototype[b]=Ef(b,c)),c},a.deregisterPlugin=function(a){if(a===wf)throw new Error("Cannot de-register base plugin.");zf(a)&&(delete yf[a],delete uf.prototype[a])},a.getPlugins=function(a){void 0===a&&(a=Object.keys(yf));var b;return a.forEach(function(a){var c=Af(a);c&&(b=b||{},b[a]=c)}),b},a.getPluginVersion=function(a){var b=Af(a);return b&&b.VERSION||""},a}();Ff.getPlugin=Af,Ff.BASE_PLUGIN_NAME=wf,Ff.registerPlugin(wf,Ff),uf.prototype.usingPlugin=function(a){return!!this[xf]&&!0===this[xf][a]},uf.prototype.hasPlugin=function(a){return!!zf(a)};var Gf=function(a,b){void 0===b&&(b={});var c=function(){a.apply(this,arguments)},d={};"object"==typeof b?(b.constructor!==Object.prototype.constructor&&(c=b.constructor),d=b):"function"==typeof b&&(c=b),kb.default(c,a),a&&(c.super_=a);for(var e in d)d.hasOwnProperty(e)&&(c.prototype[e]=d[e]);return c},Hf=function(a){return 0===a.indexOf("#")?a.slice(1):a};if(Ea.hooks_={},Ea.hooks=function(a,b){return Ea.hooks_[a]=Ea.hooks_[a]||[],b&&(Ea.hooks_[a]=Ea.hooks_[a].concat(b)),Ea.hooks_[a]},Ea.hook=function(a,b){Ea.hooks(a,b)},Ea.hookOnce=function(a,b){Ea.hooks(a,[].concat(b).map(function(b){return function c(){return Ea.removeHook(a,c),b.apply(void 0,arguments)}}))},Ea.removeHook=function(a,b){var c=Ea.hooks(a).indexOf(b);return!(c<=-1)&&(Ea.hooks_[a]=Ea.hooks_[a].slice(),Ea.hooks_[a].splice(c,1),!0)},!0!==ab.default.VIDEOJS_NO_DYNAMIC_STYLE&&o()){var If=Vb(".vjs-styles-defaults");if(!If){If=_b("vjs-styles-defaults");var Jf=Vb("head");Jf&&Jf.insertBefore(If,Jf.firstChild),ac(If,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}P(1,Ea),Ea.VERSION=nb,Ea.options=uf.prototype.options_,Ea.getPlayers=function(){return uf.players},Ea.getPlayer=function(a){var b,c=uf.players;if("string"==typeof a){var d=Hf(a),e=c[d];if(e)return e;b=Vb("#"+d)}else b=a;if(p(b)){var f=b,g=f.player,h=f.playerId;if(g||c[h])return g||c[h]}},Ea.getAllPlayers=function(){return Object.keys(uf.players).map(function(a){return uf.players[a]}).filter(Boolean)},Ea.players=uf.players,Ea.getComponent=Gc.getComponent,Ea.registerComponent=function(a,b){qd.isTech(b)&&wb.warn("The "+a+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Gc.registerComponent.call(Gc,a,b)},Ea.getTech=qd.getTech,Ea.registerTech=qd.registerTech,Ea.use=ka,Object.defineProperty(Ea,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Ea.middleware,"TERMINATOR",{value:td,writeable:!1,enumerable:!0}),Ea.browser=Ub,Ea.TOUCH_ENABLED=Pb,Ea.extend=Gf,Ea.mergeOptions=aa,Ea.bind=jc,Ea.registerPlugin=Ff.registerPlugin,Ea.deregisterPlugin=Ff.deregisterPlugin,Ea.plugin=function(a,b){return wb.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Ff.registerPlugin(a,b)},Ea.getPlugins=Ff.getPlugins,Ea.getPlugin=Ff.getPlugin,Ea.getPluginVersion=Ff.getPluginVersion,Ea.addLanguage=function(a,b){var c;return a=(""+a).toLowerCase(),Ea.options.languages=aa(Ea.options.languages,(c={},c[a]=b,c)),Ea.options.languages[a]},Ea.log=wb,Ea.createLogger=xb,Ea.createTimeRange=Ea.createTimeRanges=ea,Ea.formatTime=Aa,Ea.setFormatTime=ya,Ea.resetFormatTime=za,Ea.parseUrl=ad,Ea.isCrossOrigin=dd,Ea.EventTarget=mc,Ea.on=V,Ea.one=Y,Ea.off=W,Ea.trigger=X,Ea.xhr=hb.default,Ea.TextTrack=hd,Ea.AudioTrack=id,Ea.VideoTrack=jd,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(a){Ea[a]=function(){return wb.warn("videojs."+a+"() is deprecated; use videojs.dom."+a+"() instead"),Xb[a].apply(null,arguments)}}),Ea.computedStyle=k,Ea.dom=Xb,Ea.url=ed,Ea.defineLazyProperty=mf,Ea.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});var Kf,Lf=lb.default,Mf=function(a,b,c){return a&&c&&c.responseURL&&b!==c.responseURL?c.responseURL:b},Nf=function(a){return Ea.log.debug?Ea.log.debug.bind(Ea,"VHS:",a+" >"):function(){}},Of=1/30,Pf=3*Of,Qf=function(a,b){var c,d=[];if(a&&a.length)for(c=0;c<a.length;c++)b(a.start(c),a.end(c))&&d.push([a.start(c),a.end(c)]);return Ea.createTimeRanges(d)},Rf=function(a,b){return Qf(a,function(a,c){return a-Pf<=b&&c+Pf>=b})},Sf=function(a,b){return Qf(a,function(a){return a-Of>=b})},Tf=function(a){if(a.length<2)return Ea.createTimeRanges();for(var b=[],c=1;c<a.length;c++){var d=a.end(c-1),e=a.start(c);b.push([d,e])}return Ea.createTimeRanges(b)},Uf=function(a,b){var c=null,d=null,e=0,f=[],g=[];if(!(a&&a.length&&b&&b.length))return Ea.createTimeRange();for(var h=a.length;h--;)f.push({time:a.start(h),type:"start"}),f.push({time:a.end(h),type:"end"});for(h=b.length;h--;)f.push({time:b.start(h),type:"start"}),f.push({time:b.end(h),type:"end"});for(f.sort(function(a,b){return a.time-b.time}),h=0;h<f.length;h++)"start"===f[h].type?2===++e&&(c=f[h].time):"end"===f[h].type&&1===--e&&(d=f[h].time),null!==c&&null!==d&&(g.push([c,d]),c=null,d=null);return Ea.createTimeRanges(g)},Vf=function(a){var b=[];if(!a||!a.length)return"";for(var c=0;c<a.length;c++)b.push(a.start(c)+" => "+a.end(c));return b.join(", ")},Wf=function(a,b,c){return void 0===c&&(c=1),((a.length?a.end(a.length-1):0)-b)/c},Xf=function(a){for(var b=[],c=0;c<a.length;c++)b.push({start:a.start(c),end:a.end(c)});return b},Yf=function(a,b){if(a===b)return!1;if(!a&&b||!b&&a)return!0;if(a.length!==b.length)return!0;for(var c=0;c<a.length;c++)if(a.start(c)!==b.start(c)||a.end(c)!==b.end(c))return!0;return!1},Zf=function(a){if(a&&a.length&&a.end)return a.end(a.length-1)},$f=Ea.createTimeRange,_f=function(a){return(a.segments||[]).reduce(function(a,b,c){return b.parts?b.parts.forEach(function(d,e){a.push({duration:d.duration,segmentIndex:c,partIndex:e,part:d,segment:b})}):a.push({duration:b.duration,segmentIndex:c,partIndex:null,segment:b,part:null}),a},[])},ag=function(a){var b=a.segments&&a.segments.length&&a.segments[a.segments.length-1];return b&&b.parts||[]},bg=function(a){var b=a.preloadSegment;if(b){var c=b.parts,d=b.preloadHints,e=(d||[]).reduce(function(a,b){return a+("PART"===b.type?1:0)},0);return e+=c&&c.length?c.length:0}},cg=function(a,b){if(b.endList)return 0;if(a&&a.suggestedPresentationDelay)return a.suggestedPresentationDelay;var c=ag(b).length>0;return c&&b.serverControl&&b.serverControl.partHoldBack?b.serverControl.partHoldBack:c&&b.partTargetDuration?3*b.partTargetDuration:b.serverControl&&b.serverControl.holdBack?b.serverControl.holdBack:b.targetDuration?3*b.targetDuration:0},dg=function(a,b){var c=0,d=b-a.mediaSequence,e=a.segments[d];if(e){if(void 0!==e.start)return{result:e.start,precise:!0};if(void 0!==e.end)return{result:e.end-e.duration,precise:!0}}for(;d--;){if(e=a.segments[d],void 0!==e.end)return{result:c+e.end,precise:!0};if(c+=e.duration,void 0!==e.start)return{result:c+e.start,precise:!0}}return{result:c,precise:!1}},eg=function(a,b){for(var c,d=0,e=b-a.mediaSequence;e<a.segments.length;e++){if(c=a.segments[e],void 0!==c.start)return{result:c.start-d,precise:!0};if(d+=c.duration,void 0!==c.end)return{result:c.end-d,precise:!0}}return{result:-1,precise:!1}},fg=function(a,b,c){if(void 0===b&&(b=a.mediaSequence+a.segments.length),b<a.mediaSequence)return 0;var d=dg(a,b);if(d.precise)return d.result;var e=eg(a,b);return e.precise?e.result:d.result+c},gg=function(a,b,c){if(!a)return 0;if("number"!=typeof c&&(c=0),void 0===b){if(a.totalDuration)return a.totalDuration;if(!a.endList)return ab.default.Infinity}return fg(a,b,c)},hg=function(a){var b=a.defaultDuration,c=a.durationList,d=a.startIndex,e=a.endIndex,f=0;if(d>e){var g=[e,d];d=g[0],e=g[1]}if(d<0){for(var h=d;h<Math.min(0,e);h++)f+=b;d=0}for(var i=d;i<e;i++)f+=c[i].duration;return f},ig=function(a,b,c,d){if(!a||!a.segments)return null;if(a.endList)return gg(a);if(null===b)return null;b=b||0;var e=fg(a,a.mediaSequence+a.segments.length,b);return c&&(d="number"==typeof d?d:cg(null,a),e-=d),Math.max(0,e)},jg=function(a,b,c){var d=!0,e=b||0,f=ig(a,b,d,c);return null===f?$f():$f(e,f)},kg=function(a){for(var b=a.playlist,c=a.currentTime,d=a.startingSegmentIndex,e=a.startingPartIndex,f=a.startTime,g=c-f,h=_f(b),i=0,j=0;j<h.length;j++){var k=h[j];if(d===k.segmentIndex&&("number"!=typeof e||"number"!=typeof k.partIndex||e===k.partIndex)){i=j;break}}if(g<0){if(i>0)for(var l=i-1;l>=0;l--){var m=h[l];if((g+=m.duration)+Of>0)return{partIndex:m.partIndex,segmentIndex:m.segmentIndex,startTime:f-hg({defaultDuration:b.targetDuration,durationList:h,startIndex:i,endIndex:l})}}return{partIndex:h[0]&&h[0].partIndex||null,segmentIndex:h[0]&&h[0].segmentIndex||0,startTime:c}}if(i<0){for(var n=i;n<0;n++)if((g-=b.targetDuration)<0)return{partIndex:h[0]&&h[0].partIndex||null,segmentIndex:h[0]&&h[0].segmentIndex||0,startTime:c};i=0}for(var o=i;o<h.length;o++){var p=h[o];if((g-=p.duration)-Of<0)return{partIndex:p.partIndex,segmentIndex:p.segmentIndex,startTime:f+hg({defaultDuration:b.targetDuration,durationList:h,startIndex:i,endIndex:o})}}return{segmentIndex:h[h.length-1].segmentIndex,partIndex:h[h.length-1].partIndex,startTime:c}},lg=function(a){return a.excludeUntil&&a.excludeUntil>Date.now()},mg=function(a){return a.excludeUntil&&a.excludeUntil===1/0},ng=function(a){var b=lg(a);return!a.disabled&&!b},og=function(a){return a.disabled},pg=function(a){for(var b=0;b<a.segments.length;b++)if(a.segments[b].key)return!0;return!1},qg=function(a,b){return b.attributes&&b.attributes[a]},rg=function(a,b,c,d){return void 0===d&&(d=0),qg("BANDWIDTH",c)?(a*c.attributes.BANDWIDTH-8*d)/b:NaN},sg=function(a,b){if(1===a.playlists.length)return!0;var c=b.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===a.playlists.filter(function(a){return!!ng(a)&&(a.attributes.BANDWIDTH||0)<c}).length},tg=function(a,b){return!(!a&&!b||!a&&b||a&&!b)&&(a===b||(!(!a.id||!b.id||a.id!==b.id)||(!(!a.resolvedUri||!b.resolvedUri||a.resolvedUri!==b.resolvedUri)||!(!a.uri||!b.uri||a.uri!==b.uri))))},ug=function(a,b){var c=a&&a.mediaGroups&&a.mediaGroups.AUDIO||{},d=!1;for(var e in c){for(var f in c[e])if(d=b(c[e][f]))break;if(d)break}return!!d},vg=function(a){if(!a||!a.playlists||!a.playlists.length){return ug(a,function(a){return a.playlists&&a.playlists.length||a.uri})}for(var b=function(b){var c=a.playlists[b],d=c.attributes&&c.attributes.CODECS;return d&&d.split(",").every(function(a){return Ua.isAudioCodec(a)})?"continue":ug(a,function(a){return tg(c,a)})?"continue":{v:!1}},c=0;c<a.playlists.length;c++){var d=b(c);if("continue"!==d&&"object"==typeof d)return d.v}return!0},wg={liveEdgeDelay:cg,duration:gg,seekable:jg,getMediaInfoForTime:kg,isEnabled:ng,isDisabled:og,isBlacklisted:lg,isIncompatible:mg,playlistEnd:ig,isAes:pg,hasAttribute:qg,estimateSegmentRequestTime:rg,isLowestEnabledRendition:sg,isAudioOnly:vg,playlistMatch:tg},xg=Ea.log,yg=function(a,b){return a+"-"+b},zg=function(a){var b=a.onwarn,c=a.oninfo,d=a.manifestString,e=a.customTagParsers,f=void 0===e?[]:e,g=a.customTagMappers,h=void 0===g?[]:g,i=a.experimentalLLHLS,j=new Ta.Parser;b&&j.on("warn",b),c&&j.on("info",c),f.forEach(function(a){return j.addParser(a)}),h.forEach(function(a){return j.addTagMapper(a)}),j.push(d),j.end();var k=j.manifest;if(i||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(a){k.hasOwnProperty(a)&&delete k[a]}),k.segments&&k.segments.forEach(function(a){["parts","preloadHints"].forEach(function(b){a.hasOwnProperty(b)&&delete a[b]})})),!k.targetDuration){var l=10;k.segments&&k.segments.length&&(l=k.segments.reduce(function(a,b){return Math.max(a,b.duration)},0)),b&&b("manifest has no targetDuration defaulting to "+l),k.targetDuration=l}var m=ag(k);if(m.length&&!k.partTargetDuration){var n=m.reduce(function(a,b){return Math.max(a,b.duration)},0);b&&(b("manifest has no partTargetDuration defaulting to "+n),xg.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),k.partTargetDuration=n}return k},Ag=function(a,b){a.mediaGroups&&["AUDIO","SUBTITLES"].forEach(function(c){if(a.mediaGroups[c])for(var d in a.mediaGroups[c])for(var e in a.mediaGroups[c][d]){var f=a.mediaGroups[c][d][e];b(f,c,d,e)}})},Bg=function(a){var b=a.playlist,c=a.uri,d=a.id;b.id=d,b.playlistErrors_=0,c&&(b.uri=c),b.attributes=b.attributes||{}},Cg=function(a){for(var b=a.playlists.length;b--;){var c=a.playlists[b];Bg({playlist:c,id:yg(b,c.uri)}),c.resolvedUri=Lf(a.uri,c.uri),a.playlists[c.id]=c,a.playlists[c.uri]=c,c.attributes.BANDWIDTH||xg.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},Dg=function(a){Ag(a,function(b){b.uri&&(b.resolvedUri=Lf(a.uri,b.uri))})},Eg=function(a,b){var c=yg(0,b),d={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:ab.default.location.href,resolvedUri:ab.default.location.href,playlists:[{uri:b,id:c,resolvedUri:b,attributes:{}}]};return d.playlists[c]=d.playlists[0],d.playlists[b]=d.playlists[0],d},Fg=function(a,b){a.uri=b;for(var c=0;c<a.playlists.length;c++)if(!a.playlists[c].uri){var d="placeholder-uri-"+c;a.playlists[c].uri=d}Ag(a,function(b,c,d,e){var f="placeholder-uri-"+c+"-"+d+"-"+e;b.playlists&&b.playlists.length||(b.playlists=[cb.default({},b)]),b.playlists.forEach(function(b,c){var d=yg(c,f);b.uri?b.resolvedUri=b.resolvedUri||Lf(a.uri,b.uri):(b.uri=0===c?f:d,b.resolvedUri=b.uri),b.id=b.id||d,b.attributes=b.attributes||{},a.playlists[b.id]=b,a.playlists[b.uri]=b})}),Cg(a),Dg(a)},Gg=Ea.mergeOptions,Hg=Ea.EventTarget,Ig=function(a,b){if(b.endList)return a;var c=[];if(b.serverControl&&b.serverControl.canBlockReload){var d=b.preloadSegment,e=b.mediaSequence+b.segments.length;if(d){var f=d.parts||[],g=bg(b)-1;g>-1&&g!==f.length-1&&c.push("_HLS_part="+g),(g>-1||f.length)&&e--}c.unshift("_HLS_msn="+e)}return b.serverControl&&b.serverControl.canSkipUntil&&c.unshift("_HLS_skip="+(b.serverControl.canSkipDateranges?"v2":"YES")),c.forEach(function(b,c){a+=(0===c?"?":"&")+b}),a},Jg=function(a,b){if(!a)return b;var c=Gg(a,b);if(a.preloadHints&&!b.preloadHints&&delete c.preloadHints,a.parts&&!b.parts)delete c.parts;else if(a.parts&&b.parts)for(var d=0;d<b.parts.length;d++)a.parts&&a.parts[d]&&(c.parts[d]=Gg(a.parts[d],b.parts[d]));return!a.skipped&&b.skipped&&(c.skipped=!1),a.preload&&!b.preload&&(c.preload=!1),c},Kg=function(a,b,c){var d=a.slice(),e=b.slice();c=c||0;for(var f,g=[],h=0;h<e.length;h++){var i=d[h+c],j=e[h];i?(f=i.map||f,g.push(Jg(i,j))):(f&&!j.map&&(j.map=f),g.push(j))}return g},Lg=function(a,b){!a.resolvedUri&&a.uri&&(a.resolvedUri=Lf(b,a.uri)),a.key&&!a.key.resolvedUri&&(a.key.resolvedUri=Lf(b,a.key.uri)),a.map&&!a.map.resolvedUri&&(a.map.resolvedUri=Lf(b,a.map.uri)),a.map&&a.map.key&&!a.map.key.resolvedUri&&(a.map.key.resolvedUri=Lf(b,a.map.key.uri)),a.parts&&a.parts.length&&a.parts.forEach(function(a){a.resolvedUri||(a.resolvedUri=Lf(b,a.uri))}),a.preloadHints&&a.preloadHints.length&&a.preloadHints.forEach(function(a){a.resolvedUri||(a.resolvedUri=Lf(b,a.uri))})},Mg=function(a){var b=a.segments||[],c=a.preloadSegment;if(c&&c.parts&&c.parts.length){if(c.preloadHints)for(var d=0;d<c.preloadHints.length;d++)if("MAP"===c.preloadHints[d].type)return b;c.duration=a.targetDuration,c.preload=!0,b.push(c)}return b},Ng=function(a,b){return a===b||a.segments&&b.segments&&a.segments.length===b.segments.length&&a.endList===b.endList&&a.mediaSequence===b.mediaSequence},Og=function(a,b,c){void 0===c&&(c=Ng);var d=Gg(a,{}),e=d.playlists[b.id];if(!e)return null;if(c(e,b))return null;b.segments=Mg(b);var f=Gg(e,b);if(f.preloadSegment&&!b.preloadSegment&&delete f.preloadSegment,e.segments){if(b.skip){b.segments=b.segments||[];for(var g=0;g<b.skip.skippedSegments;g++)b.segments.unshift({skipped:!0})}f.segments=Kg(e.segments,b.segments,b.mediaSequence-e.mediaSequence)}f.segments.forEach(function(a){Lg(a,f.resolvedUri)});for(var h=0;h<d.playlists.length;h++)d.playlists[h].id===b.id&&(d.playlists[h]=f);return d.playlists[b.id]=f,d.playlists[b.uri]=f,Ag(a,function(a,c,d,e){if(a.playlists)for(var f=0;f<a.playlists.length;f++)b.id===a.playlists[f].id&&(a.playlists[f]=b)}),d},Pg=function(a,b){var c=a.segments[a.segments.length-1],d=c&&c.parts&&c.parts[c.parts.length-1],e=d&&d.duration||c&&c.duration;return b&&e?1e3*e:500*(a.partTargetDuration||a.targetDuration||10)},Qg=function(a){function b(b,c,d){var e;if(void 0===d&&(d={}),e=a.call(this)||this,!b)throw new Error("A non-empty playlist URL or object is required");e.logger_=Nf("PlaylistLoader");var f=d,g=f.withCredentials,h=void 0!==g&&g,i=f.handleManifestRedirects,j=void 0!==i&&i;e.src=b,e.vhs_=c,e.withCredentials=h,e.handleManifestRedirects=j;var k=c.options_;return e.customTagParsers=k&&k.customTagParsers||[],e.customTagMappers=k&&k.customTagMappers||[],e.experimentalLLHLS=k&&k.experimentalLLHLS||!1,e.state="HAVE_NOTHING",e.handleMediaupdatetimeout_=e.handleMediaupdatetimeout_.bind(db.default(e)),e.on("mediaupdatetimeout",e.handleMediaupdatetimeout_),e}eb.default(b,a);var c=b.prototype;return c.handleMediaupdatetimeout_=function(){var a=this;if("HAVE_METADATA"===this.state){var b=this.media(),c=Lf(this.master.uri,b.uri);this.experimentalLLHLS&&(c=Ig(c,b)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:c,withCredentials:this.withCredentials},function(b,c){if(a.request)return b?a.playlistRequestError(a.request,a.media(),"HAVE_METADATA"):void a.haveMetadata({playlistString:a.request.responseText,url:a.media().uri,id:a.media().id})})}},c.playlistRequestError=function(a,b,c){var d=b.uri,e=b.id;this.request=null,c&&(this.state=c),this.error={playlist:this.master.playlists[e],status:a.status,message:"HLS playlist request error at URL: "+d+".",responseText:a.responseText,code:a.status>=500?4:2},this.trigger("error")},c.parseManifest_=function(a){var b=this,c=a.url,d=a.manifestString;return zg({onwarn:function(a){var d=a.message;return b.logger_("m3u8-parser warn for "+c+": "+d)},oninfo:function(a){var d=a.message;return b.logger_("m3u8-parser info for "+c+": "+d)},manifestString:d,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},c.haveMetadata=function(a){var b=this,c=a.playlistString,d=a.playlistObject,e=a.url,f=a.id;this.request=null,this.state="HAVE_METADATA";var g=d||this.parseManifest_({url:e,manifestString:c});g.lastRequest=Date.now(),Bg({playlist:g,uri:e,id:f});var h=Og(this.master,g);this.targetDuration=g.partTargetDuration||g.targetDuration,h?(this.master=h,this.media_=this.master.playlists[f]):this.trigger("playlistunchanged"),this.media().endList||(ab.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=ab.default.setTimeout(function(){b.trigger("mediaupdatetimeout")},Pg(this.media(),!!h))),this.trigger("loadedplaylist")},c.dispose=function(){this.trigger("dispose"),this.stopRequest(),ab.default.clearTimeout(this.mediaUpdateTimeout),ab.default.clearTimeout(this.finalRenditionTimeout),this.off()},c.stopRequest=function(){if(this.request){var a=this.request;this.request=null,a.onreadystatechange=null,a.abort()}},c.media=function(a,b){var c=this;if(!a)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof a){if(!this.master.playlists[a])throw new Error("Unknown playlist URI: "+a);a=this.master.playlists[a]}if(ab.default.clearTimeout(this.finalRenditionTimeout),b){var d=(a.partTargetDuration||a.targetDuration)/2*1e3||5e3;return void(this.finalRenditionTimeout=ab.default.setTimeout(this.media.bind(this,a,!1),d))}var e=this.state,f=!this.media_||a.id!==this.media_.id,g=this.master.playlists[a.id];if(g&&g.endList||a.endList&&a.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=a,void(f&&(this.trigger("mediachanging"),"HAVE_MASTER"===e?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(f){if(this.state="SWITCHING_MEDIA",this.request){if(a.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.vhs_.xhr({uri:a.resolvedUri,withCredentials:this.withCredentials},function(b,d){if(c.request){if(a.lastRequest=Date.now(),a.resolvedUri=Mf(c.handleManifestRedirects,a.resolvedUri,d),b)return c.playlistRequestError(c.request,a,e);c.haveMetadata({playlistString:d.responseText,url:a.uri,id:a.id}),"HAVE_MASTER"===e?c.trigger("loadedmetadata"):c.trigger("mediachange")}})}},c.pause=function(){this.stopRequest(),ab.default.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},c.load=function(a){var b=this;ab.default.clearTimeout(this.mediaUpdateTimeout);var c=this.media();if(a){var d=c?(c.partTargetDuration||c.targetDuration)/2*1e3:5e3;return void(this.mediaUpdateTimeout=ab.default.setTimeout(function(){return b.load()},d))}if(!this.started)return void this.start();c&&!c.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},c.start=function(){var a=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=ab.default.location.href),this.src.resolvedUri=this.src.uri,void setTimeout(function(){a.setupInitialPlaylist(a.src)},0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(b,c){if(a.request){if(a.request=null,b)return a.error={status:c.status,message:"HLS playlist request error at URL: "+a.src+".",responseText:c.responseText,code:2},"HAVE_NOTHING"===a.state&&(a.started=!1),a.trigger("error");a.src=Mf(a.handleManifestRedirects,a.src,c);var d=a.parseManifest_({manifestString:c.responseText,url:a.src});a.setupInitialPlaylist(d)}})},c.srcUri=function(){return"string"==typeof this.src?this.src:this.src.uri},c.setupInitialPlaylist=function(a){if(this.state="HAVE_MASTER",a.playlists)return this.master=a,Fg(this.master,this.srcUri()),a.playlists.forEach(function(a){a.segments=Mg(a),a.segments.forEach(function(b){Lg(b,a.resolvedUri)})}),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var b=this.srcUri()||ab.default.location.href;this.master=Eg(a,b),this.haveMetadata({playlistObject:a,url:b,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},b}(Hg),Rg=Ea.xhr,Sg=Ea.mergeOptions,Tg=function(a,b,c,d){var e="arraybuffer"===a.responseType?a.response:a.responseText;!b&&e&&(a.responseTime=Date.now(),a.roundTripTime=a.responseTime-a.requestTime,a.bytesReceived=e.byteLength||e.length,a.bandwidth||(a.bandwidth=Math.floor(a.bytesReceived/a.roundTripTime*8*1e3))),c.headers&&(a.responseHeaders=c.headers),b&&"ETIMEDOUT"===b.code&&(a.timedout=!0),b||a.aborted||200===c.statusCode||206===c.statusCode||0===c.statusCode||(b=new Error("XHR Failed with a response of: "+(a&&(e||a.responseText)))),d(b,a)},Ug=function(){var a=function a(b,c){b=Sg({timeout:45e3},b);var d=a.beforeRequest||Ea.Vhs.xhr.beforeRequest;if(d&&"function"==typeof d){var e=d(b);e&&(b=e)}var f=!0===Ea.Vhs.xhr.original?Rg:Ea.Vhs.xhr,g=f(b,function(a,b){return Tg(g,a,b,c)}),h=g.abort;return g.abort=function(){return g.aborted=!0,h.apply(g,arguments)},g.uri=b.uri,g.requestTime=Date.now(),g};return a.original=!0,a},Vg=function(a){var b=a.offset+a.length-1;return"bytes="+a.offset+"-"+b},Wg=function(a){var b={};return a.byterange&&(b.Range=Vg(a.byterange)),b},Xg=function(a,b){return a.start(b)+"-"+a.end(b)},Yg=function(a,b){var c=a.toString(16);return"00".substring(0,2-c.length)+c+(b%2?" ":"")},Zg=function(a){return a>=32&&a<126?String.fromCharCode(a):"."},$g=function(a){var b={};return Object.keys(a).forEach(function(c){var d=a[c];ArrayBuffer.isView(d)?b[c]={bytes:d.buffer,byteOffset:d.byteOffset,byteLength:d.byteLength}:b[c]=d}),b},_g=function(a){var b=a.byterange||{length:1/0,offset:0};return[b.length,b.offset,a.resolvedUri].join(",")},ah=function(a){return a.resolvedUri},bh=function(a){for(var b,c,d=Array.prototype.slice.call(a),e=16,f="",g=0;g<d.length/e;g++)b=d.slice(g*e,g*e+e).map(Yg).join(""),c=d.slice(g*e,g*e+e).map(Zg).join(""),f+=b+" "+c+"\n";return f},ch=function(a){var b=a.bytes;return bh(b)},dh=function(a){var b,c="";for(b=0;b<a.length;b++)c+=Xg(a,b)+" ";return c},eh=Object.freeze({__proto__:null,createTransferableMessage:$g,initSegmentId:_g,segmentKeyId:ah,hexDump:bh,tagDump:ch,textRanges:dh}),fh=.25,gh=function(a,b){if(!b.dateTimeObject)return null;var c=b.videoTimingInfo.transmuxerPrependedSeconds,d=b.videoTimingInfo.transmuxedPresentationStart,e=d+c,f=a-e;return new Date(b.dateTimeObject.getTime()+1e3*f)},hh=function(a){return a.transmuxedPresentationEnd-a.transmuxedPresentationStart-a.transmuxerPrependedSeconds},ih=function(a,b){var c;try{c=new Date(a)}catch(a){return null}if(!b||!b.segments||0===b.segments.length)return null;var d=b.segments[0];if(c<d.dateTimeObject)return null;for(var e=0;e<b.segments.length-1;e++){d=b.segments[e];if(c<b.segments[e+1].dateTimeObject)break}var f=b.segments[b.segments.length-1],g=f.dateTimeObject,h=f.videoTimingInfo?hh(f.videoTimingInfo):f.duration+f.duration*fh;return c>new Date(g.getTime()+1e3*h)?null:(c>g&&(d=f),{segment:d,estimatedStart:d.videoTimingInfo?d.videoTimingInfo.transmuxedPresentationStart:wg.duration(b,b.mediaSequence+b.segments.indexOf(d)),type:d.videoTimingInfo?"accurate":"estimate"})},jh=function(a,b){if(!b||!b.segments||0===b.segments.length)return null;for(var c,d=0,e=0;e<b.segments.length&&(c=b.segments[e],d=c.videoTimingInfo?c.videoTimingInfo.transmuxedPresentationEnd:d+c.duration,!(a<=d));e++);var f=b.segments[b.segments.length-1];if(f.videoTimingInfo&&f.videoTimingInfo.transmuxedPresentationEnd<a)return null;if(a>d){if(a>d+f.duration*fh)return null;c=f}return{segment:c,estimatedStart:c.videoTimingInfo?c.videoTimingInfo.transmuxedPresentationStart:d-c.duration,type:c.videoTimingInfo?"accurate":"estimate"}},kh=function(a,b){var c,d;try{c=new Date(a),d=new Date(b)}catch(a){}var e=c.getTime();return(d.getTime()-e)/1e3},lh=function(a){if(!a.segments||0===a.segments.length)return!1;for(var b=0;b<a.segments.length;b++){if(!a.segments[b].dateTimeObject)return!1}return!0},mh=function(a){var b=a.playlist,c=a.time,d=void 0===c?void 0:c,e=a.callback;if(!e)throw new Error("getProgramTime: callback must be provided");if(!b||void 0===d)return e({message:"getProgramTime: playlist and time must be provided"});var f=jh(d,b);if(!f)return e({message:"valid programTime was not found"});if("estimate"===f.type)return e({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:f.estimatedStart});var g={mediaSeconds:d},h=gh(d,f.segment);return h&&(g.programDateTime=h.toISOString()),e(null,g)},nh=function a(b){var c=b.programTime,d=b.playlist,e=b.retryCount,f=void 0===e?2:e,g=b.seekTo,h=b.pauseAfterSeek,i=void 0===h||h,j=b.tech,k=b.callback;if(!k)throw new Error("seekToProgramTime: callback must be provided");if(void 0===c||!d||!g)return k({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!d.endList&&!j.hasStarted_)return k({message:"player must be playing a live stream to start buffering"});if(!lh(d))return k({message:"programDateTime tags must be provided in the manifest "+d.resolvedUri});var l=ih(c,d);if(!l)return k({message:c+" was not found in the stream"});var m=l.segment,n=kh(m.dateTimeObject,c);if("estimate"===l.type)return 0===f?k({message:c+" is not buffered yet. Try again"}):(g(l.estimatedStart+n),void j.one("seeked",function(){a({programTime:c,playlist:d,retryCount:f-1,seekTo:g,pauseAfterSeek:i,tech:j,callback:k})}));var o=m.start+n,p=function(){return k(null,j.currentTime())};j.one("seeked",p),i&&j.pause(),g(o)},oh=function(a,b){if(4===a.readyState)return b()},ph=function(a,b,c){var d,e=[],f=!1,g=function(a,b,d,e){return b.abort(),f=!0,c(a,b,d,e)},h=function(a,b){if(!f){if(a)return g(a,b,"",e);var c=b.responseText.substring(e&&e.byteLength||0,b.responseText.length);if(e=$a.concatTypedArrays(e,$a.stringToBytes(c,!0)),d=d||Ya.getId3Offset(e),e.length<10||d&&e.length<d+2)return oh(b,function(){return g(a,b,"",e)});var h=Za.detectContainerForBytes(e);return"ts"===h&&e.length<188?oh(b,function(){return g(a,b,"",e)}):!h&&e.length<376?oh(b,function(){return g(a,b,"",e)}):g(null,b,h,e)}},i={uri:a,beforeSend:function(a){a.overrideMimeType("text/plain; charset=x-user-defined"),a.addEventListener("progress",function(b){return b.total,b.loaded,Tg(a,null,{statusCode:a.status},h)})}},j=b(i,function(a,b){return Tg(j,a,b,h)});return j},qh=Ea.EventTarget,rh=Ea.mergeOptions,sh=function(a,b){if(!Ng(a,b))return!1;if(a.sidx&&b.sidx&&(a.sidx.offset!==b.sidx.offset||a.sidx.length!==b.sidx.length))return!1;if(!a.sidx&&b.sidx||a.sidx&&!b.sidx)return!1;if(a.segments&&!b.segments||!a.segments&&b.segments)return!1;if(!a.segments&&!b.segments)return!0;for(var c=0;c<a.segments.length;c++){var d=a.segments[c],e=b.segments[c];if(d.uri!==e.uri)return!1;if(d.byterange||e.byterange){var f=d.byterange,g=e.byterange;if(f&&!g||!f&&g)return!1;if(f.offset!==g.offset||f.length!==g.length)return!1}}return!0},th=function(a){var b=a.masterXml,c=a.srcUrl,d=a.clientOffset,e=a.sidxMapping,f=Wa.parse(b,{manifestUri:c,clientOffset:d,sidxMapping:e});return Fg(f,c),f},uh=function(a,b,c){for(var d=!0,e=rh(a,{duration:b.duration,minimumUpdatePeriod:b.minimumUpdatePeriod}),f=0;f<b.playlists.length;f++){var g=b.playlists[f];if(g.sidx){var h=Wa.generateSidxKey(g.sidx);c&&c[h]&&c[h].sidx&&Wa.addSidxSegmentsToPlaylist(g,c[h].sidx,g.sidx.resolvedUri)}var i=Og(e,g,sh);i&&(e=i,d=!1)}return Ag(b,function(a,b,c,f){if(a.playlists&&a.playlists.length){var g=a.playlists[0].id,h=Og(e,a.playlists[0],sh);h&&(e=h,e.mediaGroups[b][c][f].playlists[0]=e.playlists[g],d=!1)}}),b.minimumUpdatePeriod!==a.minimumUpdatePeriod&&(d=!1),d?null:e},vh=function(a,b){return(Boolean(!a.map&&!b.map)||Boolean(a.map&&b.map&&a.map.byterange.offset===b.map.byterange.offset&&a.map.byterange.length===b.map.byterange.length))&&a.uri===b.uri&&a.byterange.offset===b.byterange.offset&&a.byterange.length===b.byterange.length},wh=function(a,b){var c={};for(var d in a){var e=a[d],f=e.sidx;if(f){var g=Wa.generateSidxKey(f);if(!b[g])break;var h=b[g].sidxInfo;vh(h,f)&&(c[g]=b[g])}}return c},xh=function(a,b){var c=wh(a.playlists,b),d=c;return Ag(a,function(a,c,e,f){if(a.playlists&&a.playlists.length){var g=a.playlists;d=rh(d,wh(g,b))}}),d},yh=function(a){function b(b,c,d,e){var f;void 0===d&&(d={}),f=a.call(this)||this,f.masterPlaylistLoader_=e||db.default(f),e||(f.isMaster_=!0);var g=d,h=g.withCredentials,i=void 0!==h&&h,j=g.handleManifestRedirects,k=void 0!==j&&j;if(f.vhs_=c,f.withCredentials=i,f.handleManifestRedirects=k,!b)throw new Error("A non-empty playlist URL or object is required");return f.on("minimumUpdatePeriod",function(){f.refreshXml_()}),f.on("mediaupdatetimeout",function(){f.refreshMedia_(f.media().id)}),f.state="HAVE_NOTHING",f.loadedPlaylists_={},f.logger_=Nf("DashPlaylistLoader"),f.isMaster_?(f.masterPlaylistLoader_.srcUrl=b,f.masterPlaylistLoader_.sidxMapping_={}):f.childPlaylist_=b,f}eb.default(b,a);var c=b.prototype;return c.requestErrored_=function(a,b,c){return!this.request||(this.request=null,a?(this.error="object"!=typeof a||a instanceof Error?{status:b.status,message:"DASH request error at URL: "+b.uri,response:b.response,code:2}:a,c&&(this.state=c),this.trigger("error"),!0):void 0)},c.addSidxSegments_=function(a,b,c){var d=this,e=a.sidx&&Wa.generateSidxKey(a.sidx);if(!a.sidx||!e||this.masterPlaylistLoader_.sidxMapping_[e])return void(this.mediaRequest_=ab.default.setTimeout(function(){return c(!1)},0));var f=Mf(this.handleManifestRedirects,a.sidx.resolvedUri),g=function(f,g){if(!d.requestErrored_(f,g,b)){var h,i=d.masterPlaylistLoader_.sidxMapping_;try{h=mb.default($a.toUint8(g.response).subarray(8))}catch(a){return void d.requestErrored_(a,g,b)}return i[e]={sidxInfo:a.sidx,sidx:h},Wa.addSidxSegmentsToPlaylist(a,h,a.sidx.resolvedUri),c(!0)}};this.request=ph(f,this.vhs_.xhr,function(b,c,e,h){if(b)return g(b,c);if(!e||"mp4"!==e)return g({status:c.status,message:"Unsupported "+(e||"unknown")+" container type for sidx segment at URL: "+f,response:"",playlist:a,internal:!0,blacklistDuration:1/0,code:2},c);var i=a.sidx.byterange,j=i.offset,k=i.length;if(h.length>=k+j)return g(b,{response:h.subarray(j,j+k),status:c.status,uri:c.uri});d.request=d.vhs_.xhr({uri:f,responseType:"arraybuffer",headers:Wg({byterange:a.sidx.byterange})},g)})},c.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},ab.default.clearTimeout(this.minimumUpdatePeriodTimeout_),ab.default.clearTimeout(this.mediaRequest_),ab.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},c.hasPendingRequest=function(){return this.request||this.mediaRequest_},c.stopRequest=function(){if(this.request){var a=this.request;this.request=null,a.onreadystatechange=null,a.abort()}},c.media=function(a){var b=this;if(!a)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var c=this.state;if("string"==typeof a){if(!this.masterPlaylistLoader_.master.playlists[a])throw new Error("Unknown playlist URI: "+a);a=this.masterPlaylistLoader_.master.playlists[a]}var d=!this.media_||a.id!==this.media_.id;if(d&&this.loadedPlaylists_[a.id]&&this.loadedPlaylists_[a.id].endList)return this.state="HAVE_METADATA",this.media_=a,void(d&&(this.trigger("mediachanging"),this.trigger("mediachange")));d&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(a,c,function(d){b.haveMetadata({startingState:c,playlist:a})}))},c.haveMetadata=function(a){var b=a.startingState,c=a.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[c.id]=c,this.mediaRequest_=null,this.refreshMedia_(c.id),"HAVE_MASTER"===b?this.trigger("loadedmetadata"):this.trigger("mediachange")},c.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),ab.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(ab.default.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)},c.load=function(a){var b=this;ab.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var c=this.media();if(a){var d=c?c.targetDuration/2*1e3:5e3;return void(this.mediaUpdateTimeout=ab.default.setTimeout(function(){return b.load()},d))}if(!this.started)return void this.start();c&&!c.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},c.start=function(){var a=this;if(this.started=!0,!this.isMaster_)return void(this.mediaRequest_=ab.default.setTimeout(function(){return a.haveMaster_()},0));this.requestMaster_(function(b,c){a.haveMaster_(),a.hasPendingRequest()||a.media_||a.media(a.masterPlaylistLoader_.master.playlists[0])})},c.requestMaster_=function(a){var b=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(c,d){if(b.requestErrored_(c,d))return void("HAVE_NOTHING"===b.state&&(b.started=!1));var e=d.responseText!==b.masterPlaylistLoader_.masterXml_;return b.masterPlaylistLoader_.masterXml_=d.responseText,d.responseHeaders&&d.responseHeaders.date?b.masterLoaded_=Date.parse(d.responseHeaders.date):b.masterLoaded_=Date.now(),b.masterPlaylistLoader_.srcUrl=Mf(b.handleManifestRedirects,b.masterPlaylistLoader_.srcUrl,d),e?(b.handleMaster_(),void b.syncClientServerClock_(function(){return a(d,e)})):a(d,e)})},c.syncClientServerClock_=function(a){var b=this,c=Wa.parseUTCTiming(this.masterPlaylistLoader_.masterXml_);return null===c?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),a()):"DIRECT"===c.method?(this.masterPlaylistLoader_.clientOffset_=c.value-Date.now(),a()):void(this.request=this.vhs_.xhr({uri:Lf(this.masterPlaylistLoader_.srcUrl,c.value),method:c.method,withCredentials:this.withCredentials},function(d,e){if(b.request){if(d)return b.masterPlaylistLoader_.clientOffset_=b.masterLoaded_-Date.now(),a();var f;f="HEAD"===c.method?e.responseHeaders&&e.responseHeaders.date?Date.parse(e.responseHeaders.date):b.masterLoaded_:Date.parse(e.responseText),b.masterPlaylistLoader_.clientOffset_=f-Date.now(),a()}}))},c.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},c.handleMaster_=function(){this.mediaRequest_=null;var a=th({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_}),b=this.masterPlaylistLoader_.master;b&&(a=uh(b,a,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=a||b;var c=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return c&&c!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=c),(!b||a&&a.minimumUpdatePeriod!==b.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(a)},c.updateMinimumUpdatePeriodTimeout_=function(){var a=this.masterPlaylistLoader_;a.createMupOnMedia_&&(a.off("loadedmetadata",a.createMupOnMedia_),a.createMupOnMedia_=null),a.minimumUpdatePeriodTimeout_&&(ab.default.clearTimeout(a.minimumUpdatePeriodTimeout_),a.minimumUpdatePeriodTimeout_=null);var b=a.master&&a.master.minimumUpdatePeriod;if(0===b&&(a.media()?b=1e3*a.media().targetDuration:(a.createMupOnMedia_=a.updateMinimumUpdatePeriodTimeout_,a.one("loadedmetadata",a.createMupOnMedia_))),"number"!=typeof b||b<=0)return void(b<0&&this.logger_("found invalid minimumUpdatePeriod of "+b+", not setting a timeout"));this.createMUPTimeout_(b)},c.createMUPTimeout_=function(a){var b=this.masterPlaylistLoader_;b.minimumUpdatePeriodTimeout_=ab.default.setTimeout(function(){b.minimumUpdatePeriodTimeout_=null,b.trigger("minimumUpdatePeriod"),b.createMUPTimeout_(a)},a)},c.refreshXml_=function(){var a=this;this.requestMaster_(function(b,c){c&&(a.media_&&(a.media_=a.masterPlaylistLoader_.master.playlists[a.media_.id]),a.masterPlaylistLoader_.sidxMapping_=xh(a.masterPlaylistLoader_.master,a.masterPlaylistLoader_.sidxMapping_),a.addSidxSegments_(a.media(),a.state,function(b){a.refreshMedia_(a.media().id)}))})},c.refreshMedia_=function(a){var b=this;if(!a)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var c=this.masterPlaylistLoader_.master.playlists,d=!this.media_||this.media_!==c[a];if(d?this.media_=c[a]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){(function a(){b.media().endList||(b.mediaUpdateTimeout=ab.default.setTimeout(function(){b.trigger("mediaupdatetimeout"),a()},Pg(b.media(),Boolean(d))))})()}this.trigger("loadedplaylist")},b}(qh),zh={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},Ah=function(a){for(var b=new Uint8Array(new ArrayBuffer(a.length)),c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b.buffer},Bh=function(a){return a.on=a.addEventListener,a.off=a.removeEventListener,a},Ch=function(a){try{return URL.createObjectURL(new Blob([a],{type:"application/javascript"}))}catch(c){var b=new BlobBuilder;return b.append(a),URL.createObjectURL(b.getBlob())}},Dh=function(a){return function(){var b=Ch(a),c=Bh(new Worker(b));c.objURL=b;var d=c.terminate;return c.on=c.addEventListener,c.off=c.removeEventListener,c.terminate=function(){return URL.revokeObjectURL(b),d.call(this)},c}},Eh=function(a){return"var browserWorkerPolyFill = "+Bh.toString()+";\nbrowserWorkerPolyFill(self);\n"+a},Fh=function(a){return a.toString().replace(/^function.+?{/,"").slice(0,-1)},Gh=Eh(Fh(function(){var a=function(){this.init=function(){var a={};this.on=function(b,c){a[b]||(a[b]=[]),a[b]=a[b].concat(c)},this.off=function(b,c){var d;return!!a[b]&&(d=a[b].indexOf(c),a[b]=a[b].slice(),a[b].splice(d,1),d>-1)},this.trigger=function(b){var c,d,e,f;if(c=a[b])if(2===arguments.length)for(e=c.length,d=0;d<e;++d)c[d].call(this,arguments[1]);else{for(f=[],d=arguments.length,d=1;d<arguments.length;++d)f.push(arguments[d]);for(e=c.length,d=0;d<e;++d)c[d].apply(this,f)}},this.dispose=function(){a={}}}};a.prototype.pipe=function(a){return this.on("data",function(b){a.push(b)}),this.on("done",function(b){a.flush(b)}),this.on("partialdone",function(b){a.partialFlush(b)}),this.on("endedtimeline",function(b){a.endTimeline(b)}),this.on("reset",function(b){a.reset(b)}),a},a.prototype.push=function(a){this.trigger("data",a)},a.prototype.flush=function(a){this.trigger("done",a)},a.prototype.partialFlush=function(a){this.trigger("partialdone",a)},a.prototype.endTimeline=function(a){this.trigger("endedtimeline",a)},a.prototype.reset=function(a){this.trigger("reset",a)};var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L=a,M=Math.pow(2,32)-1;!function(){var a;if(x={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(a in x)x.hasOwnProperty(a)&&(x[a]=[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3)]);y=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),A=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),z=new Uint8Array([0,0,0,1]),B=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),C=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),D={video:B,audio:C},G=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),F=new Uint8Array([0,0,0,0,0,0,0,0]),H=new Uint8Array([0,0,0,0,0,0,0,0]),I=H,J=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),K=H,E=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),b=function(a){var b,c,d,e=[],f=0;for(b=1;b<arguments.length;b++)e.push(arguments[b]);for(b=e.length;b--;)f+=e[b].byteLength;for(c=new Uint8Array(f+8),d=new DataView(c.buffer,c.byteOffset,c.byteLength),d.setUint32(0,c.byteLength),c.set(a,4),b=0,f=8;b<e.length;b++)c.set(e[b],f),f+=e[b].byteLength;return c},c=function(){return b(x.dinf,b(x.dref,G))},d=function(a){return b(x.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,a.audioobjecttype<<3|a.samplingfrequencyindex>>>1,a.samplingfrequencyindex<<7|a.channelcount<<3,6,1,2]))},e=function(){return b(x.ftyp,y,z,y,A)},q=function(a){return b(x.hdlr,D[a])},f=function(a){return b(x.mdat,a)},p=function(a){var c=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,a.duration>>>24&255,a.duration>>>16&255,a.duration>>>8&255,255&a.duration,85,196,0,0]);return a.samplerate&&(c[12]=a.samplerate>>>24&255,c[13]=a.samplerate>>>16&255,c[14]=a.samplerate>>>8&255,c[15]=255&a.samplerate),b(x.mdhd,c)},o=function(a){return b(x.mdia,p(a),q(a.type),h(a))},g=function(a){return b(x.mfhd,new Uint8Array([0,0,0,0,(4278190080&a)>>24,(16711680&a)>>16,(65280&a)>>8,255&a]))},h=function(a){return b(x.minf,"video"===a.type?b(x.vmhd,E):b(x.smhd,F),c(),s(a))},i=function(a,c){for(var d=[],e=c.length;e--;)d[e]=u(c[e]);return b.apply(null,[x.moof,g(a)].concat(d))},j=function(a){for(var c=a.length,d=[];c--;)d[c]=m(a[c]);return b.apply(null,[x.moov,l(4294967295)].concat(d).concat(k(a)))},k=function(a){for(var c=a.length,d=[];c--;)d[c]=v(a[c]);return b.apply(null,[x.mvex].concat(d))},l=function(a){var c=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&a)>>24,(16711680&a)>>16,(65280&a)>>8,255&a,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return b(x.mvhd,c)},r=function(a){var c,d,e=a.samples||[],f=new Uint8Array(4+e.length);for(d=0;d<e.length;d++)c=e[d].flags,f[d+4]=c.dependsOn<<4|c.isDependedOn<<2|c.hasRedundancy;return b(x.sdtp,f)},s=function(a){return b(x.stbl,t(a),b(x.stts,K),b(x.stsc,I),b(x.stsz,J),b(x.stco,H))},function(){var a,c;t=function(d){return b(x.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===d.type?a(d):c(d))},a=function(a){var c,d,e=a.sps||[],f=a.pps||[],g=[],h=[];for(c=0;c<e.length;c++)g.push((65280&e[c].byteLength)>>>8),g.push(255&e[c].byteLength),g=g.concat(Array.prototype.slice.call(e[c]));for(c=0;c<f.length;c++)h.push((65280&f[c].byteLength)>>>8),h.push(255&f[c].byteLength),h=h.concat(Array.prototype.slice.call(f[c]));if(d=[x.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&a.width)>>8,255&a.width,(65280&a.height)>>8,255&a.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),b(x.avcC,new Uint8Array([1,a.profileIdc,a.profileCompatibility,a.levelIdc,255].concat([e.length],g,[f.length],h))),b(x.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],a.sarRatio){var i=a.sarRatio[0],j=a.sarRatio[1];d.push(b(x.pasp,new Uint8Array([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i,(4278190080&j)>>24,(16711680&j)>>16,(65280&j)>>8,255&j])))}return b.apply(null,d)},c=function(a){return b(x.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&a.channelcount)>>8,255&a.channelcount,(65280&a.samplesize)>>8,255&a.samplesize,0,0,0,0,(65280&a.samplerate)>>8,255&a.samplerate,0,0]),d(a))}}(),n=function(a){var c=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&a.id)>>24,(16711680&a.id)>>16,(65280&a.id)>>8,255&a.id,0,0,0,0,(4278190080&a.duration)>>24,(16711680&a.duration)>>16,(65280&a.duration)>>8,255&a.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&a.width)>>8,255&a.width,0,0,(65280&a.height)>>8,255&a.height,0,0]);return b(x.tkhd,c)},u=function(a){var c,d,e,f,g,h,i;return c=b(x.tfhd,new Uint8Array([0,0,0,58,(4278190080&a.id)>>24,(16711680&a.id)>>16,(65280&a.id)>>8,255&a.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),h=Math.floor(a.baseMediaDecodeTime/(M+1)),i=Math.floor(a.baseMediaDecodeTime%(M+1)),d=b(x.tfdt,new Uint8Array([1,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,255&h,i>>>24&255,i>>>16&255,i>>>8&255,255&i])),g=92,"audio"===a.type?(e=w(a,g),b(x.traf,c,d,e)):(f=r(a),e=w(a,f.length+g),b(x.traf,c,d,e,f))},m=function(a){return a.duration=a.duration||4294967295,b(x.trak,n(a),o(a))},v=function(a){var c=new Uint8Array([0,0,0,0,(4278190080&a.id)>>24,(16711680&a.id)>>16,(65280&a.id)>>8,255&a.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==a.type&&(c[c.length-1]=0),b(x.trex,c)},function(){var a,c,d;d=function(a,b){var c=0,d=0,e=0,f=0;return a.length&&(void 0!==a[0].duration&&(c=1),void 0!==a[0].size&&(d=2),void 0!==a[0].flags&&(e=4),void 0!==a[0].compositionTimeOffset&&(f=8)),[0,0,c|d|e|f,1,(4278190080&a.length)>>>24,(16711680&a.length)>>>16,(65280&a.length)>>>8,255&a.length,(4278190080&b)>>>24,(16711680&b)>>>16,(65280&b)>>>8,255&b]},c=function(a,c){var e,f,g,h,i,j;for(h=a.samples||[],c+=20+16*h.length,g=d(h,c),f=new Uint8Array(g.length+16*h.length),f.set(g),e=g.length,j=0;j<h.length;j++)i=h[j],f[e++]=(4278190080&i.duration)>>>24,f[e++]=(16711680&i.duration)>>>16,f[e++]=(65280&i.duration)>>>8,f[e++]=255&i.duration,f[e++]=(4278190080&i.size)>>>24,f[e++]=(16711680&i.size)>>>16,f[e++]=(65280&i.size)>>>8,f[e++]=255&i.size,f[e++]=i.flags.isLeading<<2|i.flags.dependsOn,f[e++]=i.flags.isDependedOn<<6|i.flags.hasRedundancy<<4|i.flags.paddingValue<<1|i.flags.isNonSyncSample,f[e++]=61440&i.flags.degradationPriority,f[e++]=15&i.flags.degradationPriority,f[e++]=(4278190080&i.compositionTimeOffset)>>>24,f[e++]=(16711680&i.compositionTimeOffset)>>>16,f[e++]=(65280&i.compositionTimeOffset)>>>8,f[e++]=255&i.compositionTimeOffset;return b(x.trun,f)},a=function(a,c){var e,f,g,h,i,j;for(h=a.samples||[],c+=20+8*h.length,g=d(h,c),e=new Uint8Array(g.length+8*h.length),e.set(g),f=g.length,j=0;j<h.length;j++)i=h[j],e[f++]=(4278190080&i.duration)>>>24,e[f++]=(16711680&i.duration)>>>16,e[f++]=(65280&i.duration)>>>8,e[f++]=255&i.duration,e[f++]=(4278190080&i.size)>>>24,e[f++]=(16711680&i.size)>>>16,e[f++]=(65280&i.size)>>>8,e[f++]=255&i.size;return b(x.trun,e)},w=function(b,d){return"audio"===b.type?a(b,d):c(b,d)}}();var N,O,P,Q,R,S,T,U,V={ftyp:e,mdat:f,moof:i,moov:j,initSegment:function(a){var b,c=e(),d=j(a);return b=new Uint8Array(c.byteLength+d.byteLength),b.set(c),b.set(d,c.byteLength),b}},W=function(a){var b,c,d=[],e=[];for(e.byteLength=0,e.nalCount=0,e.duration=0,d.byteLength=0,b=0;b<a.length;b++)c=a[b],"access_unit_delimiter_rbsp"===c.nalUnitType?(d.length&&(d.duration=c.dts-d.dts,e.byteLength+=d.byteLength,e.nalCount+=d.length,e.duration+=d.duration,e.push(d)),d=[c],d.byteLength=c.data.byteLength,d.pts=c.pts,d.dts=c.dts):("slice_layer_without_partitioning_rbsp_idr"===c.nalUnitType&&(d.keyFrame=!0),d.duration=c.dts-d.dts,d.byteLength+=c.data.byteLength,d.push(c));return e.length&&(!d.duration||d.duration<=0)&&(d.duration=e[e.length-1].duration),e.byteLength+=d.byteLength,e.nalCount+=d.length,e.duration+=d.duration,e.push(d),e},X=function(a){var b,c,d=[],e=[];for(d.byteLength=0,d.nalCount=0,d.duration=0,d.pts=a[0].pts,d.dts=a[0].dts,e.byteLength=0,e.nalCount=0,e.duration=0,e.pts=a[0].pts,e.dts=a[0].dts,b=0;b<a.length;b++)c=a[b],c.keyFrame?(d.length&&(e.push(d),e.byteLength+=d.byteLength,e.nalCount+=d.nalCount,e.duration+=d.duration),d=[c],d.nalCount=c.length,d.byteLength=c.byteLength,d.pts=c.pts,d.dts=c.dts,d.duration=c.duration):(d.duration+=c.duration,d.nalCount+=c.length,d.byteLength+=c.byteLength,d.push(c));return e.length&&d.duration<=0&&(d.duration=e[e.length-1].duration),e.byteLength+=d.byteLength,e.nalCount+=d.nalCount,e.duration+=d.duration,e.push(d),e},Y=function(a){var b;return!a[0][0].keyFrame&&a.length>1&&(b=a.shift(),a.byteLength-=b.byteLength,a.nalCount-=b.nalCount,a[0][0].dts=b.dts,a[0][0].pts=b.pts,a[0][0].duration+=b.duration),a},Z=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},$=function(a,b){var c=Z();return c.dataOffset=b,c.compositionTimeOffset=a.pts-a.dts,c.duration=a.duration,c.size=4*a.length,c.size+=a.byteLength,a.keyFrame&&(c.flags.dependsOn=2,c.flags.isNonSyncSample=0),c},_=function(a,b){var c,d,e,f,g,h=b||0,i=[];for(c=0;c<a.length;c++)for(f=a[c],d=0;d<f.length;d++)g=f[d],e=$(g,h),h+=e.size,i.push(e);return i},aa=function(a){var b,c,d,e,f,g,h=0,i=a.byteLength,j=a.nalCount,k=i+4*j,l=new Uint8Array(k),m=new DataView(l.buffer);for(b=0;b<a.length;b++)for(e=a[b],c=0;c<e.length;c++)for(f=e[c],d=0;d<f.length;d++)g=f[d],m.setUint32(h,g.data.byteLength),h+=4,l.set(g.data,h),h+=g.data.byteLength;return l},ba=function(a,b){var c,d=b||0,e=[];return c=$(a,d),e.push(c),e},ca=function(a){var b,c,d=0,e=a.byteLength,f=a.length,g=e+4*f,h=new Uint8Array(g),i=new DataView(h.buffer);for(b=0;b<a.length;b++)c=a[b],i.setUint32(d,c.data.byteLength),d+=4,h.set(c.data,d),d+=c.data.byteLength;return h},da={groupNalsIntoFrames:W,groupFramesIntoGops:X,extendFirstKeyFrame:Y,generateSampleTable:_,concatenateNalData:aa,generateSampleTableForFrame:ba,concatenateNalDataForFrame:ca},ea=[33,16,5,32,164,27],fa=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ga=function(a){for(var b=[];a--;)b.push(0);return b},ha=function(a){return Object.keys(a).reduce(function(b,c){return b[c]=new Uint8Array(a[c].reduce(function(a,b){return a.concat(b)},[])),b},{})},ia=function(){if(!N){var a={96e3:[ea,[227,64],ga(154),[56]],88200:[ea,[231],ga(170),[56]],64e3:[ea,[248,192],ga(240),[56]],48e3:[ea,[255,192],ga(268),[55,148,128],ga(54),[112]],44100:[ea,[255,192],ga(268),[55,163,128],ga(84),[112]],32e3:[ea,[255,192],ga(268),[55,234],ga(226),[112]],24e3:[ea,[255,192],ga(268),[55,255,128],ga(268),[111,112],ga(126),[224]],16e3:[ea,[255,192],ga(268),[55,255,128],ga(268),[111,255],ga(269),[223,108],ga(195),[1,192]],12e3:[fa,ga(268),[3,127,248],ga(268),[6,255,240],ga(268),[13,255,224],ga(268),[27,253,128],ga(259),[56]],11025:[fa,ga(268),[3,127,248],ga(268),[6,255,240],ga(268),[13,255,224],ga(268),[27,255,192],ga(268),[55,175,128],ga(108),[112]],8e3:[fa,ga(268),[3,121,16],ga(47),[7]]};N=ha(a)}return N},ja=9e4;O=function(a){return a*ja},P=function(a,b){return a*b},Q=function(a){return a/ja},R=function(a,b){return a/b},S=function(a,b){return O(R(a,b))},T=function(a,b){return P(Q(a),b)},U=function(a,b,c){return Q(c?a:a-b)};var ka={ONE_SECOND_IN_TS:ja,secondsToVideoTs:O,secondsToAudioTs:P,videoTsToSeconds:Q,audioTsToSeconds:R,audioTsToVideoTs:S,videoTsToAudioTs:T,metadataTsToSeconds:U},la=function(a){var b,c,d=0;for(b=0;b<a.length;b++)c=a[b],d+=c.data.byteLength;return d},ma=function(a,b,c,d){var e,f,g,h,i=0,j=0,k=0,l=0;if(b.length&&(e=ka.audioTsToVideoTs(a.baseMediaDecodeTime,a.samplerate),i=Math.ceil(ka.ONE_SECOND_IN_TS/(a.samplerate/1024)),c&&d&&(j=e-Math.max(c,d),k=Math.floor(j/i),l=k*i),!(k<1||l>ka.ONE_SECOND_IN_TS/2))){for(f=ia()[a.samplerate],f||(f=b[0].data),g=0;g<k;g++)h=b[0],b.splice(0,0,{data:f,dts:h.dts-i,pts:h.pts-i});return a.baseMediaDecodeTime-=Math.floor(ka.videoTsToAudioTs(l,a.samplerate)),l}},na=function(a,b,c){return b.minSegmentDts>=c?a:(b.minSegmentDts=1/0,a.filter(function(a){return a.dts>=c&&(b.minSegmentDts=Math.min(b.minSegmentDts,a.dts),b.minSegmentPts=b.minSegmentDts,!0)}))},oa=function(a){var b,c,d=[];for(b=0;b<a.length;b++)c=a[b],d.push({size:c.data.byteLength,duration:1024});return d},pa=function(a){var b,c,d=0,e=new Uint8Array(la(a));for(b=0;b<a.length;b++)c=a[b],e.set(c.data,d),d+=c.data.byteLength;return e},qa={prefixWithSilence:ma,trimAdtsFramesByEarliestDts:na,generateSampleTable:oa,concatenateFrameData:pa},ra=ka.ONE_SECOND_IN_TS,sa=function(a,b){"number"==typeof b.pts&&(void 0===a.timelineStartInfo.pts&&(a.timelineStartInfo.pts=b.pts),void 0===a.minSegmentPts?a.minSegmentPts=b.pts:a.minSegmentPts=Math.min(a.minSegmentPts,b.pts),void 0===a.maxSegmentPts?a.maxSegmentPts=b.pts:a.maxSegmentPts=Math.max(a.maxSegmentPts,b.pts)),"number"==typeof b.dts&&(void 0===a.timelineStartInfo.dts&&(a.timelineStartInfo.dts=b.dts),void 0===a.minSegmentDts?a.minSegmentDts=b.dts:a.minSegmentDts=Math.min(a.minSegmentDts,b.dts),void 0===a.maxSegmentDts?a.maxSegmentDts=b.dts:a.maxSegmentDts=Math.max(a.maxSegmentDts,b.dts))},ta=function(a){delete a.minSegmentDts,delete a.maxSegmentDts,delete a.minSegmentPts,delete a.maxSegmentPts},ua=function(a,b){var c,d,e=a.minSegmentDts;return b||(e-=a.timelineStartInfo.dts),c=a.timelineStartInfo.baseMediaDecodeTime,c+=e,c=Math.max(0,c),"audio"===a.type&&(d=a.samplerate/ra,c*=d,c=Math.floor(c)),c},va={clearDtsInfo:ta,calculateTrackBaseMediaDecodeTime:ua,collectDtsInfo:sa},wa=4,xa=128,ya=function(a){for(var b=0,c={payloadType:-1,payloadSize:0},d=0,e=0;b<a.byteLength&&a[b]!==xa;){for(;255===a[b];)d+=255,b++;for(d+=a[b++];255===a[b];)e+=255,b++;if(e+=a[b++],!c.payload&&d===wa){if("GA94"===String.fromCharCode(a[b+3],a[b+4],a[b+5],a[b+6])){c.payloadType=d,c.payloadSize=e,c.payload=a.subarray(b,b+e);break}c.payload=void 0}b+=e,d=0,e=0}return c},za=function(a){return 181!==a.payload[0]?null:49!=(a.payload[1]<<8|a.payload[2])?null:"GA94"!==String.fromCharCode(a.payload[3],a.payload[4],a.payload[5],a.payload[6])?null:3!==a.payload[7]?null:a.payload.subarray(8,a.payload.length-1)},Aa=function(a,b){var c,d,e,f,g=[];if(!(64&b[0]))return g;for(d=31&b[0],c=0;c<d;c++)e=3*c,f={type:3&b[e+2],pts:a},4&b[e+2]&&(f.ccData=b[e+3]<<8|b[e+4],g.push(f));return g},Ba=function(a){for(var b,c,d=a.byteLength,e=[],f=1;f<d-2;)0===a[f]&&0===a[f+1]&&3===a[f+2]?(e.push(f+2),f+=2):f++;if(0===e.length)return a;b=d-e.length,c=new Uint8Array(b);var g=0;for(f=0;f<b;g++,f++)g===e[0]&&(g++,e.shift()),c[f]=a[g];return c},Ca={parseSei:ya,parseUserData:za,parseCaptionPackets:Aa,discardEmulationPreventionBytes:Ba,USER_DATA_REGISTERED_ITU_T_T35:wa},Da=function a(b){b=b||{},a.prototype.init.call(this),this.parse708captions_="boolean"!=typeof b.parse708captions||b.parse708captions,this.captionPackets_=[],this.ccStreams_=[new Pa(0,0),new Pa(0,1),new Pa(1,0),new Pa(1,1)],this.parse708captions_&&(this.cc708Stream_=new Ja),this.reset(),this.ccStreams_.forEach(function(a){a.on("data",this.trigger.bind(this,"data")),a.on("partialdone",this.trigger.bind(this,"partialdone")),a.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Da.prototype=new L,Da.prototype.push=function(a){var b,c,d;if("sei_rbsp"===a.nalUnitType&&(b=Ca.parseSei(a.escapedRBSP),b.payload&&b.payloadType===Ca.USER_DATA_REGISTERED_ITU_T_T35&&(c=Ca.parseUserData(b)))){if(a.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(a.dts===this.latestDts_&&this.ignoreNextEqualDts_)return void(--this.numSameDts_||(this.ignoreNextEqualDts_=!1));d=Ca.parseCaptionPackets(a.pts,c),this.captionPackets_=this.captionPackets_.concat(d),this.latestDts_!==a.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=a.dts}},Da.prototype.flushCCStreams=function(a){this.ccStreams_.forEach(function(b){return"flush"===a?b.flush():b.partialFlush()},this)},Da.prototype.flushStream=function(a){if(!this.captionPackets_.length)return void this.flushCCStreams(a);this.captionPackets_.forEach(function(a,b){a.presortIndex=b}),this.captionPackets_.sort(function(a,b){return a.pts===b.pts?a.presortIndex-b.presortIndex:a.pts-b.pts}),this.captionPackets_.forEach(function(a){a.type<2?this.dispatchCea608Packet(a):this.dispatchCea708Packet(a)},this),this.captionPackets_.length=0,this.flushCCStreams(a)},Da.prototype.flush=function(){return this.flushStream("flush")},Da.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Da.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(a){a.reset()})},Da.prototype.dispatchCea608Packet=function(a){this.setsTextOrXDSActive(a)?this.activeCea608Channel_[a.type]=null:this.setsChannel1Active(a)?this.activeCea608Channel_[a.type]=0:this.setsChannel2Active(a)&&(this.activeCea608Channel_[a.type]=1),null!==this.activeCea608Channel_[a.type]&&this.ccStreams_[(a.type<<1)+this.activeCea608Channel_[a.type]].push(a)},Da.prototype.setsChannel1Active=function(a){return 4096==(30720&a.ccData)},Da.prototype.setsChannel2Active=function(a){return 6144==(30720&a.ccData)},Da.prototype.setsTextOrXDSActive=function(a){return 256==(28928&a.ccData)||4138==(30974&a.ccData)||6186==(30974&a.ccData)},Da.prototype.dispatchCea708Packet=function(a){this.parse708captions_&&this.cc708Stream_.push(a)};var Ea={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Fa=function(a){var b=Ea[a]||a;return 4096&a&&a===b?"":String.fromCharCode(b)},Ga=function(a){return 32<=a&&a<=127||160<=a&&a<=255},Ha=function(a){this.windowNum=a,this.reset()};Ha.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Ha.prototype.getText=function(){return this.rows.join("\n")},Ha.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Ha.prototype.newLine=function(a){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(a),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Ha.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},Ha.prototype.addText=function(a){this.rows[this.rowIdx]+=a},Ha.prototype.backspace=function(){if(!this.isEmpty()){var a=this.rows[this.rowIdx];this.rows[this.rowIdx]=a.substr(0,a.length-1)}};var Ia=function(a){this.serviceNum=a,this.text="",this.currentWindow=new Ha(-1),this.windows=[]};Ia.prototype.init=function(a,b){this.startPts=a;for(var c=0;c<8;c++)this.windows[c]=new Ha(c),"function"==typeof b&&(this.windows[c].beforeRowOverflow=b)},Ia.prototype.setCurrentWindow=function(a){this.currentWindow=this.windows[a]};var Ja=function a(){a.prototype.init.call(this);var b=this;this.current708Packet=null,this.services={},this.push=function(a){3===a.type?(b.new708Packet(),b.add708Bytes(a)):(null===b.current708Packet&&b.new708Packet(),b.add708Bytes(a))}};Ja.prototype=new L,Ja.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Ja.prototype.add708Bytes=function(a){var b=a.ccData,c=b>>>8,d=255&b;this.current708Packet.ptsVals.push(a.pts),this.current708Packet.data.push(c),this.current708Packet.data.push(d)},Ja.prototype.push708Packet=function(){var a=this.current708Packet,b=a.data,c=null,d=null,e=0,f=b[e++];for(a.seq=f>>6,a.sizeCode=63&f;e<b.length;e++)f=b[e++],c=f>>5,d=31&f,7===c&&d>0&&(f=b[e++],c=f),this.pushServiceBlock(c,e,d),d>0&&(e+=d-1)},Ja.prototype.pushServiceBlock=function(a,b,c){var d,e=b,f=this.current708Packet.data,g=this.services[a];for(g||(g=this.initService(a,e));e<b+c&&e<f.length;e++)d=f[e],Ga(d)?e=this.handleText(e,g):16===d?e=this.extendedCommands(e,g):128<=d&&d<=135?e=this.setCurrentWindow(e,g):152<=d&&d<=159?e=this.defineWindow(e,g):136===d?e=this.clearWindows(e,g):140===d?e=this.deleteWindows(e,g):137===d?e=this.displayWindows(e,g):138===d?e=this.hideWindows(e,g):139===d?e=this.toggleWindows(e,g):151===d?e=this.setWindowAttributes(e,g):144===d?e=this.setPenAttributes(e,g):145===d?e=this.setPenColor(e,g):146===d?e=this.setPenLocation(e,g):143===d?g=this.reset(e,g):8===d?g.currentWindow.backspace():12===d?g.currentWindow.clearText():13===d?g.currentWindow.pendingNewLine=!0:14===d?g.currentWindow.clearText():141===d&&e++},Ja.prototype.extendedCommands=function(a,b){var c=this.current708Packet.data,d=c[++a];return Ga(d)&&(a=this.handleText(a,b,!0)),a},Ja.prototype.getPts=function(a){return this.current708Packet.ptsVals[Math.floor(a/2)]},Ja.prototype.initService=function(a,b){var c=this;return this.services[a]=new Ia(a),this.services[a].init(this.getPts(b),function(b){c.flushDisplayed(b,c.services[a])}),this.services[a]},Ja.prototype.handleText=function(a,b,c){var d=this.current708Packet.data,e=d[a],f=c?4096:0,g=Fa(f|e),h=b.currentWindow;return h.pendingNewLine&&!h.isEmpty()&&h.newLine(this.getPts(a)),h.pendingNewLine=!1,h.addText(g),a},Ja.prototype.setCurrentWindow=function(a,b){var c=this.current708Packet.data,d=c[a],e=7&d;return b.setCurrentWindow(e),a},Ja.prototype.defineWindow=function(a,b){var c=this.current708Packet.data,d=c[a],e=7&d;b.setCurrentWindow(e);var f=b.currentWindow;return d=c[++a],f.visible=(32&d)>>5,f.rowLock=(16&d)>>4,f.columnLock=(8&d)>>3,f.priority=7&d,d=c[++a],f.relativePositioning=(128&d)>>7,f.anchorVertical=127&d,d=c[++a],f.anchorHorizontal=d,d=c[++a],f.anchorPoint=(240&d)>>4,f.rowCount=15&d,d=c[++a],f.columnCount=63&d,d=c[++a],f.windowStyle=(56&d)>>3,f.penStyle=7&d,f.virtualRowCount=f.rowCount+1,a},Ja.prototype.setWindowAttributes=function(a,b){var c=this.current708Packet.data,d=c[a],e=b.currentWindow.winAttr;return d=c[++a],e.fillOpacity=(192&d)>>6,e.fillRed=(48&d)>>4,e.fillGreen=(12&d)>>2,e.fillBlue=3&d,d=c[++a],e.borderType=(192&d)>>6,e.borderRed=(48&d)>>4,e.borderGreen=(12&d)>>2,e.borderBlue=3&d,d=c[++a],e.borderType+=(128&d)>>5,e.wordWrap=(64&d)>>6,e.printDirection=(48&d)>>4,e.scrollDirection=(12&d)>>2,e.justify=3&d,d=c[++a],e.effectSpeed=(240&d)>>4,e.effectDirection=(12&d)>>2,e.displayEffect=3&d,a},Ja.prototype.flushDisplayed=function(a,b){for(var c=[],d=0;d<8;d++)b.windows[d].visible&&!b.windows[d].isEmpty()&&c.push(b.windows[d].getText());b.endPts=a,b.text=c.join("\n\n"),this.pushCaption(b),b.startPts=a},Ja.prototype.pushCaption=function(a){""!==a.text&&(this.trigger("data",{startPts:a.startPts,endPts:a.endPts,text:a.text,stream:"cc708_"+a.serviceNum}),a.text="",a.startPts=a.endPts)},Ja.prototype.displayWindows=function(a,b){var c=this.current708Packet.data,d=c[++a],e=this.getPts(a);this.flushDisplayed(e,b);for(var f=0;f<8;f++)d&1<<f&&(b.windows[f].visible=1);return a},Ja.prototype.hideWindows=function(a,b){var c=this.current708Packet.data,d=c[++a],e=this.getPts(a);this.flushDisplayed(e,b);for(var f=0;f<8;f++)d&1<<f&&(b.windows[f].visible=0);return a},Ja.prototype.toggleWindows=function(a,b){var c=this.current708Packet.data,d=c[++a],e=this.getPts(a);this.flushDisplayed(e,b);for(var f=0;f<8;f++)d&1<<f&&(b.windows[f].visible^=1);return a},Ja.prototype.clearWindows=function(a,b){var c=this.current708Packet.data,d=c[++a],e=this.getPts(a);this.flushDisplayed(e,b);for(var f=0;f<8;f++)d&1<<f&&b.windows[f].clearText();return a},Ja.prototype.deleteWindows=function(a,b){var c=this.current708Packet.data,d=c[++a],e=this.getPts(a);this.flushDisplayed(e,b);for(var f=0;f<8;f++)d&1<<f&&b.windows[f].reset();return a},Ja.prototype.setPenAttributes=function(a,b){var c=this.current708Packet.data,d=c[a],e=b.currentWindow.penAttr;return d=c[++a],e.textTag=(240&d)>>4,e.offset=(12&d)>>2,e.penSize=3&d,d=c[++a],e.italics=(128&d)>>7,e.underline=(64&d)>>6,e.edgeType=(56&d)>>3,e.fontStyle=7&d,a},Ja.prototype.setPenColor=function(a,b){var c=this.current708Packet.data,d=c[a],e=b.currentWindow.penColor;return d=c[++a],e.fgOpacity=(192&d)>>6,e.fgRed=(48&d)>>4,e.fgGreen=(12&d)>>2,e.fgBlue=3&d,d=c[++a],e.bgOpacity=(192&d)>>6,e.bgRed=(48&d)>>4,e.bgGreen=(12&d)>>2,e.bgBlue=3&d,d=c[++a],e.edgeRed=(48&d)>>4,e.edgeGreen=(12&d)>>2,e.edgeBlue=3&d,a},Ja.prototype.setPenLocation=function(a,b){var c=this.current708Packet.data,d=c[a],e=b.currentWindow.penLoc;return b.currentWindow.pendingNewLine=!0,d=c[++a],e.row=15&d,d=c[++a],e.column=63&d,a},Ja.prototype.reset=function(a,b){var c=this.getPts(a);return this.flushDisplayed(c,b),this.initService(b.serviceNum,a)};var Ka={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},La=function(a){return null===a?"":(a=Ka[a]||a,String.fromCharCode(a))},Ma=14,Na=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Oa=function(){for(var a=[],b=Ma+1;b--;)a.push("");return a},Pa=function a(b,c){a.prototype.init.call(this),this.field_=b||0,this.dataChannel_=c||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(a){var b,c,d,e,f;if((b=32639&a.ccData)===this.lastControlCode_)return void(this.lastControlCode_=null);if(4096==(61440&b)?this.lastControlCode_=b:b!==this.PADDING_&&(this.lastControlCode_=null),d=b>>>8,e=255&b,b!==this.PADDING_)if(b===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(b===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(a.pts),this.flushDisplayed(a.pts),c=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=c,this.startPts_=a.pts;else if(b===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(a.pts);else if(b===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(a.pts);else if(b===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(a.pts);else if(b===this.CARRIAGE_RETURN_)this.clearFormatting(a.pts),this.flushDisplayed(a.pts),this.shiftRowsUp_(),this.startPts_=a.pts;else if(b===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(b===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(a.pts),this.displayed_=Oa();else if(b===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Oa();else if(b===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(a.pts),this.displayed_=Oa()),this.mode_="paintOn",this.startPts_=a.pts;else if(this.isSpecialCharacter(d,e))d=(3&d)<<8,f=La(d|e),this[this.mode_](a.pts,f),this.column_++;else if(this.isExtCharacter(d,e))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),d=(3&d)<<8,f=La(d|e),this[this.mode_](a.pts,f),this.column_++;else if(this.isMidRowCode(d,e))this.clearFormatting(a.pts),this[this.mode_](a.pts," "),this.column_++,14==(14&e)&&this.addFormatting(a.pts,["i"]),1==(1&e)&&this.addFormatting(a.pts,["u"]);else if(this.isOffsetControlCode(d,e))this.column_+=3&e;else if(this.isPAC(d,e)){var g=Na.indexOf(7968&b);"rollUp"===this.mode_&&(g-this.rollUpRows_+1<0&&(g=this.rollUpRows_-1),this.setRollUp(a.pts,g)),g!==this.row_&&(this.clearFormatting(a.pts),this.row_=g),1&e&&-1===this.formatting_.indexOf("u")&&this.addFormatting(a.pts,["u"]),16==(16&b)&&(this.column_=4*((14&b)>>1)),this.isColorPAC(e)&&14==(14&e)&&this.addFormatting(a.pts,["i"])}else this.isNormalChar(d)&&(0===e&&(e=null),f=La(d),f+=La(e),this[this.mode_](a.pts,f),this.column_+=f.length)}};Pa.prototype=new L,Pa.prototype.flushDisplayed=function(a){var b=this.displayed_.map(function(a,b){try{return a.trim()}catch(a){return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+b+"."}),""}},this).join("\n").replace(/^\n+|\n+$/g,"");b.length&&this.trigger("data",{startPts:this.startPts_,endPts:a,text:b,stream:this.name_})},Pa.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Oa(),this.nonDisplayed_=Oa(),this.lastControlCode_=null,this.column_=0,this.row_=Ma,this.rollUpRows_=2,this.formatting_=[]},Pa.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Pa.prototype.isSpecialCharacter=function(a,b){return a===this.EXT_&&b>=48&&b<=63},Pa.prototype.isExtCharacter=function(a,b){return(a===this.EXT_+1||a===this.EXT_+2)&&b>=32&&b<=63},Pa.prototype.isMidRowCode=function(a,b){return a===this.EXT_&&b>=32&&b<=47},Pa.prototype.isOffsetControlCode=function(a,b){return a===this.OFFSET_&&b>=33&&b<=35},Pa.prototype.isPAC=function(a,b){return a>=this.BASE_&&a<this.BASE_+8&&b>=64&&b<=127},Pa.prototype.isColorPAC=function(a){return a>=64&&a<=79||a>=96&&a<=127},Pa.prototype.isNormalChar=function(a){return a>=32&&a<=127},Pa.prototype.setRollUp=function(a,b){if("rollUp"!==this.mode_&&(this.row_=Ma,this.mode_="rollUp",this.flushDisplayed(a),this.nonDisplayed_=Oa(),this.displayed_=Oa()),void 0!==b&&b!==this.row_)for(var c=0;c<this.rollUpRows_;c++)this.displayed_[b-c]=this.displayed_[this.row_-c],this.displayed_[this.row_-c]="";void 0===b&&(b=this.row_),this.topRow_=b-this.rollUpRows_+1},Pa.prototype.addFormatting=function(a,b){this.formatting_=this.formatting_.concat(b);var c=b.reduce(function(a,b){return a+"<"+b+">"},"");this[this.mode_](a,c)},Pa.prototype.clearFormatting=function(a){if(this.formatting_.length){var b=this.formatting_.reverse().reduce(function(a,b){return a+"</"+b+">"},"");this.formatting_=[],this[this.mode_](a,b)}},Pa.prototype.popOn=function(a,b){var c=this.nonDisplayed_[this.row_];c+=b,this.nonDisplayed_[this.row_]=c},Pa.prototype.rollUp=function(a,b){var c=this.displayed_[this.row_];c+=b,this.displayed_[this.row_]=c},Pa.prototype.shiftRowsUp_=function(){var a;for(a=0;a<this.topRow_;a++)this.displayed_[a]="";for(a=this.row_+1;a<Ma+1;a++)this.displayed_[a]="";for(a=this.topRow_;a<this.row_;a++)this.displayed_[a]=this.displayed_[a+1];this.displayed_[this.row_]=""},Pa.prototype.paintOn=function(a,b){var c=this.displayed_[this.row_];c+=b,this.displayed_[this.row_]=c};var Qa={CaptionStream:Da,Cea608Stream:Pa,Cea708Stream:Ja},Ra={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Sa=8589934592,Ta=4294967296,Ua="shared",Va=function(a,b){var c=1;for(a>b&&(c=-1);Math.abs(b-a)>Ta;)a+=c*Sa;return a},Wa=function a(b){var c,d;a.prototype.init.call(this),this.type_=b||Ua,this.push=function(a){this.type_!==Ua&&a.type!==this.type_||(void 0===d&&(d=a.dts),a.dts=Va(a.dts,d),a.pts=Va(a.pts,d),c=a.dts,this.trigger("data",a))},this.flush=function(){d=c,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){d=void 0,c=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Wa.prototype=new L;var Xa,Ya={TimestampRolloverStream:Wa,handleRollover:Va},Za=function(a,b,c){var d,e="";for(d=b;d<c;d++)e+="%"+("00"+a[d].toString(16)).slice(-2);return e},$a=function(a,b,c){return decodeURIComponent(Za(a,b,c))},_a=function(a,b,c){return unescape(Za(a,b,c))},ab=function(a){return a[0]<<21|a[1]<<14|a[2]<<7|a[3]},bb={TXXX:function(a){var b;if(3===a.data[0]){for(b=1;b<a.data.length;b++)if(0===a.data[b]){a.description=$a(a.data,1,b),a.value=$a(a.data,b+1,a.data.length).replace(/\0*$/,"");break}a.data=a.value}},WXXX:function(a){var b;if(3===a.data[0])for(b=1;b<a.data.length;b++)if(0===a.data[b]){a.description=$a(a.data,1,b),a.url=$a(a.data,b+1,a.data.length);break}},PRIV:function(a){var b;for(b=0;b<a.data.length;b++)if(0===a.data[b]){a.owner=_a(a.data,0,b);break}a.privateData=a.data.subarray(b+1),a.data=a.privateData}};Xa=function(a){var b,c={descriptor:a&&a.descriptor},d=0,e=[],f=0;if(Xa.prototype.init.call(this),this.dispatchType=Ra.METADATA_STREAM_TYPE.toString(16),c.descriptor)for(b=0;b<c.descriptor.length;b++)this.dispatchType+=("00"+c.descriptor[b].toString(16)).slice(-2);this.push=function(a){var b,c,g,h,i,j;if("timed-metadata"===a.type){if(a.dataAlignmentIndicator&&(f=0,e.length=0),0===e.length&&(a.data.length<10||a.data[0]!=="I".charCodeAt(0)||a.data[1]!=="D".charCodeAt(0)||a.data[2]!=="3".charCodeAt(0)))return void this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});if(e.push(a),f+=a.data.byteLength,1===e.length&&(d=ab(a.data.subarray(6,10)),d+=10),!(f<d)){for(b={data:new Uint8Array(d),frames:[],pts:e[0].pts,dts:e[0].dts},i=0;i<d;)b.data.set(e[0].data.subarray(0,d-i),i),i+=e[0].data.byteLength,f-=e[0].data.byteLength,e.shift();c=10,64&b.data[5]&&(c+=4,c+=ab(b.data.subarray(10,14)),d-=ab(b.data.subarray(16,20)));do{if((g=ab(b.data.subarray(c+4,c+8)))<1)return void this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});if(j=String.fromCharCode(b.data[c],b.data[c+1],b.data[c+2],b.data[c+3]),h={id:j,data:b.data.subarray(c+10,c+g+10)},h.key=h.id,bb[h.id]&&(bb[h.id](h),"com.apple.streaming.transportStreamTimestamp"===h.owner)){var k=h.data,l=(1&k[3])<<30|k[4]<<22|k[5]<<14|k[6]<<6|k[7]>>>2;l*=4,l+=3&k[7],h.timeStamp=l,void 0===b.pts&&void 0===b.dts&&(b.pts=h.timeStamp,b.dts=h.timeStamp),this.trigger("timestamp",h)}b.frames.push(h),c+=10,c+=g}while(c<d);this.trigger("data",b)}}}},Xa.prototype=new L;var cb,db,eb,fb=Xa,gb=Ya.TimestampRolloverStream,hb=188,ib=71;cb=function(){var a=new Uint8Array(hb),b=0;cb.prototype.init.call(this),this.push=function(c){var d,e=0,f=hb;for(b?(d=new Uint8Array(c.byteLength+b),d.set(a.subarray(0,b)),d.set(c,b),b=0):d=c;f<d.byteLength;)d[e]!==ib||d[f]!==ib?(e++,f++):(this.trigger("data",d.subarray(e,f)),e+=hb,f+=hb);e<d.byteLength&&(a.set(d.subarray(e),0),b=d.byteLength-e)},this.flush=function(){b===hb&&a[0]===ib&&(this.trigger("data",a),b=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){b=0,this.trigger("reset")}},cb.prototype=new L,db=function(){var a,b,c,d;db.prototype.init.call(this),d=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,a=function(a,d){var e=0;d.payloadUnitStartIndicator&&(e+=a[e]+1),"pat"===d.type?b(a.subarray(e),d):c(a.subarray(e),d)},b=function(a,b){b.section_number=a[7],b.last_section_number=a[8],d.pmtPid=(31&a[10])<<8|a[11],b.pmtPid=d.pmtPid},c=function(a,b){var c,e,f,g;if(1&a[5]){for(d.programMapTable={video:null,audio:null,"timed-metadata":{}},c=(15&a[1])<<8|a[2],e=3+c-4,f=(15&a[10])<<8|a[11],g=12+f;g<e;){var h=a[g],i=(31&a[g+1])<<8|a[g+2];h===Ra.H264_STREAM_TYPE&&null===d.programMapTable.video?d.programMapTable.video=i:h===Ra.ADTS_STREAM_TYPE&&null===d.programMapTable.audio?d.programMapTable.audio=i:h===Ra.METADATA_STREAM_TYPE&&(d.programMapTable["timed-metadata"][i]=h),g+=5+((15&a[g+3])<<8|a[g+4])}b.programMapTable=d.programMapTable}},this.push=function(b){var c={},d=4;if(c.payloadUnitStartIndicator=!!(64&b[1]),c.pid=31&b[1],c.pid<<=8,c.pid|=b[2],(48&b[3])>>>4>1&&(d+=b[d]+1),0===c.pid)c.type="pat",a(b.subarray(d),c),this.trigger("data",c);else if(c.pid===this.pmtPid)for(c.type="pmt",a(b.subarray(d),c),this.trigger("data",c);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([b,d,c]):this.processPes_(b,d,c)},this.processPes_=function(a,b,c){c.pid===this.programMapTable.video?c.streamType=Ra.H264_STREAM_TYPE:c.pid===this.programMapTable.audio?c.streamType=Ra.ADTS_STREAM_TYPE:c.streamType=this.programMapTable["timed-metadata"][c.pid],c.type="pes",c.data=a.subarray(b),this.trigger("data",c)}},db.prototype=new L,db.STREAM_TYPES={h264:27,adts:15},eb=function(){var a,b=this,c=!1,d={data:[],size:0},e={data:[],size:0},f={data:[],size:0},g=function(a,b){var c,d=a[0]<<16|a[1]<<8|a[2];b.data=new Uint8Array,1===d&&(b.packetLength=6+(a[4]<<8|a[5]),b.dataAlignmentIndicator=0!=(4&a[6]),c=a[7],192&c&&(b.pts=(14&a[9])<<27|(255&a[10])<<20|(254&a[11])<<12|(255&a[12])<<5|(254&a[13])>>>3,b.pts*=4,b.pts+=(6&a[13])>>>1,b.dts=b.pts,64&c&&(b.dts=(14&a[14])<<27|(255&a[15])<<20|(254&a[16])<<12|(255&a[17])<<5|(254&a[18])>>>3,b.dts*=4,b.dts+=(6&a[18])>>>1)),b.data=a.subarray(9+a[8]))},h=function(a,c,d){var e,f=new Uint8Array(a.size),h={type:c},i=0,j=0,k=!1;if(a.data.length&&!(a.size<9)){for(h.trackId=a.data[0].pid,i=0;i<a.data.length;i++)e=a.data[i],f.set(e.data,j),j+=e.data.byteLength;g(f,h),k="video"===c||h.packetLength<=a.size,(d||k)&&(a.size=0,a.data.length=0),k&&b.trigger("data",h)}};eb.prototype.init.call(this),this.push=function(g){({pat:function(){},pes:function(){var a,b;switch(g.streamType){case Ra.H264_STREAM_TYPE:a=d,b="video";break;case Ra.ADTS_STREAM_TYPE:a=e,b="audio";break;case Ra.METADATA_STREAM_TYPE:a=f,b="timed-metadata";break;default:return}g.payloadUnitStartIndicator&&h(a,b,!0),a.data.push(g),a.size+=g.data.byteLength},pmt:function(){var d={type:"metadata",tracks:[]};a=g.programMapTable,null!==a.video&&d.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+a.video,codec:"avc",type:"video"}),null!==a.audio&&d.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+a.audio,codec:"adts",type:"audio"}),c=!0,b.trigger("data",d)}})[g.type]()},this.reset=function(){d.size=0,d.data.length=0,e.size=0,e.data.length=0,this.trigger("reset")},this.flushStreams_=function(){h(d,"video"),h(e,"audio"),h(f,"timed-metadata")},this.flush=function(){if(!c&&a){var d={type:"metadata",tracks:[]};null!==a.video&&d.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+a.video,codec:"avc",type:"video"}),null!==a.audio&&d.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+a.audio,codec:"adts",type:"audio"}),b.trigger("data",d)}c=!1,this.flushStreams_(),this.trigger("done")}},eb.prototype=new L;var jb={PAT_PID:0,MP2T_PACKET_LENGTH:hb,TransportPacketStream:cb,TransportParseStream:db,ElementaryStream:eb,TimestampRolloverStream:gb,CaptionStream:Qa.CaptionStream,Cea608Stream:Qa.Cea608Stream,Cea708Stream:Qa.Cea708Stream,MetadataStream:fb};for(var kb in Ra)Ra.hasOwnProperty(kb)&&(jb[kb]=Ra[kb]);var lb,mb=jb,nb=ka.ONE_SECOND_IN_TS,ob=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];lb=function(a){var b,c=0;lb.prototype.init.call(this),this.skipWarn_=function(a,b){this.trigger("log",{level:"warn",message:"adts skiping bytes "+a+" to "+b+" in frame "+c+" outside syncword"})},this.push=function(d){var e,f,g,h,i,j=0;if(a||(c=0),"audio"===d.type){b&&b.length?(g=b,b=new Uint8Array(g.byteLength+d.data.byteLength),b.set(g),b.set(d.data,g.byteLength)):b=d.data;for(var k;j+7<b.length;)if(255===b[j]&&240==(246&b[j+1])){if("number"==typeof k&&(this.skipWarn_(k,j),k=null),f=2*(1&~b[j+1]),e=(3&b[j+3])<<11|b[j+4]<<3|(224&b[j+5])>>5,h=1024*(1+(3&b[j+6])),i=h*nb/ob[(60&b[j+2])>>>2],b.byteLength-j<e)break;this.trigger("data",{pts:d.pts+c*i,dts:d.dts+c*i,sampleCount:h,audioobjecttype:1+(b[j+2]>>>6&3),channelcount:(1&b[j+2])<<2|(192&b[j+3])>>>6,samplerate:ob[(60&b[j+2])>>>2],samplingfrequencyindex:(60&b[j+2])>>>2,samplesize:16,data:b.subarray(j+7+f,j+e)}),c++,j+=e}else"number"!=typeof k&&(k=j),j++;"number"==typeof k&&(this.skipWarn_(k,j),k=null),b=b.subarray(j)}},this.flush=function(){c=0,this.trigger("done")},this.reset=function(){b=void 0,this.trigger("reset")},this.endTimeline=function(){b=void 0,this.trigger("endedtimeline")}},lb.prototype=new L;var pb,qb=lb;pb=function(a){var b=a.byteLength,c=0,d=0;this.length=function(){return 8*b},this.bitsAvailable=function(){return 8*b+d},this.loadWord=function(){var e=a.byteLength-b,f=new Uint8Array(4),g=Math.min(4,b);if(0===g)throw new Error("no bytes available");f.set(a.subarray(e,e+g)),c=new DataView(f.buffer).getUint32(0),d=8*g,b-=g},this.skipBits=function(a){var e;d>a?(c<<=a,d-=a):(a-=d,e=Math.floor(a/8),a-=8*e,b-=e,this.loadWord(),c<<=a,d-=a)},this.readBits=function(a){var e=Math.min(d,a),f=c>>>32-e;return d-=e,d>0?c<<=e:b>0&&this.loadWord(),e=a-e,e>0?f<<e|this.readBits(e):f},this.skipLeadingZeros=function(){var a;for(a=0;a<d;++a)if(0!=(c&2147483648>>>a))return c<<=a,d-=a,a;return this.loadWord(),a+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var a=this.skipLeadingZeros();return this.readBits(a+1)-1},this.readExpGolomb=function(){var a=this.readUnsignedExpGolomb();return 1&a?1+a>>>1:-1*(a>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var rb,sb,tb,ub=pb;sb=function(){var a,b,c=0;sb.prototype.init.call(this),this.push=function(d){var e;b?(e=new Uint8Array(b.byteLength+d.data.byteLength),e.set(b),e.set(d.data,b.byteLength),b=e):b=d.data;for(var f=b.byteLength;c<f-3;c++)if(1===b[c+2]){a=c+5;break}for(;a<f;)switch(b[a]){case 0:if(0!==b[a-1]){a+=2;break}if(0!==b[a-2]){a++;break}c+3!==a-2&&this.trigger("data",b.subarray(c+3,a-2));do{a++}while(1!==b[a]&&a<f);c=a-2,a+=3;break;case 1:if(0!==b[a-1]||0!==b[a-2]){a+=3;break}this.trigger("data",b.subarray(c+3,a-2)),c=a-2,a+=3;break;default:a+=3}b=b.subarray(c),a-=c,c=0},this.reset=function(){b=null,c=0,this.trigger("reset")},this.flush=function(){b&&b.byteLength>3&&this.trigger("data",b.subarray(c+3)),b=null,c=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},sb.prototype=new L,tb={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},rb=function(){var a,b,c,d,e,f,g,h=new sb;rb.prototype.init.call(this),a=this,this.push=function(a){"video"===a.type&&(b=a.trackId,c=a.pts,d=a.dts,h.push(a))},h.on("data",function(g){var h={trackId:b,pts:c,dts:d,data:g,nalUnitTypeCode:31&g[0]};switch(h.nalUnitTypeCode){case 5:h.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:h.nalUnitType="sei_rbsp",h.escapedRBSP=e(g.subarray(1));break;case 7:h.nalUnitType="seq_parameter_set_rbsp",h.escapedRBSP=e(g.subarray(1)),h.config=f(h.escapedRBSP);break;case 8:h.nalUnitType="pic_parameter_set_rbsp";break;case 9:h.nalUnitType="access_unit_delimiter_rbsp"}a.trigger("data",h)}),h.on("done",function(){a.trigger("done")}),h.on("partialdone",function(){a.trigger("partialdone")}),h.on("reset",function(){a.trigger("reset")}),h.on("endedtimeline",function(){a.trigger("endedtimeline")}),this.flush=function(){h.flush()},this.partialFlush=function(){h.partialFlush()},this.reset=function(){h.reset()},this.endTimeline=function(){h.endTimeline()},g=function(a,b){var c,d,e=8,f=8;for(c=0;c<a;c++)0!==f&&(d=b.readExpGolomb(),f=(e+d+256)%256),e=0===f?e:f},e=function(a){for(var b,c,d=a.byteLength,e=[],f=1;f<d-2;)0===a[f]&&0===a[f+1]&&3===a[f+2]?(e.push(f+2),f+=2):f++;if(0===e.length)return a;b=d-e.length,c=new Uint8Array(b);var g=0;for(f=0;f<b;g++,f++)g===e[0]&&(g++,e.shift()),c[f]=a[g];return c},f=function(a){var b,c,d,e,f,h,i,j,k,l,m,n,o=0,p=0,q=0,r=0,s=[1,1];if(b=new ub(a),c=b.readUnsignedByte(),e=b.readUnsignedByte(),d=b.readUnsignedByte(),b.skipUnsignedExpGolomb(),tb[c]&&(f=b.readUnsignedExpGolomb(),3===f&&b.skipBits(1),b.skipUnsignedExpGolomb(),b.skipUnsignedExpGolomb(),b.skipBits(1),b.readBoolean()))for(m=3!==f?8:12,n=0;n<m;n++)b.readBoolean()&&(n<6?g(16,b):g(64,b));if(b.skipUnsignedExpGolomb(),0===(h=b.readUnsignedExpGolomb()))b.readUnsignedExpGolomb();else if(1===h)for(b.skipBits(1),b.skipExpGolomb(),b.skipExpGolomb(),i=b.readUnsignedExpGolomb(),n=0;n<i;n++)b.skipExpGolomb();if(b.skipUnsignedExpGolomb(),b.skipBits(1),j=b.readUnsignedExpGolomb(),k=b.readUnsignedExpGolomb(),l=b.readBits(1),0===l&&b.skipBits(1),b.skipBits(1),b.readBoolean()&&(o=b.readUnsignedExpGolomb(),p=b.readUnsignedExpGolomb(),q=b.readUnsignedExpGolomb(),r=b.readUnsignedExpGolomb()),b.readBoolean()&&b.readBoolean()){switch(b.readUnsignedByte()){case 1:s=[1,1];break;case 2:s=[12,11];break;case 3:s=[10,11];break;case 4:s=[16,11];break;case 5:s=[40,33];break;case 6:s=[24,11];break;case 7:s=[20,11];break;case 8:s=[32,11];break;case 9:s=[80,33];break;case 10:s=[18,11];break;case 11:s=[15,11];break;case 12:s=[64,33];break;case 13:s=[160,99];break;case 14:s=[4,3];break;case 15:s=[3,2];break;case 16:s=[2,1];break;case 255:s=[b.readUnsignedByte()<<8|b.readUnsignedByte(),b.readUnsignedByte()<<8|b.readUnsignedByte()]}s&&(s[0],s[1])}return{profileIdc:c,levelIdc:d,profileCompatibility:e,width:16*(j+1)-2*o-2*p,height:(2-l)*(k+1)*16-2*q-2*r,sarRatio:s}}},rb.prototype=new L;var vb,wb={H264Stream:rb,NalByteStream:sb},xb=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],yb=function(a,b){var c=a[b+6]<<21|a[b+7]<<14|a[b+8]<<7|a[b+9],d=a[b+5],e=(16&d)>>4;return c=c>=0?c:0,e?c+20:c+10},zb=function a(b,c){return b.length-c<10||b[c]!=="I".charCodeAt(0)||b[c+1]!=="D".charCodeAt(0)||b[c+2]!=="3".charCodeAt(0)?c:(c+=yb(b,c),a(b,c))},Ab=function(a){var b=zb(a,0);return a.length>=b+2&&255==(255&a[b])&&240==(240&a[b+1])&&16==(22&a[b+1])},Bb=function(a){return a[0]<<21|a[1]<<14|a[2]<<7|a[3]},Cb=function(a,b,c){var d,e="";for(d=b;d<c;d++)e+="%"+("00"+a[d].toString(16)).slice(-2);return e},Db=function(a,b,c){return unescape(Cb(a,b,c))},Eb=function(a,b){var c=(224&a[b+5])>>5,d=a[b+4]<<3;return 6144&a[b+3]|d|c},Fb=function(a,b){return a[b]==="I".charCodeAt(0)&&a[b+1]==="D".charCodeAt(0)&&a[b+2]==="3".charCodeAt(0)?"timed-metadata":!0&a[b]&&240==(240&a[b+1])?"audio":null},Gb=function(a){for(var b=0;b+5<a.length;){if(255===a[b]&&240==(246&a[b+1]))return xb[(60&a[b+2])>>>2];b++}return null},Hb=function(a){var b,c,d;b=10,64&a[5]&&(b+=4,b+=Bb(a.subarray(10,14)));do{if((c=Bb(a.subarray(b+4,b+8)))<1)return null;if("PRIV"===String.fromCharCode(a[b],a[b+1],a[b+2],a[b+3])){d=a.subarray(b+10,b+c+10);for(var e=0;e<d.byteLength;e++)if(0===d[e]){var f=Db(d,0,e);if("com.apple.streaming.transportStreamTimestamp"===f){var g=d.subarray(e+1),h=(1&g[3])<<30|g[4]<<22|g[5]<<14|g[6]<<6|g[7]>>>2;return h*=4,h+=3&g[7]}break}}b+=10,b+=c}while(b<a.byteLength);return null},Ib={isLikelyAacData:Ab,parseId3TagSize:yb,parseAdtsSize:Eb,parseType:Fb,parseSampleRate:Gb,parseAacTimestamp:Hb};vb=function(){var a=new Uint8Array,b=0;vb.prototype.init.call(this),this.setTimestamp=function(a){b=a},this.push=function(c){var d,e,f,g,h=0,i=0;for(a.length?(g=a.length,a=new Uint8Array(c.byteLength+g),a.set(a.subarray(0,g)),a.set(c,g)):a=c;a.length-i>=3;)if(a[i]!=="I".charCodeAt(0)||a[i+1]!=="D".charCodeAt(0)||a[i+2]!=="3".charCodeAt(0))if(255!=(255&a[i])||240!=(240&a[i+1]))i++;else{if(a.length-i<7)break;if(h=Ib.parseAdtsSize(a,i),i+h>a.length)break;f={type:"audio",data:a.subarray(i,i+h),pts:b,dts:b},this.trigger("data",f),i+=h}else{if(a.length-i<10)break;if(h=Ib.parseId3TagSize(a,i),i+h>a.length)break;e={type:"timed-metadata",data:a.subarray(i,i+h)},this.trigger("data",e),i+=h}d=a.length-i,a=d>0?a.subarray(i):new Uint8Array},this.reset=function(){a=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){a=new Uint8Array,this.trigger("endedtimeline")}},vb.prototype=new L;var Jb,Kb,Lb,Mb,Nb=vb,Ob=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Pb=Ob,Qb=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Rb=Qb,Sb=wb.H264Stream,Tb=Ib.isLikelyAacData,Ub=ka.ONE_SECOND_IN_TS,Vb=function(a,b){var c;if(a.length!==b.length)return!1;for(c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0},Wb=function(a,b,c,d,e,f){return{start:{dts:a,pts:a+(c-b)},end:{dts:a+(d-b),pts:a+(e-c)},prependedContentDuration:f,baseMediaDecodeTime:a}};Kb=function(a,b){var c=[],d=0,e=0,f=0,g=1/0;b=b||{},Kb.prototype.init.call(this),this.push=function(b){va.collectDtsInfo(a,b),a&&Pb.forEach(function(c){a[c]=b[c]}),c.push(b)},this.setEarliestDts=function(a){e=a},this.setVideoBaseMediaDecodeTime=function(a){g=a},this.setAudioAppendStart=function(a){f=a},this.flush=function(){var h,i,j,k,l,m,n;if(0===c.length)return void this.trigger("done","AudioSegmentStream");h=qa.trimAdtsFramesByEarliestDts(c,a,e),a.baseMediaDecodeTime=va.calculateTrackBaseMediaDecodeTime(a,b.keepOriginalTimestamps),n=qa.prefixWithSilence(a,h,f,g),a.samples=qa.generateSampleTable(h),j=V.mdat(qa.concatenateFrameData(h)),c=[],i=V.moof(d,[a]),k=new Uint8Array(i.byteLength+j.byteLength),d++,k.set(i),k.set(j,i.byteLength),va.clearDtsInfo(a),l=Math.ceil(1024*Ub/a.samplerate),h.length&&(m=h.length*l,this.trigger("segmentTimingInfo",Wb(ka.audioTsToVideoTs(a.baseMediaDecodeTime,a.samplerate),h[0].dts,h[0].pts,h[0].dts+m,h[0].pts+m,n||0)),this.trigger("timingInfo",{start:h[0].pts,end:h[0].pts+m})),this.trigger("data",{track:a,boxes:k}),this.trigger("done","AudioSegmentStream")},this.reset=function(){va.clearDtsInfo(a),c=[],this.trigger("reset")}},Kb.prototype=new L,Jb=function(a,b){var c,d,e=0,f=[],g=[];b=b||{},Jb.prototype.init.call(this),delete a.minPTS,this.gopCache_=[],this.push=function(b){va.collectDtsInfo(a,b),"seq_parameter_set_rbsp"!==b.nalUnitType||c||(c=b.config,a.sps=[b.data],Rb.forEach(function(b){a[b]=c[b]},this)),"pic_parameter_set_rbsp"!==b.nalUnitType||d||(d=b.data,a.pps=[b.data]),f.push(b)},this.flush=function(){for(var c,d,h,i,j,k,l,m,n=0;f.length&&"access_unit_delimiter_rbsp"!==f[0].nalUnitType;)f.shift();if(0===f.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(c=da.groupNalsIntoFrames(f),h=da.groupFramesIntoGops(c),h[0][0].keyFrame||(d=this.getGopForFusion_(f[0],a),d?(n=d.duration,h.unshift(d),h.byteLength+=d.byteLength,h.nalCount+=d.nalCount,h.pts=d.pts,h.dts=d.dts,h.duration+=d.duration):h=da.extendFirstKeyFrame(h)),g.length){var o;if(!(o=b.alignGopsAtEnd?this.alignGopsAtEnd_(h):this.alignGopsAtStart_(h)))return this.gopCache_.unshift({gop:h.pop(),pps:a.pps,sps:a.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),f=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");va.clearDtsInfo(a),h=o}va.collectDtsInfo(a,h),a.samples=da.generateSampleTable(h),j=V.mdat(da.concatenateNalData(h)),a.baseMediaDecodeTime=va.calculateTrackBaseMediaDecodeTime(a,b.keepOriginalTimestamps),this.trigger("processedGopsInfo",h.map(function(a){return{pts:a.pts,dts:a.dts,byteLength:a.byteLength}})),l=h[0],m=h[h.length-1],this.trigger("segmentTimingInfo",Wb(a.baseMediaDecodeTime,l.dts,l.pts,m.dts+m.duration,m.pts+m.duration,n)),this.trigger("timingInfo",{start:h[0].pts,end:h[h.length-1].pts+h[h.length-1].duration}),this.gopCache_.unshift({gop:h.pop(),pps:a.pps,sps:a.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),f=[],this.trigger("baseMediaDecodeTime",a.baseMediaDecodeTime),this.trigger("timelineStartInfo",a.timelineStartInfo),i=V.moof(e,[a]),k=new Uint8Array(i.byteLength+j.byteLength),e++,k.set(i),k.set(j,i.byteLength),this.trigger("data",{track:a,boxes:k}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),f=[],this.gopCache_.length=0,g.length=0,this.trigger("reset")},this.resetStream_=function(){va.clearDtsInfo(a),c=void 0,d=void 0},this.getGopForFusion_=function(b){var c,d,e,f,g,h=45e3,i=1e4,j=1/0;for(g=0;g<this.gopCache_.length;g++)f=this.gopCache_[g],e=f.gop,a.pps&&Vb(a.pps[0],f.pps[0])&&a.sps&&Vb(a.sps[0],f.sps[0])&&(e.dts<a.timelineStartInfo.dts||(c=b.dts-e.dts-e.duration)>=-i&&c<=h&&(!d||j>c)&&(d=f,j=c));return d?d.gop:null},this.alignGopsAtStart_=function(a){var b,c,d,e,f,h,i,j;for(f=a.byteLength,h=a.nalCount,i=a.duration,b=c=0;b<g.length&&c<a.length&&(d=g[b],e=a[c],d.pts!==e.pts);)e.pts>d.pts?b++:(c++,f-=e.byteLength,h-=e.nalCount,i-=e.duration);return 0===c?a:c===a.length?null:(j=a.slice(c),j.byteLength=f,j.duration=i,j.nalCount=h,j.pts=j[0].pts,j.dts=j[0].dts,j)},this.alignGopsAtEnd_=function(a){var b,c,d,e,f,h;for(b=g.length-1,c=a.length-1,f=null,h=!1;b>=0&&c>=0;){if(d=g[b],e=a[c],d.pts===e.pts){h=!0;break}d.pts>e.pts?b--:(b===g.length-1&&(f=c),c--)}if(!h&&null===f)return null;var i;if(0===(i=h?c:f))return a;var j=a.slice(i),k=j.reduce(function(a,b){return a.byteLength+=b.byteLength,a.duration+=b.duration,a.nalCount+=b.nalCount,a},{byteLength:0,duration:0,nalCount:0});return j.byteLength=k.byteLength,j.duration=k.duration,j.nalCount=k.nalCount,j.pts=j[0].pts,j.dts=j[0].dts,j},this.alignGopsWith=function(a){g=a}},Jb.prototype=new L,Mb=function(a,b){this.numberOfTracks=0,this.metadataStream=b,a=a||{},void 0!==a.remux?this.remuxTracks=!!a.remux:this.remuxTracks=!0,"boolean"==typeof a.keepOriginalTimestamps?this.keepOriginalTimestamps=a.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Mb.prototype.init.call(this),this.push=function(a){return a.text?this.pendingCaptions.push(a):a.frames?this.pendingMetadata.push(a):(this.pendingTracks.push(a.track),this.pendingBytes+=a.boxes.byteLength,"video"===a.track.type&&(this.videoTrack=a.track,this.pendingBoxes.push(a.boxes)),void("audio"===a.track.type&&(this.audioTrack=a.track,this.pendingBoxes.unshift(a.boxes))))}},Mb.prototype=new L,Mb.prototype.flush=function(a){var b,c,d,e,f=0,g={captions:[],captionStreams:{},metadata:[],info:{}},h=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==a&&"AudioSegmentStream"!==a)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return void(++this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(h=this.videoTrack.timelineStartInfo.pts,Rb.forEach(function(a){g.info[a]=this.videoTrack[a]},this)):this.audioTrack&&(h=this.audioTrack.timelineStartInfo.pts,Pb.forEach(function(a){g.info[a]=this.audioTrack[a]},this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?g.type=this.pendingTracks[0].type:g.type="combined",this.emittedTracks+=this.pendingTracks.length,d=V.initSegment(this.pendingTracks),g.initSegment=new Uint8Array(d.byteLength),g.initSegment.set(d),g.data=new Uint8Array(this.pendingBytes),e=0;e<this.pendingBoxes.length;e++)g.data.set(this.pendingBoxes[e],f),f+=this.pendingBoxes[e].byteLength;for(e=0;e<this.pendingCaptions.length;e++)b=this.pendingCaptions[e],b.startTime=ka.metadataTsToSeconds(b.startPts,h,this.keepOriginalTimestamps),b.endTime=ka.metadataTsToSeconds(b.endPts,h,this.keepOriginalTimestamps),g.captionStreams[b.stream]=!0,g.captions.push(b);for(e=0;e<this.pendingMetadata.length;e++)c=this.pendingMetadata[e],c.cueTime=ka.metadataTsToSeconds(c.pts,h,this.keepOriginalTimestamps),g.metadata.push(c);for(g.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",g),e=0;e<g.captions.length;e++)b=g.captions[e],this.trigger("caption",b);for(e=0;e<g.metadata.length;e++)c=g.metadata[e],this.trigger("id3Frame",c)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Mb.prototype.setRemux=function(a){this.remuxTracks=a},Lb=function(a){var b,c,d=this,e=!0;Lb.prototype.init.call(this),a=a||{},this.baseMediaDecodeTime=a.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};this.transmuxPipeline_=e,e.type="aac",e.metadataStream=new mb.MetadataStream,e.aacStream=new Nb,e.audioTimestampRolloverStream=new mb.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new mb.TimestampRolloverStream("timed-metadata"),e.adtsStream=new qb,e.coalesceStream=new Mb(a,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",function(a){e.aacStream.setTimestamp(a.timeStamp)}),e.aacStream.on("data",function(f){"timed-metadata"!==f.type&&"audio"!==f.type||e.audioSegmentStream||(c=c||{timelineStartInfo:{baseMediaDecodeTime:d.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new Kb(c,a),e.audioSegmentStream.on("log",d.getLogTrigger_("audioSegmentStream")),e.audioSegmentStream.on("timingInfo",d.trigger.bind(d,"audioTimingInfo")),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream),d.trigger("trackinfo",{hasAudio:!!c,hasVideo:!!b}))}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var e={};this.transmuxPipeline_=e,e.type="ts",e.metadataStream=new mb.MetadataStream,e.packetStream=new mb.TransportPacketStream,e.parseStream=new mb.TransportParseStream,e.elementaryStream=new mb.ElementaryStream,e.timestampRolloverStream=new mb.TimestampRolloverStream,e.adtsStream=new qb,e.h264Stream=new Sb,e.captionStream=new mb.CaptionStream(a),e.coalesceStream=new Mb(a,e.metadataStream),e.headOfPipeline=e.packetStream,e.packetStream.pipe(e.parseStream).pipe(e.elementaryStream).pipe(e.timestampRolloverStream),e.timestampRolloverStream.pipe(e.h264Stream),e.timestampRolloverStream.pipe(e.adtsStream),e.timestampRolloverStream.pipe(e.metadataStream).pipe(e.coalesceStream),e.h264Stream.pipe(e.captionStream).pipe(e.coalesceStream),e.elementaryStream.on("data",function(f){var g;if("metadata"===f.type){for(g=f.tracks.length;g--;)b||"video"!==f.tracks[g].type?c||"audio"!==f.tracks[g].type||(c=f.tracks[g],c.timelineStartInfo.baseMediaDecodeTime=d.baseMediaDecodeTime):(b=f.tracks[g],b.timelineStartInfo.baseMediaDecodeTime=d.baseMediaDecodeTime);b&&!e.videoSegmentStream&&(e.coalesceStream.numberOfTracks++,e.videoSegmentStream=new Jb(b,a),e.videoSegmentStream.on("log",d.getLogTrigger_("videoSegmentStream")),e.videoSegmentStream.on("timelineStartInfo",function(b){c&&!a.keepOriginalTimestamps&&(c.timelineStartInfo=b,e.audioSegmentStream.setEarliestDts(b.dts-d.baseMediaDecodeTime))}),e.videoSegmentStream.on("processedGopsInfo",d.trigger.bind(d,"gopInfo")),e.videoSegmentStream.on("segmentTimingInfo",d.trigger.bind(d,"videoSegmentTimingInfo")),e.videoSegmentStream.on("baseMediaDecodeTime",function(a){c&&e.audioSegmentStream.setVideoBaseMediaDecodeTime(a)}),e.videoSegmentStream.on("timingInfo",d.trigger.bind(d,"videoTimingInfo")),e.h264Stream.pipe(e.videoSegmentStream).pipe(e.coalesceStream)),c&&!e.audioSegmentStream&&(e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new Kb(c,a),e.audioSegmentStream.on("log",d.getLogTrigger_("audioSegmentStream")),e.audioSegmentStream.on("timingInfo",d.trigger.bind(d,"audioTimingInfo")),e.audioSegmentStream.on("segmentTimingInfo",d.trigger.bind(d,"audioSegmentTimingInfo")),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream)),d.trigger("trackinfo",{hasAudio:!!c,hasVideo:!!b})}}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("id3Frame",function(a){a.dispatchType=e.metadataStream.dispatchType,d.trigger("id3Frame",a)}),e.coalesceStream.on("caption",this.trigger.bind(this,"caption")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(d){var e=this.transmuxPipeline_;a.keepOriginalTimestamps||(this.baseMediaDecodeTime=d),c&&(c.timelineStartInfo.dts=void 0,c.timelineStartInfo.pts=void 0,va.clearDtsInfo(c),e.audioTimestampRolloverStream&&e.audioTimestampRolloverStream.discontinuity()),b&&(e.videoSegmentStream&&(e.videoSegmentStream.gopCache_=[]),b.timelineStartInfo.dts=void 0,b.timelineStartInfo.pts=void 0,va.clearDtsInfo(b),e.captionStream.reset()),e.timestampRolloverStream&&e.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(a){c&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(a)},this.setRemux=function(b){var c=this.transmuxPipeline_;a.remux=b,c&&c.coalesceStream&&c.coalesceStream.setRemux(b)},this.alignGopsWith=function(a){b&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(a)},this.getLogTrigger_=function(a){var b=this;return function(c){c.stream=a,b.trigger("log",c)}},this.push=function(a){if(e){var b=Tb(a);if(b&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():b||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),this.transmuxPipeline_)for(var c=Object.keys(this.transmuxPipeline_),d=0;d<c.length;d++){var f=c[d];"headOfPipeline"!==f&&this.transmuxPipeline_[f].on&&this.transmuxPipeline_[f].on("log",this.getLogTrigger_(f))}e=!1}this.transmuxPipeline_.headOfPipeline.push(a)},this.flush=function(){e=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Lb.prototype=new L;var Xb,Yb,Zb,$b,_b,ac,bc={Transmuxer:Lb,VideoSegmentStream:Jb,AudioSegmentStream:Kb,AUDIO_PROPERTIES:Pb,VIDEO_PROPERTIES:Rb,generateSegmentTimingInfo:Wb},cc=function(a){return a>>>0},dc=function(a){return("00"+a.toString(16)).slice(-2)},ec={toUnsigned:cc,toHexString:dc},fc=function(a){var b="";return b+=String.fromCharCode(a[0]),b+=String.fromCharCode(a[1]),b+=String.fromCharCode(a[2]),b+=String.fromCharCode(a[3])},gc=fc,hc=ec.toUnsigned,ic=function a(b,c){var d,e,f,g,h,i=[];if(!c.length)return null;for(d=0;d<b.byteLength;)e=hc(b[d]<<24|b[d+1]<<16|b[d+2]<<8|b[d+3]),f=gc(b.subarray(d+4,d+8)),g=e>1?d+e:b.byteLength,f===c[0]&&(1===c.length?i.push(b.subarray(d+8,g)):(h=a(b.subarray(d+8,g),c.slice(1)),h.length&&(i=i.concat(h)))),d=g;return i},jc=ic,kc=ec.toUnsigned,lc=function(a){var b={version:a[0],flags:new Uint8Array(a.subarray(1,4)),baseMediaDecodeTime:kc(a[4]<<24|a[5]<<16|a[6]<<8|a[7])};return 1===b.version&&(b.baseMediaDecodeTime*=Math.pow(2,32),b.baseMediaDecodeTime+=kc(a[8]<<24|a[9]<<16|a[10]<<8|a[11])),b},mc=lc,nc=function(a){return{isLeading:(12&a[0])>>>2,dependsOn:3&a[0],isDependedOn:(192&a[1])>>>6,hasRedundancy:(48&a[1])>>>4,paddingValue:(14&a[1])>>>1,isNonSyncSample:1&a[1],degradationPriority:a[2]<<8|a[3]}},oc=nc,pc=function(a){var b,c={version:a[0],flags:new Uint8Array(a.subarray(1,4)),samples:[]},d=new DataView(a.buffer,a.byteOffset,a.byteLength),e=1&c.flags[2],f=4&c.flags[2],g=1&c.flags[1],h=2&c.flags[1],i=4&c.flags[1],j=8&c.flags[1],k=d.getUint32(4),l=8;for(e&&(c.dataOffset=d.getInt32(l),l+=4),f&&k&&(b={flags:oc(a.subarray(l,l+4))},l+=4,g&&(b.duration=d.getUint32(l),l+=4),h&&(b.size=d.getUint32(l),l+=4),j&&(1===c.version?b.compositionTimeOffset=d.getInt32(l):b.compositionTimeOffset=d.getUint32(l),l+=4),c.samples.push(b),k--);k--;)b={},g&&(b.duration=d.getUint32(l),l+=4),h&&(b.size=d.getUint32(l),l+=4),i&&(b.flags=oc(a.subarray(l,l+4)),l+=4),j&&(1===c.version?b.compositionTimeOffset=d.getInt32(l):b.compositionTimeOffset=d.getUint32(l),l+=4),c.samples.push(b);return c},qc=pc,rc=function(a){var b,c=new DataView(a.buffer,a.byteOffset,a.byteLength),d={version:a[0],flags:new Uint8Array(a.subarray(1,4)),trackId:c.getUint32(4)},e=1&d.flags[2],f=2&d.flags[2],g=8&d.flags[2],h=16&d.flags[2],i=32&d.flags[2],j=65536&d.flags[0],k=131072&d.flags[0];return b=8,e&&(b+=4,d.baseDataOffset=c.getUint32(12),b+=4),f&&(d.sampleDescriptionIndex=c.getUint32(b),b+=4),g&&(d.defaultSampleDuration=c.getUint32(b),b+=4),h&&(d.defaultSampleSize=c.getUint32(b),b+=4),i&&(d.defaultSampleFlags=c.getUint32(b)),j&&(d.durationIsEmpty=!0),!e&&k&&(d.baseDataOffsetIsMoof=!0),d},sc=rc,tc=Ca.discardEmulationPreventionBytes,uc=Qa.CaptionStream,vc=function(a,b){for(var c=a,d=0;d<b.length;d++){var e=b[d];if(c<e.size)return e;c-=e.size}return null},wc=function(a,b,c){var d,e,f,g,h=new DataView(a.buffer,a.byteOffset,a.byteLength),i={logs:[],seiNals:[]};for(e=0;e+4<a.length;e+=f)if(f=h.getUint32(e),e+=4,!(f<=0))switch(31&a[e]){case 6:var j=a.subarray(e+1,e+1+f),k=vc(e,b);if(d={nalUnitType:"sei_rbsp",size:f,data:j,escapedRBSP:tc(j),trackId:c},k)d.pts=k.pts,d.dts=k.dts,g=k;else{if(!g){i.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+e+" for trackId "+c+". See mux.js#223."});break}d.pts=g.pts,d.dts=g.dts}i.seiNals.push(d)}return i},xc=function(a,b,c){var d=b,e=c.defaultSampleDuration||0,f=c.defaultSampleSize||0,g=c.trackId,h=[];return a.forEach(function(a){var b=qc(a),c=b.samples;c.forEach(function(a){void 0===a.duration&&(a.duration=e),void 0===a.size&&(a.size=f),a.trackId=g,a.dts=d,void 0===a.compositionTimeOffset&&(a.compositionTimeOffset=0),a.pts=d+a.compositionTimeOffset,d+=a.duration}),h=h.concat(c)}),h},yc=function(a,b){var c=jc(a,["moof","traf"]),d=jc(a,["mdat"]),e={},f=[];return d.forEach(function(a,b){var d=c[b];f.push({mdat:a,traf:d})}),f.forEach(function(a){var c,d,f=a.mdat,g=a.traf,h=jc(g,["tfhd"]),i=sc(h[0]),j=i.trackId,k=jc(g,["tfdt"]),l=k.length>0?mc(k[0]).baseMediaDecodeTime:0,m=jc(g,["trun"]);b===j&&m.length>0&&(c=xc(m,l,i),d=wc(f,c,j),e[j]||(e[j]={seiNals:[],logs:[]}),e[j].seiNals=e[j].seiNals.concat(d.seiNals),e[j].logs=e[j].logs.concat(d.logs))}),e},zc=function(a,b,c){var d;if(null===b)return null;d=yc(a,b);var e=d[b]||{};return{seiNals:e.seiNals,logs:e.logs,timescale:c}},Ac=function(){var a,b,c,d,e,f,g=!1;this.isInitialized=function(){return g},this.init=function(b){a=new uc,g=!0,f=!!b&&b.isPartial,a.on("data",function(a){a.startTime=a.startPts/d,a.endTime=a.endPts/d,e.captions.push(a),e.captionStreams[a.stream]=!0}),a.on("log",function(a){e.logs.push(a)})},this.isNewInit=function(a,b){return!(a&&0===a.length||b&&"object"==typeof b&&0===Object.keys(b).length)&&(c!==a[0]||d!==b[c])},this.parse=function(a,f,g){var h;if(!this.isInitialized())return null;if(!f||!g)return null;if(this.isNewInit(f,g))c=f[0],d=g[c];else if(null===c||!d)return b.push(a),null;for(;b.length>0;){var i=b.shift();this.parse(i,f,g)}return h=zc(a,c,d),h&&h.logs&&(e.logs=e.logs.concat(h.logs)),null!==h&&h.seiNals?(this.pushNals(h.seiNals),this.flushStream(),e):e.logs.length?{logs:e.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(b){if(!this.isInitialized()||!b||0===b.length)return null;b.forEach(function(b){a.push(b)})},this.flushStream=function(){if(!this.isInitialized())return null;f?a.partialFlush():a.flush()},this.clearParsedCaptions=function(){e.captions=[],e.captionStreams={},e.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;a.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){b=[],c=null,d=null,e?this.clearParsedCaptions():e={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Bc=Ac,Cc=ec.toUnsigned,Dc=ec.toHexString;Xb=function(a){var b={};return jc(a,["moov","trak"]).reduce(function(a,b){var c,d,e,f,g;return(c=jc(b,["tkhd"])[0])?(d=c[0],e=0===d?12:20,f=Cc(c[e]<<24|c[e+1]<<16|c[e+2]<<8|c[e+3]),(g=jc(b,["mdia","mdhd"])[0])?(d=g[0],e=0===d?12:20,a[f]=Cc(g[e]<<24|g[e+1]<<16|g[e+2]<<8|g[e+3]),a):null):null},b)},Yb=function(a,b){var c,d,e;return c=jc(b,["moof","traf"]),d=[].concat.apply([],c.map(function(b){return jc(b,["tfhd"]).map(function(c){var d,e,f;return d=Cc(c[4]<<24|c[5]<<16|c[6]<<8|c[7]),e=a[d]||9e4,f=jc(b,["tfdt"]).map(function(a){var b,c;return b=a[0],c=Cc(a[4]<<24|a[5]<<16|a[6]<<8|a[7]),1===b&&(c*=Math.pow(2,32),c+=Cc(a[8]<<24|a[9]<<16|a[10]<<8|a[11])),c})[0],(f="number"!=typeof f||isNaN(f)?1/0:f)/e})})),e=Math.min.apply(null,d),isFinite(e)?e:0},Zb=function(a,b){var c,d=jc(b,["moof","traf"]),e=0,f=0;if(d&&d.length){var g=jc(d[0],["tfhd"])[0],h=jc(d[0],["trun"])[0],i=jc(d[0],["tfdt"])[0];if(g){c=sc(g).trackId}if(i){e=mc(i).baseMediaDecodeTime}if(h){var j=qc(h);j.samples&&j.samples.length&&(f=j.samples[0].compositionTimeOffset||0)}}return(e+f)/(a[c]||9e4)},$b=function(a){var b=jc(a,["moov","trak"]),c=[];return b.forEach(function(a){var b=jc(a,["mdia","hdlr"]),d=jc(a,["tkhd"]);b.forEach(function(a,b){var e,f,g,h=gc(a.subarray(8,12)),i=d[b];"vide"===h&&(e=new DataView(i.buffer,i.byteOffset,i.byteLength),f=e.getUint8(0),g=0===f?e.getUint32(12):e.getUint32(20),c.push(g))})}),c},ac=function(a){var b=a[0],c=0===b?12:20;return Cc(a[c]<<24|a[c+1]<<16|a[c+2]<<8|a[c+3])},_b=function(a){var b=jc(a,["moov","trak"]),c=[];return b.forEach(function(a){var b,d,e={},f=jc(a,["tkhd"])[0];f&&(b=new DataView(f.buffer,f.byteOffset,f.byteLength),d=b.getUint8(0),e.id=0===d?b.getUint32(12):b.getUint32(20));var g=jc(a,["mdia","hdlr"])[0];if(g){var h=gc(g.subarray(8,12));e.type="vide"===h?"video":"soun"===h?"audio":h}var i=jc(a,["mdia","minf","stbl","stsd"])[0];if(i){var j=i.subarray(8);e.codec=gc(j.subarray(4,8));var k,l,m=jc(j,[e.codec])[0];m&&(/^[a-z]vc[1-9]$/i.test(e.codec)?(k=m.subarray(78),l=gc(k.subarray(4,8)),"avcC"===l&&k.length>11?(e.codec+=".",e.codec+=Dc(k[9]),e.codec+=Dc(k[10]),e.codec+=Dc(k[11])):e.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(e.codec)?(k=m.subarray(28),l=gc(k.subarray(4,8)),"esds"===l&&k.length>20&&0!==k[19]?(e.codec+="."+Dc(k[19]),e.codec+="."+Dc(k[20]>>>2&63).replace(/^0/,"")):e.codec="mp4a.40.2"):e.codec=e.codec.toLowerCase())}var n=jc(a,["mdia","mdhd"])[0];n&&(e.timescale=ac(n)),c.push(e)}),c};var Ec={findBox:jc,parseType:gc,timescale:Xb,startTime:Yb,compositionStartTime:Zb,videoTrackIds:$b,tracks:_b,getTimescaleFromMediaHeader:ac},Fc=function(a){var b=31&a[1];return b<<=8,b|=a[2]},Gc=function(a){return!!(64&a[1])},Hc=function(a){var b=0;return(48&a[3])>>>4>1&&(b+=a[4]+1),b},Ic=function(a,b){var c=Fc(a);return 0===c?"pat":c===b?"pmt":b?"pes":null},Jc=function(a){var b=Gc(a),c=4+Hc(a);return b&&(c+=a[c]+1),(31&a[c+10])<<8|a[c+11]},Kc=function(a){var b={},c=Gc(a),d=4+Hc(a);if(c&&(d+=a[d]+1),1&a[d+5]){var e,f,g;e=(15&a[d+1])<<8|a[d+2],f=3+e-4,g=(15&a[d+10])<<8|a[d+11];for(var h=12+g;h<f;){var i=d+h;b[(31&a[i+1])<<8|a[i+2]]=a[i],h+=5+((15&a[i+3])<<8|a[i+4])}return b}},Lc=function(a,b){switch(b[Fc(a)]){case Ra.H264_STREAM_TYPE:return"video";case Ra.ADTS_STREAM_TYPE:return"audio";case Ra.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},Mc=function(a){if(!Gc(a))return null;var b=4+Hc(a);if(b>=a.byteLength)return null;var c,d=null;return c=a[b+7],192&c&&(d={},d.pts=(14&a[b+9])<<27|(255&a[b+10])<<20|(254&a[b+11])<<12|(255&a[b+12])<<5|(254&a[b+13])>>>3,d.pts*=4,d.pts+=(6&a[b+13])>>>1,d.dts=d.pts,64&c&&(d.dts=(14&a[b+14])<<27|(255&a[b+15])<<20|(254&a[b+16])<<12|(255&a[b+17])<<5|(254&a[b+18])>>>3,d.dts*=4,d.dts+=(6&a[b+18])>>>1)),d},Nc=function(a){switch(a){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Oc=function(a){for(var b,c=4+Hc(a),d=a.subarray(c),e=0,f=0,g=!1;f<d.byteLength-3;f++)if(1===d[f+2]){e=f+5;break}for(;e<d.byteLength;)switch(d[e]){case 0:if(0!==d[e-1]){e+=2;break}if(0!==d[e-2]){e++;break}f+3!==e-2&&"slice_layer_without_partitioning_rbsp_idr"===(b=Nc(31&d[f+3]))&&(g=!0);do{e++}while(1!==d[e]&&e<d.length);f=e-2,e+=3;break;case 1:if(0!==d[e-1]||0!==d[e-2]){e+=3;break}b=Nc(31&d[f+3]),"slice_layer_without_partitioning_rbsp_idr"===b&&(g=!0),f=e-2,e+=3;break;default:e+=3}return d=d.subarray(f),e-=f,f=0,d&&d.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===(b=Nc(31&d[f+3]))&&(g=!0),g},Pc={parseType:Ic,parsePat:Jc,parsePmt:Kc,parsePayloadUnitStartIndicator:Gc,parsePesType:Lc,parsePesTime:Mc,videoPacketContainsKeyFrame:Oc},Qc=Ya.handleRollover,Rc={};Rc.ts=Pc,Rc.aac=Ib;var Sc=ka.ONE_SECOND_IN_TS,Tc=188,Uc=71,Vc=function(a,b){for(var c,d=0,e=Tc;e<a.byteLength;)if(a[d]!==Uc||a[e]!==Uc)d++,e++;else{switch(c=a.subarray(d,e),Rc.ts.parseType(c,b.pid)){case"pat":b.pid=Rc.ts.parsePat(c);break;case"pmt":var f=Rc.ts.parsePmt(c);b.table=b.table||{},Object.keys(f).forEach(function(a){b.table[a]=f[a]})}d+=Tc,e+=Tc}},Wc=function(a,b,c){for(var d,e,f,g,h=0,i=Tc,j=!1;i<=a.byteLength;)if(a[h]!==Uc||a[i]!==Uc&&i!==a.byteLength)h++,i++;else{switch(d=a.subarray(h,i),Rc.ts.parseType(d,b.pid)){case"pes":e=Rc.ts.parsePesType(d,b.table),f=Rc.ts.parsePayloadUnitStartIndicator(d),"audio"===e&&f&&(g=Rc.ts.parsePesTime(d))&&(g.type="audio",c.audio.push(g),j=!0)}if(j)break;h+=Tc,i+=Tc}for(i=a.byteLength,h=i-Tc,j=!1;h>=0;)if(a[h]!==Uc||a[i]!==Uc&&i!==a.byteLength)h--,i--;else{switch(d=a.subarray(h,i),Rc.ts.parseType(d,b.pid)){case"pes":e=Rc.ts.parsePesType(d,b.table),f=Rc.ts.parsePayloadUnitStartIndicator(d),"audio"===e&&f&&(g=Rc.ts.parsePesTime(d))&&(g.type="audio",c.audio.push(g),j=!0)}if(j)break;h-=Tc,i-=Tc}},Xc=function(a,b,c){for(var d,e,f,g,h,i,j,k=0,l=Tc,m=!1,n={data:[],size:0};l<a.byteLength;)if(a[k]!==Uc||a[l]!==Uc)k++,l++;else{switch(d=a.subarray(k,l),Rc.ts.parseType(d,b.pid)){case"pes":if(e=Rc.ts.parsePesType(d,b.table),f=Rc.ts.parsePayloadUnitStartIndicator(d),"video"===e&&(f&&!m&&(g=Rc.ts.parsePesTime(d))&&(g.type="video",c.video.push(g),m=!0),!c.firstKeyFrame)){if(f&&0!==n.size){for(h=new Uint8Array(n.size),i=0;n.data.length;)j=n.data.shift(),h.set(j,i),i+=j.byteLength;if(Rc.ts.videoPacketContainsKeyFrame(h)){var o=Rc.ts.parsePesTime(h);o?(c.firstKeyFrame=o,c.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}n.size=0}n.data.push(d),n.size+=d.byteLength}}if(m&&c.firstKeyFrame)break;k+=Tc,l+=Tc}for(l=a.byteLength,k=l-Tc,m=!1;k>=0;)if(a[k]!==Uc||a[l]!==Uc)k--,l--;else{switch(d=a.subarray(k,l),Rc.ts.parseType(d,b.pid)){case"pes":e=Rc.ts.parsePesType(d,b.table),f=Rc.ts.parsePayloadUnitStartIndicator(d),"video"===e&&f&&(g=Rc.ts.parsePesTime(d))&&(g.type="video",c.video.push(g),m=!0)}if(m)break;k-=Tc,l-=Tc}},Yc=function(a,b){if(a.audio&&a.audio.length){var c=b;(void 0===c||isNaN(c))&&(c=a.audio[0].dts),a.audio.forEach(function(a){a.dts=Qc(a.dts,c),a.pts=Qc(a.pts,c),a.dtsTime=a.dts/Sc,a.ptsTime=a.pts/Sc})}if(a.video&&a.video.length){var d=b;if((void 0===d||isNaN(d))&&(d=a.video[0].dts),a.video.forEach(function(a){a.dts=Qc(a.dts,d),a.pts=Qc(a.pts,d),a.dtsTime=a.dts/Sc,a.ptsTime=a.pts/Sc}),a.firstKeyFrame){var e=a.firstKeyFrame;e.dts=Qc(e.dts,d),e.pts=Qc(e.pts,d),e.dtsTime=e.dts/Sc,e.ptsTime=e.pts/Sc}}},Zc=function(a){for(var b,c=!1,d=0,e=null,f=null,g=0,h=0;a.length-h>=3;){switch(Rc.aac.parseType(a,h)){case"timed-metadata":if(a.length-h<10){c=!0;break}if((g=Rc.aac.parseId3TagSize(a,h))>a.length){c=!0;break}null===f&&(b=a.subarray(h,h+g),f=Rc.aac.parseAacTimestamp(b)),h+=g;break;case"audio":if(a.length-h<7){c=!0;break}if((g=Rc.aac.parseAdtsSize(a,h))>a.length){c=!0;break}null===e&&(b=a.subarray(h,h+g),e=Rc.aac.parseSampleRate(b)),d++,h+=g;break;default:h++}if(c)return null}if(null===e||null===f)return null;var i=Sc/e;return{audio:[{type:"audio",dts:f,pts:f},{type:"audio",dts:f+1024*d*i,pts:f+1024*d*i}]}},$c=function(a){var b={pid:null,table:null},c={};Vc(a,b);for(var d in b.table)if(b.table.hasOwnProperty(d)){var e=b.table[d];switch(e){case Ra.H264_STREAM_TYPE:c.video=[],Xc(a,b,c),0===c.video.length&&delete c.video;break;case Ra.ADTS_STREAM_TYPE:c.audio=[],Wc(a,b,c),0===c.audio.length&&delete c.audio}}return c},_c=function(a,b){var c,d=Rc.aac.isLikelyAacData(a);return(c=d?Zc(a):$c(a))&&(c.audio||c.video)?(Yc(c,b),c):null},ad={inspect:_c,parseAudioPes_:Wc},bd=function(a,b){b.on("data",function(b){var c=b.initSegment;b.initSegment={data:c.buffer,byteOffset:c.byteOffset,byteLength:c.byteLength};var d=b.data;b.data=d.buffer,a.postMessage({action:"data",segment:b,byteOffset:d.byteOffset,byteLength:d.byteLength},[b.data])}),b.on("done",function(b){a.postMessage({action:"done"})}),b.on("gopInfo",function(b){a.postMessage({action:"gopInfo",gopInfo:b})}),b.on("videoSegmentTimingInfo",function(b){var c={start:{decode:ka.videoTsToSeconds(b.start.dts),presentation:ka.videoTsToSeconds(b.start.pts)},end:{decode:ka.videoTsToSeconds(b.end.dts),presentation:ka.videoTsToSeconds(b.end.pts)},baseMediaDecodeTime:ka.videoTsToSeconds(b.baseMediaDecodeTime)};b.prependedContentDuration&&(c.prependedContentDuration=ka.videoTsToSeconds(b.prependedContentDuration)),a.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:c})}),b.on("audioSegmentTimingInfo",function(b){var c={start:{decode:ka.videoTsToSeconds(b.start.dts),presentation:ka.videoTsToSeconds(b.start.pts)},end:{decode:ka.videoTsToSeconds(b.end.dts),presentation:ka.videoTsToSeconds(b.end.pts)},baseMediaDecodeTime:ka.videoTsToSeconds(b.baseMediaDecodeTime)};b.prependedContentDuration&&(c.prependedContentDuration=ka.videoTsToSeconds(b.prependedContentDuration)),a.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:c})}),b.on("id3Frame",function(b){a.postMessage({action:"id3Frame",id3Frame:b})}),b.on("caption",function(b){a.postMessage({action:"caption",caption:b})}),b.on("trackinfo",function(b){a.postMessage({action:"trackinfo",trackInfo:b})}),b.on("audioTimingInfo",function(b){a.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:ka.videoTsToSeconds(b.start),end:ka.videoTsToSeconds(b.end)}})}),b.on("videoTimingInfo",function(b){a.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:ka.videoTsToSeconds(b.start),end:ka.videoTsToSeconds(b.end)}})}),b.on("log",function(b){a.postMessage({action:"log",log:b})})},cd=function(){function a(a,b){this.options=b||{},this.self=a,this.init()}var b=a.prototype;return b.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new bc.Transmuxer(this.options),bd(this.self,this.transmuxer)},b.pushMp4Captions=function(a){this.captionParser||(this.captionParser=new Bc,this.captionParser.init());var b=new Uint8Array(a.data,a.byteOffset,a.byteLength),c=this.captionParser.parse(b,a.trackIds,a.timescales);this.self.postMessage({action:"mp4Captions",captions:c&&c.captions||[],logs:c&&c.logs||[],data:b.buffer},[b.buffer])},b.probeMp4StartTime=function(a){var b=a.timescales,c=a.data,d=Ec.startTime(b,c);this.self.postMessage({action:"probeMp4StartTime",startTime:d,data:c},[c.buffer])},b.probeMp4Tracks=function(a){var b=a.data,c=Ec.tracks(b);this.self.postMessage({action:"probeMp4Tracks",tracks:c,data:b},[b.buffer])},b.probeTs=function(a){var b=a.data,c=a.baseStartTime,d="number"!=typeof c||isNaN(c)?void 0:c*ka.ONE_SECOND_IN_TS,e=ad.inspect(b,d),f=null;e&&(f={hasVideo:e.video&&2===e.video.length||!1,hasAudio:e.audio&&2===e.audio.length||!1},f.hasVideo&&(f.videoStart=e.video[0].ptsTime),f.hasAudio&&(f.audioStart=e.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:f,data:b},[b.buffer])},b.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},b.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},b.push=function(a){var b=new Uint8Array(a.data,a.byteOffset,a.byteLength);this.transmuxer.push(b)},b.reset=function(){this.transmuxer.reset()},b.setTimestampOffset=function(a){var b=a.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(ka.secondsToVideoTs(b)))},b.setAudioAppendStart=function(a){this.transmuxer.setAudioAppendStart(Math.ceil(ka.secondsToVideoTs(a.appendStart)))},b.setRemux=function(a){this.transmuxer.setRemux(a.remux)},b.flush=function(a){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},b.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},b.alignGopsWith=function(a){this.transmuxer.alignGopsWith(a.gopsToAlignWith.slice())},a}();self.onmessage=function(a){if("init"===a.data.action&&a.data.options)return void(this.messageHandlers=new cd(self,a.data.options));this.messageHandlers||(this.messageHandlers=new cd(self)),a.data&&a.data.action&&"init"!==a.data.action&&this.messageHandlers[a.data.action]&&this.messageHandlers[a.data.action](a.data)}})),Hh=Dh(Gh),Ih=function(a,b,c){var d=a.data.segment,e=d.type,f=d.initSegment,g=d.captions,h=d.captionStreams,i=d.metadata,j=d.videoFrameDtsTime,k=d.videoFramePtsTime;b.buffer.push({captions:g,captionStreams:h,metadata:i});var l=a.data.segment.boxes||{data:a.data.segment.data},m={type:e,data:new Uint8Array(l.data,l.data.byteOffset,l.data.byteLength),initSegment:new Uint8Array(f.data,f.byteOffset,f.byteLength)};void 0!==j&&(m.videoFrameDtsTime=j),void 0!==k&&(m.videoFramePtsTime=k),c(m)},Jh=function(a){var b=a.transmuxedData,c=a.callback;b.buffer=[],c(b)},Kh=function(a,b){b.gopInfo=a.data.gopInfo},Lh=function(a){var b=a.transmuxer,c=a.bytes,d=a.audioAppendStart,e=a.gopsToAlignWith,f=a.remux,g=a.onData,h=a.onTrackInfo,i=a.onAudioTimingInfo,j=a.onVideoTimingInfo,k=a.onVideoSegmentTimingInfo,l=a.onAudioSegmentTimingInfo,m=a.onId3,n=a.onCaptions,o=a.onDone,p=a.onEndedTimeline,q=a.onTransmuxerLog,r=a.isEndOfTimeline,s={buffer:[]},t=r,u=function(c){b.currentTransmux===a&&("data"===c.data.action&&Ih(c,s,g),"trackinfo"===c.data.action&&h(c.data.trackInfo),"gopInfo"===c.data.action&&Kh(c,s),"audioTimingInfo"===c.data.action&&i(c.data.audioTimingInfo),"videoTimingInfo"===c.data.action&&j(c.data.videoTimingInfo),"videoSegmentTimingInfo"===c.data.action&&k(c.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===c.data.action&&l(c.data.audioSegmentTimingInfo),"id3Frame"===c.data.action&&m([c.data.id3Frame],c.data.id3Frame.dispatchType),"caption"===c.data.action&&n(c.data.caption),"endedtimeline"===c.data.action&&(t=!1,p()),"log"===c.data.action&&q(c.data.log),"transmuxed"===c.data.type&&(t||(b.onmessage=null,Jh({transmuxedData:s,callback:o}),Mh(b))))};if(b.onmessage=u,d&&b.postMessage({action:"setAudioAppendStart",appendStart:d}),Array.isArray(e)&&b.postMessage({action:"alignGopsWith",gopsToAlignWith:e}),void 0!==f&&b.postMessage({action:"setRemux",remux:f}),c.byteLength){var v=c instanceof ArrayBuffer?c:c.buffer,w=c instanceof ArrayBuffer?0:c.byteOffset;b.postMessage({action:"push",data:v,byteOffset:w,byteLength:c.byteLength},[v])}r&&b.postMessage({action:"endTimeline"}),b.postMessage({action:"flush"})},Mh=function(a){a.currentTransmux=null,a.transmuxQueue.length&&(a.currentTransmux=a.transmuxQueue.shift(),"function"==typeof a.currentTransmux?a.currentTransmux():Lh(a.currentTransmux))},Nh=function(a,b){a.postMessage({action:b}),Mh(a)},Oh=function(a,b){if(!b.currentTransmux)return b.currentTransmux=a,void Nh(b,a);b.transmuxQueue.push(Nh.bind(null,b,a))},Ph=function(a){Oh("reset",a)},Qh=function(a){Oh("endTimeline",a)},Rh=function(a){if(!a.transmuxer.currentTransmux)return a.transmuxer.currentTransmux=a,void Lh(a);a.transmuxer.transmuxQueue.push(a)},Sh=function(a){var b=new Hh;b.currentTransmux=null,b.transmuxQueue=[];var c=b.terminate;return b.terminate=function(){return b.currentTransmux=null,b.transmuxQueue.length=0,c.call(b)},b.postMessage({action:"init",options:a}),b},Th={reset:Ph,endTimeline:Qh,transmux:Rh,createTransmuxer:Sh},Uh=function(a){var b=a.transmuxer,c=a.endAction||a.action,d=a.callback,e=cb.default({},a,{endAction:null,transmuxer:null,callback:null}),f=function e(f){f.data.action===c&&(b.removeEventListener("message",e),f.data.data&&(f.data.data=new Uint8Array(f.data.data,a.byteOffset||0,a.byteLength||f.data.data.byteLength),a.data&&(a.data=f.data.data)),d(f.data))};if(b.addEventListener("message",f),a.data){var g=a.data instanceof ArrayBuffer;e.byteOffset=g?0:a.data.byteOffset,e.byteLength=a.data.byteLength;var h=[g?a.data:a.data.buffer];b.postMessage(e,h)}else b.postMessage(e)},Vh={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Wh=function(a){a.forEach(function(a){a.abort()})},Xh=function(a){return{bandwidth:a.bandwidth,bytesReceived:a.bytesReceived||0,roundTripTime:a.roundTripTime||0}},Yh=function(a){var b=a.target,c=Date.now()-b.requestTime,d={bandwidth:1/0,bytesReceived:0,roundTripTime:c||0};return d.bytesReceived=a.loaded,d.bandwidth=Math.floor(d.bytesReceived/d.roundTripTime*8*1e3),d},Zh=function(a,b){return b.timedout?{status:b.status,message:"HLS request timed-out at URL: "+b.uri,code:Vh.TIMEOUT,xhr:b}:b.aborted?{status:b.status,message:"HLS request aborted at URL: "+b.uri,code:Vh.ABORTED,xhr:b}:a?{status:b.status,message:"HLS request errored at URL: "+b.uri,code:Vh.FAILURE,xhr:b}:"arraybuffer"===b.responseType&&0===b.response.byteLength?{status:b.status,message:"Empty HLS response at URL: "+b.uri,code:Vh.FAILURE,xhr:b}:null},$h=function(a,b,c){return function(d,e){var f=e.response,g=Zh(d,e);if(g)return c(g,a);if(16!==f.byteLength)return c({status:e.status,message:"Invalid HLS key at URL: "+e.uri,code:Vh.FAILURE,xhr:e},a);for(var h=new DataView(f),i=new Uint32Array([h.getUint32(0),h.getUint32(4),h.getUint32(8),h.getUint32(12)]),j=0;j<b.length;j++)b[j].bytes=i;return c(null,a)}},_h=function(a,b){var c=Za.detectContainerForBytes(a.map.bytes);if("mp4"!==c){var d=a.map.resolvedUri||a.map.uri;return b({internal:!0,message:"Found unsupported "+(c||"unknown")+" container for initialization segment at URL: "+d,code:Vh.FAILURE})}Uh({action:"probeMp4Tracks",data:a.map.bytes,transmuxer:a.transmuxer,callback:function(c){var d=c.tracks,e=c.data;return a.map.bytes=e,d.forEach(function(b){a.map.tracks=a.map.tracks||{},a.map.tracks[b.type]||(a.map.tracks[b.type]=b,"number"==typeof b.id&&b.timescale&&(a.map.timescales=a.map.timescales||{},a.map.timescales[b.id]=b.timescale))}),b(null)}})},ai=function(a){var b=a.segment,c=a.finishProcessingFn;return function(a,d){var e=Zh(a,d);if(e)return c(e,b);var f=new Uint8Array(d.response);if(b.map.key)return b.map.encryptedBytes=f,c(null,b);b.map.bytes=f,_h(b,function(a){if(a)return a.xhr=d,a.status=d.status,c(a,b);c(null,b)})}},bi=function(a){var b=a.segment,c=a.finishProcessingFn,d=a.responseType;return function(a,e){var f=Zh(a,e);if(f)return c(f,b);var g="arraybuffer"!==d&&e.responseText?Ah(e.responseText.substring(b.lastReachedChar||0)):e.response;return b.stats=Xh(e),b.key?b.encryptedBytes=new Uint8Array(g):b.bytes=new Uint8Array(g),c(null,b)}},ci=function(a){var b=a.segment,c=a.bytes,d=a.trackInfoFn,e=a.timingInfoFn,f=a.videoSegmentTimingInfoFn,g=a.audioSegmentTimingInfoFn,h=a.id3Fn,i=a.captionsFn,j=a.isEndOfTimeline,k=a.endedTimelineFn,l=a.dataFn,m=a.doneFn,n=a.onTransmuxerLog,o=b.map&&b.map.tracks||{},p=Boolean(o.audio&&o.video),q=e.bind(null,b,"audio","start"),r=e.bind(null,b,"audio","end"),s=e.bind(null,b,"video","start"),t=e.bind(null,b,"video","end"),u=function(){return Rh({bytes:c,transmuxer:b.transmuxer,audioAppendStart:b.audioAppendStart,gopsToAlignWith:b.gopsToAlignWith,remux:p,onData:function(a){a.type="combined"===a.type?"video":a.type,l(b,a)},onTrackInfo:function(a){d&&(p&&(a.isMuxed=!0),d(b,a))},onAudioTimingInfo:function(a){q&&void 0!==a.start&&(q(a.start),q=null),r&&void 0!==a.end&&r(a.end)},onVideoTimingInfo:function(a){s&&void 0!==a.start&&(s(a.start),s=null),t&&void 0!==a.end&&t(a.end)},onVideoSegmentTimingInfo:function(a){f(a)},onAudioSegmentTimingInfo:function(a){g(a)},onId3:function(a,c){h(b,a,c)},onCaptions:function(a){i(b,[a])},isEndOfTimeline:j,onEndedTimeline:function(){k()},onTransmuxerLog:n,onDone:function(a){m&&(a.type="combined"===a.type?"video":a.type,m(null,b,a))}})};Uh({action:"probeTs",transmuxer:b.transmuxer,data:c,baseStartTime:b.baseStartTime,callback:function(a){b.bytes=c=a.data;var e=a.result;e&&(d(b,{hasAudio:e.hasAudio,hasVideo:e.hasVideo,isMuxed:p}),d=null,e.hasAudio&&!p&&q(e.audioStart),e.hasVideo&&s(e.videoStart),q=null,s=null),u()}})},di=function(a){var b=a.segment,c=a.bytes,d=a.trackInfoFn,e=a.timingInfoFn,f=a.videoSegmentTimingInfoFn,g=a.audioSegmentTimingInfoFn,h=a.id3Fn,i=a.captionsFn,j=a.isEndOfTimeline,k=a.endedTimelineFn,l=a.dataFn,m=a.doneFn,n=a.onTransmuxerLog,o=new Uint8Array(c);if(Za.isLikelyFmp4MediaSegment(o)){b.isFmp4=!0;var p=b.map.tracks,q={isFmp4:!0,hasVideo:!!p.video,hasAudio:!!p.audio};p.audio&&p.audio.codec&&"enca"!==p.audio.codec&&(q.audioCodec=p.audio.codec),p.video&&p.video.codec&&"encv"!==p.video.codec&&(q.videoCodec=p.video.codec),p.video&&p.audio&&(q.isMuxed=!0),d(b,q);var r=function(a){l(b,{data:o,type:q.hasAudio&&!q.isMuxed?"audio":"video"}),a&&a.length&&i(b,a),m(null,b,{})};return void Uh({action:"probeMp4StartTime",timescales:b.map.timescales,data:o,transmuxer:b.transmuxer,callback:function(a){var d=a.data,f=a.startTime;if(c=d.buffer,b.bytes=o=d,q.hasAudio&&!q.isMuxed&&e(b,"audio","start",f),q.hasVideo&&e(b,"video","start",f),!p.video||!d.byteLength||!b.transmuxer)return void r();Uh({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:b.transmuxer,data:o,timescales:b.map.timescales,trackIds:[p.video.id],callback:function(a){c=a.data.buffer,b.bytes=o=a.data,a.logs.forEach(function(a){n(Ea.mergeOptions(a,{stream:"mp4CaptionParser"}))}),r(a.captions)}})}})}return b.transmuxer?(void 0===b.container&&(b.container=Za.detectContainerForBytes(o)),"ts"!==b.container&&"aac"!==b.container?(d(b,{hasAudio:!1,hasVideo:!1}),void m(null,b,{})):void ci({segment:b,bytes:c,trackInfoFn:d,timingInfoFn:e,videoSegmentTimingInfoFn:f,audioSegmentTimingInfoFn:g,id3Fn:h,captionsFn:i,isEndOfTimeline:j,endedTimelineFn:k,dataFn:l,doneFn:m,onTransmuxerLog:n})):void m(null,b,{})},ei=function(a,b){var c=a.id,d=a.key,e=a.encryptedBytes,f=a.decryptionWorker,g=function a(d){if(d.data.source===c){f.removeEventListener("message",a);var e=d.data.decrypted;b(new Uint8Array(e.bytes,e.byteOffset,e.byteLength))}};f.addEventListener("message",g);var h;h=d.bytes.slice?d.bytes.slice():new Uint32Array(Array.prototype.slice.call(d.bytes)),f.postMessage($g({source:c,encrypted:e,key:h,iv:d.iv}),[e.buffer,h.buffer])},fi=function(a){var b=a.decryptionWorker,c=a.segment,d=a.trackInfoFn,e=a.timingInfoFn,f=a.videoSegmentTimingInfoFn,g=a.audioSegmentTimingInfoFn,h=a.id3Fn,i=a.captionsFn,j=a.isEndOfTimeline,k=a.endedTimelineFn,l=a.dataFn,m=a.doneFn,n=a.onTransmuxerLog;ei({id:c.requestId,key:c.key,encryptedBytes:c.encryptedBytes,decryptionWorker:b},function(a){c.bytes=a,di({segment:c,bytes:c.bytes,trackInfoFn:d,timingInfoFn:e,videoSegmentTimingInfoFn:f,audioSegmentTimingInfoFn:g,id3Fn:h,captionsFn:i,isEndOfTimeline:j,endedTimelineFn:k,dataFn:l,doneFn:m,onTransmuxerLog:n})})},gi=function(a){var b=a.activeXhrs,c=a.decryptionWorker,d=a.trackInfoFn,e=a.timingInfoFn,f=a.videoSegmentTimingInfoFn,g=a.audioSegmentTimingInfoFn,h=a.id3Fn,i=a.captionsFn,j=a.isEndOfTimeline,k=a.endedTimelineFn,l=a.dataFn,m=a.doneFn,n=a.onTransmuxerLog,o=0,p=!1;return function(a,q){if(!p){if(a)return p=!0,Wh(b),m(a,q);if((o+=1)===b.length){var r=function(){if(q.encryptedBytes)return fi({decryptionWorker:c,segment:q,trackInfoFn:d,timingInfoFn:e,videoSegmentTimingInfoFn:f,audioSegmentTimingInfoFn:g,id3Fn:h,captionsFn:i,isEndOfTimeline:j,endedTimelineFn:k,dataFn:l,doneFn:m,onTransmuxerLog:n});di({segment:q,bytes:q.bytes,trackInfoFn:d,timingInfoFn:e,videoSegmentTimingInfoFn:f,audioSegmentTimingInfoFn:g,id3Fn:h,captionsFn:i,isEndOfTimeline:j,endedTimelineFn:k,dataFn:l,doneFn:m,onTransmuxerLog:n})};if(q.endOfAllRequests=Date.now(),q.map&&q.map.encryptedBytes&&!q.map.bytes)return ei({decryptionWorker:c,id:q.requestId+"-init",encryptedBytes:q.map.encryptedBytes,key:q.map.key},function(a){q.map.bytes=a,_h(q,function(a){if(a)return Wh(b),m(a,q);r()})});r()}}}},hi=function(a){var b=a.loadendState,c=a.abortFn;return function(a){a.target.aborted&&c&&!b.calledAbortFn&&(c(),b.calledAbortFn=!0)}},ii=function(a){var b=a.segment,c=a.progressFn;return a.trackInfoFn,a.timingInfoFn,a.videoSegmentTimingInfoFn,a.audioSegmentTimingInfoFn,a.id3Fn,a.captionsFn,a.isEndOfTimeline,a.endedTimelineFn,a.dataFn,function(a){if(!a.target.aborted)return b.stats=Ea.mergeOptions(b.stats,Yh(a)),!b.stats.firstBytesReceivedAt&&b.stats.bytesReceived&&(b.stats.firstBytesReceivedAt=Date.now()),c(a,b)}},ji=function(a){var b=a.xhr,c=a.xhrOptions,d=a.decryptionWorker,e=a.segment,f=a.abortFn,g=a.progressFn,h=a.trackInfoFn,i=a.timingInfoFn,j=a.videoSegmentTimingInfoFn,k=a.audioSegmentTimingInfoFn,l=a.id3Fn,m=a.captionsFn,n=a.isEndOfTimeline,o=a.endedTimelineFn,p=a.dataFn,q=a.doneFn,r=a.onTransmuxerLog,s=[],t=gi({activeXhrs:s,decryptionWorker:d,trackInfoFn:h,timingInfoFn:i,videoSegmentTimingInfoFn:j,audioSegmentTimingInfoFn:k,id3Fn:l,captionsFn:m,isEndOfTimeline:n,endedTimelineFn:o,dataFn:p,doneFn:q,onTransmuxerLog:r});if(e.key&&!e.key.bytes){var u=[e.key];e.map&&!e.map.bytes&&e.map.key&&e.map.key.resolvedUri===e.key.resolvedUri&&u.push(e.map.key);var v=Ea.mergeOptions(c,{uri:e.key.resolvedUri,responseType:"arraybuffer"}),w=$h(e,u,t),x=b(v,w);s.push(x)}if(e.map&&!e.map.bytes){if(e.map.key&&(!e.key||e.key.resolvedUri!==e.map.key.resolvedUri)){var y=Ea.mergeOptions(c,{uri:e.map.key.resolvedUri,responseType:"arraybuffer"}),z=$h(e,[e.map.key],t),A=b(y,z);s.push(A)}var B=Ea.mergeOptions(c,{uri:e.map.resolvedUri,responseType:"arraybuffer",headers:Wg(e.map)}),C=ai({segment:e,finishProcessingFn:t}),D=b(B,C);s.push(D)}var E=Ea.mergeOptions(c,{uri:e.part&&e.part.resolvedUri||e.resolvedUri,responseType:"arraybuffer",headers:Wg(e)}),F=bi({segment:e,finishProcessingFn:t,responseType:E.responseType}),G=b(E,F);G.addEventListener("progress",ii({segment:e,progressFn:g,trackInfoFn:h,timingInfoFn:i,videoSegmentTimingInfoFn:j,audioSegmentTimingInfoFn:k,id3Fn:l,captionsFn:m,isEndOfTimeline:n,endedTimelineFn:o,dataFn:p})),s.push(G);var H={};return s.forEach(function(a){a.addEventListener("loadend",hi({loadendState:H,abortFn:f}))}),function(){return Wh(s)}},ki=Nf("CodecUtils"),li=function(a){var b=a.attributes||{};if(b.CODECS)return Ua.parseCodecs(b.CODECS)},mi=function(a,b){var c=b.attributes||{};return a&&a.mediaGroups&&a.mediaGroups.AUDIO&&c.AUDIO&&a.mediaGroups.AUDIO[c.AUDIO]},ni=function(a,b){if(!mi(a,b))return!0;var c=b.attributes||{},d=a.mediaGroups.AUDIO[c.AUDIO];for(var e in d)if(!d[e].uri&&!d[e].playlists)return!0;return!1},oi=function(a){var b={};return a.forEach(function(a){var c=a.mediaType,d=a.type,e=a.details;b[c]=b[c]||[],b[c].push(Ua.translateLegacyCodec(""+d+e))}),Object.keys(b).forEach(function(a){if(b[a].length>1)return ki("multiple "+a+" codecs found as attributes: "+b[a].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),void(b[a]=null);b[a]=b[a][0]}),b},pi=function(a){var b=0;return a.audio&&b++,a.video&&b++,b},qi=function(a,b){var c=b.attributes||{},d=oi(li(b)||[]);if(mi(a,b)&&!d.audio&&!ni(a,b)){var e=oi(Ua.codecsFromDefault(a,c.AUDIO)||[]);e.audio&&(d.audio=e.audio)}return d},ri=Nf("PlaylistSelector"),si=function(a){if(a&&a.playlist){var b=a.playlist;return JSON.stringify({id:b.id,bandwidth:a.bandwidth,width:a.width,height:a.height,codecs:b.attributes&&b.attributes.CODECS||""})}},ti=function(a,b){if(!a)return"";var c=ab.default.getComputedStyle(a);return c?c[b]:""},ui=function(a,b){var c=a.slice();a.sort(function(a,d){var e=b(a,d);return 0===e?c.indexOf(a)-c.indexOf(d):e})},vi=function(a,b){var c,d;return a.attributes.BANDWIDTH&&(c=a.attributes.BANDWIDTH),c=c||ab.default.Number.MAX_VALUE,b.attributes.BANDWIDTH&&(d=b.attributes.BANDWIDTH),d=d||ab.default.Number.MAX_VALUE,c-d},wi=function(a,b){var c,d;return a.attributes.RESOLUTION&&a.attributes.RESOLUTION.width&&(c=a.attributes.RESOLUTION.width),c=c||ab.default.Number.MAX_VALUE,b.attributes.RESOLUTION&&b.attributes.RESOLUTION.width&&(d=b.attributes.RESOLUTION.width),d=d||ab.default.Number.MAX_VALUE,c===d&&a.attributes.BANDWIDTH&&b.attributes.BANDWIDTH?a.attributes.BANDWIDTH-b.attributes.BANDWIDTH:c-d},xi=function(a,b,c,d,e,f){if(a){var g={bandwidth:b,width:c,height:d,limitRenditionByPlayerDimensions:e},h=a.playlists;wg.isAudioOnly(a)&&(h=f.getAudioTrackPlaylists_(),g.audioOnly=!0);var i=h.map(function(a){var b,c=a.attributes&&a.attributes.RESOLUTION&&a.attributes.RESOLUTION.width,d=a.attributes&&a.attributes.RESOLUTION&&a.attributes.RESOLUTION.height;return b=a.attributes&&a.attributes.BANDWIDTH,b=b||ab.default.Number.MAX_VALUE,{bandwidth:b,width:c,height:d,playlist:a}});ui(i,function(a,b){return a.bandwidth-b.bandwidth}),i=i.filter(function(a){return!wg.isIncompatible(a.playlist)});var j=i.filter(function(a){return wg.isEnabled(a.playlist)});j.length||(j=i.filter(function(a){return!wg.isDisabled(a.playlist)}));var k=j.filter(function(a){return a.bandwidth*zh.BANDWIDTH_VARIANCE<b}),l=k[k.length-1],m=k.filter(function(a){return a.bandwidth===l.bandwidth})[0];if(!1===e){var n=m||j[0]||i[0];if(n&&n.playlist){var o="sortedPlaylistReps";return m&&(o="bandwidthBestRep"),j[0]&&(o="enabledPlaylistReps"),ri("choosing "+si(n)+" using "+o+" with options",g),n.playlist}return ri("could not choose a playlist with options",g),null}var p=k.filter(function(a){return a.width&&a.height});ui(p,function(a,b){return a.width-b.width});var q=p.filter(function(a){return a.width===c&&a.height===d});l=q[q.length-1];var r,s,t,u=q.filter(function(a){return a.bandwidth===l.bandwidth})[0];u||(r=p.filter(function(a){return a.width>c||a.height>d}),s=r.filter(function(a){return a.width===r[0].width&&a.height===r[0].height}),l=s[s.length-1],t=s.filter(function(a){return a.bandwidth===l.bandwidth})[0]);var v=t||u||m||j[0]||i[0];if(v&&v.playlist){var w="sortedPlaylistReps";return t?w="resolutionPlusOneRep":u?w="resolutionBestRep":m?w="bandwidthBestRep":j[0]&&(w="enabledPlaylistReps"),ri("choosing "+si(v)+" using "+w+" with options",g),v.playlist}return ri("could not choose a playlist with options",g),null}},yi=function(){var a=this.useDevicePixelRatio?ab.default.devicePixelRatio||1:1;return xi(this.playlists.master,this.systemBandwidth,parseInt(ti(this.tech_.el(),"width"),10)*a,parseInt(ti(this.tech_.el(),"height"),10)*a,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},zi=function(a){var b=-1,c=-1;if(a<0||a>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var d=this.useDevicePixelRatio?ab.default.devicePixelRatio||1:1;return b<0&&(b=this.systemBandwidth,c=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==c&&(b=a*this.systemBandwidth+(1-a)*b,c=this.systemBandwidth),xi(this.playlists.master,b,parseInt(ti(this.tech_.el(),"width"),10)*d,parseInt(ti(this.tech_.el(),"height"),10)*d,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},Ai=function(a){var b=a.master,c=a.currentTime,d=a.bandwidth,e=a.duration,f=a.segmentDuration,g=a.timeUntilRebuffer,h=a.currentTimeline,i=a.syncController,j=b.playlists.filter(function(a){return!wg.isIncompatible(a)}),k=j.filter(wg.isEnabled);k.length||(k=j.filter(function(a){return!wg.isDisabled(a)}));var l=k.filter(wg.hasAttribute.bind(null,"BANDWIDTH")),m=l.map(function(a){var b=i.getSyncPoint(a,e,h,c),j=b?1:2;return{playlist:a,rebufferingImpact:wg.estimateSegmentRequestTime(f,d,a)*j-g}}),n=m.filter(function(a){return a.rebufferingImpact<=0});return ui(n,function(a,b){return vi(b.playlist,a.playlist)}),n.length?n[0]:(ui(m,function(a,b){return a.rebufferingImpact-b.rebufferingImpact}),m[0]||null)},Bi=function(){var a=this,b=this.playlists.master.playlists.filter(wg.isEnabled);return ui(b,function(a,b){return vi(a,b)}),b.filter(function(b){return!!qi(a.playlists.master,b).video})[0]||null},Ci=function(a){var b,c=0;return a.bytes&&(b=new Uint8Array(a.bytes),a.segments.forEach(function(a){b.set(a,c),c+=a.byteLength})),b},Di=function(a,b,c){if(!a[c]){b.trigger({type:"usage",name:"vhs-608"}),b.trigger({type:"usage",name:"hls-608"});var d=c;/^cc708_/.test(c)&&(d="SERVICE"+c.split("_")[1]);var e=b.textTracks().getTrackById(d);if(e)a[c]=e;else{var f=b.options_.vhs&&b.options_.vhs.captionServices||{},g=c,h=c,i=!1,j=f[d];j&&(g=j.label,h=j.language,i=j.default),a[c]=b.addRemoteTextTrack({kind:"captions",id:d,default:i,label:g,language:h},!1).track}}},Ei=function(a){var b=a.inbandTextTracks,c=a.captionArray,d=a.timestampOffset;if(c){var e=ab.default.WebKitDataCue||ab.default.VTTCue;c.forEach(function(a){var c=a.stream;b[c].addCue(new e(a.startTime+d,a.endTime+d,a.text))})}},Fi=function(a){Object.defineProperties(a.frame,{id:{get:function(){return Ea.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),a.value.key}},value:{get:function(){return Ea.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),a.value.data}},privateData:{get:function(){return Ea.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),a.value.data}}})},Gi=function(a){var b=a.inbandTextTracks,c=a.metadataArray,d=a.timestampOffset,e=a.videoDuration;if(c){var f=ab.default.WebKitDataCue||ab.default.VTTCue,g=b.metadataTrack_;if(g&&(c.forEach(function(a){var b=a.cueTime+d;!("number"!=typeof b||ab.default.isNaN(b)||b<0)&&b<1/0&&a.frames.forEach(function(a){var c=new f(b,b,a.value||a.url||a.data||"");c.frame=a,c.value=a,Fi(c),g.addCue(c)})}),g.cues&&g.cues.length)){for(var h=g.cues,i=[],j=0;j<h.length;j++)h[j]&&i.push(h[j]);var k=i.reduce(function(a,b){var c=a[b.startTime]||[];return c.push(b),a[b.startTime]=c,a},{}),l=Object.keys(k).sort(function(a,b){return Number(a)-Number(b)});l.forEach(function(a,b){var c=k[a],d=Number(l[b+1])||e;c.forEach(function(a){a.endTime=d})})}}},Hi=function(a,b,c){a.metadataTrack_||(a.metadataTrack_=c.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,a.metadataTrack_.inBandMetadataTrackDispatchType=b)},Ii=function(a,b,c){var d,e;if(c&&c.cues)for(d=c.cues.length;d--;)e=c.cues[d],e.startTime>=a&&e.endTime<=b&&c.removeCue(e)},Ji=function(a){var b=a.cues;if(b)for(var c=0;c<b.length;c++){for(var d=[],e=0,f=0;f<b.length;f++)b[c].startTime===b[f].startTime&&b[c].endTime===b[f].endTime&&b[c].text===b[f].text&&++e>1&&d.push(b[f]);d.length&&d.forEach(function(b){return a.removeCue(b)})}},Ki=function(a,b,c){if(void 0===b||null===b||!a.length)return[];var d,e=Math.ceil((b-c+3)*_a.ONE_SECOND_IN_TS);for(d=0;d<a.length&&!(a[d].pts>e);d++);return a.slice(d)},Li=function(a,b,c){if(!b.length)return a;if(c)return b.slice();var d=b[0].pts,e=0;for(e;e<a.length&&!(a[e].pts>=d);e++);return a.slice(0,e).concat(b)},Mi=function(a,b,c,d){for(var e=Math.ceil((b-d)*_a.ONE_SECOND_IN_TS),f=Math.ceil((c-d)*_a.ONE_SECOND_IN_TS),g=a.slice(),h=a.length;h--&&!(a[h].pts<=f););if(-1===h)return g;for(var i=h+1;i--&&!(a[i].pts<=e););return i=Math.max(i,0),g.splice(i,h-i+1),g},Ni=function(a,b){if(!a&&!b||!a&&b||a&&!b)return!1;if(a===b)return!0;var c=Object.keys(a).sort(),d=Object.keys(b).sort();if(c.length!==d.length)return!1;for(var e=0;e<c.length;e++){var f=c[e];if(f!==d[e])return!1;if(a[f]!==b[f])return!1}return!0},Oi=22,Pi=function(a,b,c){b=b||[];for(var d=[],e=0,f=0;f<b.length;f++){var g=b[f];if(a===g.timeline&&(d.push(f),(e+=g.duration)>c))return f}return 0===d.length?0:d[d.length-1]},Qi=1,Ri=500,Si=function(a){return"number"==typeof a&&isFinite(a)},Ti=1/60,Ui=function(a,b,c){return"main"===a&&b&&c?c.hasAudio||c.hasVideo?b.hasVideo&&!c.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!b.hasVideo&&c.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null},Vi=function(a,b,c){var d=b-zh.BACK_BUFFER_LENGTH;a.length&&(d=Math.max(d,a.start(0)));var e=b-c;return Math.min(e,d)},Wi=function(a){var b=a.startOfSegment,c=a.duration,d=a.segment,e=a.part,f=a.playlist,g=f.mediaSequence,h=f.id,i=f.segments,j=void 0===i?[]:i,k=a.mediaIndex,l=a.partIndex,m=a.timeline,n=j.length-1,o="mediaIndex/partIndex increment";a.getMediaInfoForTime?o="getMediaInfoForTime ("+a.getMediaInfoForTime+")":a.isSyncRequest&&(o="getSyncSegmentCandidate (isSyncRequest)");var p="number"==typeof l,q=a.segment.uri?"segment":"pre-segment",r=p?bg({preloadSegment:d})-1:0;return q+" ["+(g+k)+"/"+(g+n)+"]"+(p?" part ["+l+"/"+r+"]":"")+" segment start/end ["+d.start+" => "+d.end+"]"+(p?" part start/end ["+e.start+" => "+e.end+"]":"")+" startOfSegment ["+b+"] duration ["+c+"] timeline ["+m+"] selected by ["+o+"] playlist ["+h+"]"},Xi=function(a){return a+"TimingInfo"},Yi=function(a){var b=a.segmentTimeline,c=a.currentTimeline,d=a.startOfSegment,e=a.buffered;return a.overrideCheck||b!==c?b<c?d:e.length?e.end(e.length-1):d:null},Zi=function(a){var b=a.timelineChangeController,c=a.currentTimeline,d=a.segmentTimeline,e=a.loaderType,f=a.audioDisabled;if(c===d)return!1;if("audio"===e){var g=b.lastTimelineChange({type:"main"});return!g||g.to!==d}if("main"===e&&f){var h=b.pendingTimelineChange({type:"audio"});return!h||h.to!==d}return!1},$i=function(a,b){var c=a&&"number"==typeof a.start&&"number"==typeof a.end?a.end-a.start:0,d=b&&"number"==typeof b.start&&"number"==typeof b.end?b.end-b.start:0;return Math.max(c,d)},_i=function(a){var b=a.segmentDuration,c=a.maxDuration;return!!b&&Math.round(b)>c+Of},aj=function(a,b){if("hls"!==b)return null;var c=$i(a.audioTimingInfo,a.videoTimingInfo);if(!c)return null;var d=a.playlist.targetDuration,e=_i({segmentDuration:c,maxDuration:2*d}),f=_i({segmentDuration:c,maxDuration:d}),g="Segment with index "+a.mediaIndex+" from playlist "+a.playlist.id+" has a duration of "+c+" when the reported duration is "+a.duration+" and the target duration is "+d+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return e||f?{severity:e?"warn":"info",message:g}:null},bj=function(a){function b(b,c){var d;if(d=a.call(this)||this,!b)throw new TypeError("Initialization settings are required");if("function"!=typeof b.currentTime)throw new TypeError("No currentTime getter specified");if(!b.mediaSource)throw new TypeError("No MediaSource specified");return d.bandwidth=b.bandwidth,d.throughput={rate:0,count:0},d.roundTrip=NaN,d.resetStats_(),d.mediaIndex=null,d.partIndex=null,d.hasPlayed_=b.hasPlayed,d.currentTime_=b.currentTime,d.seekable_=b.seekable,d.seeking_=b.seeking,d.duration_=b.duration,d.mediaSource_=b.mediaSource,d.vhs_=b.vhs,d.loaderType_=b.loaderType,d.currentMediaInfo_=void 0,d.startingMediaInfo_=void 0,d.segmentMetadataTrack_=b.segmentMetadataTrack,d.goalBufferLength_=b.goalBufferLength,d.sourceType_=b.sourceType,d.sourceUpdater_=b.sourceUpdater,d.inbandTextTracks_=b.inbandTextTracks,d.state_="INIT",d.timelineChangeController_=b.timelineChangeController,d.shouldSaveSegmentTimingInfo_=!0,d.parse708captions_=b.parse708captions,d.checkBufferTimeout_=null,d.error_=void 0,d.currentTimeline_=-1,d.pendingSegment_=null,d.xhrOptions_=null,d.pendingSegments_=[],d.audioDisabled_=!1,d.isPendingTimestampOffset_=!1,d.gopBuffer_=[],d.timeMapping_=0,d.safeAppend_=Ea.browser.IE_VERSION>=11,d.appendInitSegment_={audio:!0,video:!0},d.playlistOfLastInitSegment_={audio:null,video:null},d.callQueue_=[],d.loadQueue_=[],d.metadataQueue_={id3:[],caption:[]},d.waitingOnRemove_=!1,d.quotaExceededErrorRetryTimeout_=null,d.activeInitSegmentId_=null,d.initSegments_={},d.cacheEncryptionKeys_=b.cacheEncryptionKeys,d.keyCache_={},d.decrypter_=b.decrypter,d.syncController_=b.syncController,d.syncPoint_={segmentIndex:0,time:0},d.transmuxer_=d.createTransmuxer_(),d.triggerSyncInfoUpdate_=function(){return d.trigger("syncinfoupdate")},d.syncController_.on("syncinfoupdate",d.triggerSyncInfoUpdate_),d.mediaSource_.addEventListener("sourceopen",function(){d.isEndOfStream_()||(d.ended_=!1)}),d.fetchAtBuffer_=!1,d.logger_=Nf("SegmentLoader["+d.loaderType_+"]"),Object.defineProperty(db.default(d),"state",{get:function(){return this.state_},set:function(a){a!==this.state_&&(this.logger_(this.state_+" -> "+a),this.state_=a,this.trigger("statechange"))}}),d.sourceUpdater_.on("ready",function(){d.hasEnoughInfoToAppend_()&&d.processCallQueue_()}),"main"===d.loaderType_&&d.timelineChangeController_.on("pendingtimelinechange",function(){d.hasEnoughInfoToAppend_()&&d.processCallQueue_()}),"audio"===d.loaderType_&&d.timelineChangeController_.on("timelinechange",function(){d.hasEnoughInfoToLoad_()&&d.processLoadQueue_(),d.hasEnoughInfoToAppend_()&&d.processCallQueue_()}),d}eb.default(b,a);var c=b.prototype;return c.createTransmuxer_=function(){return Th.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_})},c.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},c.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&ab.default.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},c.setAudio=function(a){this.audioDisabled_=!a,a?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},c.abort=function(){if("WAITING"!==this.state)return void(this.pendingSegment_&&(this.pendingSegment_=null));this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},c.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,ab.default.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},c.checkForAbort_=function(a){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==a:(this.state="READY",!0)},c.error=function(a){return void 0!==a&&(this.logger_("error occurred:",a),this.error_=a),this.pendingSegment_=null,this.error_},c.endOfStream=function(){this.ended_=!0,this.transmuxer_&&Th.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},c.buffered_=function(){var a=this.getMediaInfo_();if(!this.sourceUpdater_||!a)return Ea.createTimeRanges();if("main"===this.loaderType_){var b=a.hasAudio,c=a.hasVideo,d=a.isMuxed;if(c&&b&&!this.audioDisabled_&&!d)return this.sourceUpdater_.buffered();if(c)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},c.initSegmentForMap=function(a,b){if(void 0===b&&(b=!1),!a)return null;var c=_g(a),d=this.initSegments_[c];return b&&!d&&a.bytes&&(this.initSegments_[c]=d={resolvedUri:a.resolvedUri,byterange:a.byterange,bytes:a.bytes,tracks:a.tracks,timescales:a.timescales}),d||a},c.segmentKey=function(a,b){if(void 0===b&&(b=!1),!a)return null;var c=ah(a),d=this.keyCache_[c];this.cacheEncryptionKeys_&&b&&!d&&a.bytes&&(this.keyCache_[c]=d={resolvedUri:a.resolvedUri,bytes:a.bytes});var e={resolvedUri:(d||a).resolvedUri};return d&&(e.bytes=d.bytes),e},c.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},c.load=function(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))},c.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},c.playlist=function(a,b){if(void 0===b&&(b={}),a){var c=this.playlist_,d=this.pendingSegment_;this.playlist_=a,this.xhrOptions_=b,"INIT"===this.state&&(a.syncInfo={mediaSequence:a.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(a));var e=null;if(c&&(c.id?e=c.id:c.uri&&(e=c.uri)),this.logger_("playlist update ["+e+" => "+(a.id||a.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!c||c.uri!==a.uri)return null!==this.mediaIndex&&this.resyncLoader(),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");var f=a.mediaSequence-c.mediaSequence;if(this.logger_("live window shift ["+f+"]"),null!==this.mediaIndex)if(this.mediaIndex-=f,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var g=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!g.parts||!g.parts.length||!g.parts[this.partIndex])){var h=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=h}}d&&(d.mediaIndex-=f,d.mediaIndex<0?(d.mediaIndex=null,d.partIndex=null):(d.mediaIndex>=0&&(d.segment=a.segments[d.mediaIndex]),d.partIndex>=0&&d.segment.parts&&(d.part=d.segment.parts[d.partIndex]))),this.syncController_.saveExpiredSegmentInfo(c,a)}},c.pause=function(){this.checkBufferTimeout_&&(ab.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},c.paused=function(){return null===this.checkBufferTimeout_},c.resetEverything=function(a){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,a),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"})},c.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},c.resyncLoader=function(){this.transmuxer_&&Th.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},c.remove=function(a,b,c,d){if(void 0===c&&(c=function(){}),void 0===d&&(d=!1),b===1/0&&(b=this.duration_()),b<=a)return void this.logger_("skipping remove because end ${end} is <= start ${start}");if(!this.sourceUpdater_||!this.getMediaInfo_())return void this.logger_("skipping remove because no source updater or starting media info");var e=1,f=function(){0===--e&&c()};!d&&this.audioDisabled_||(e++,this.sourceUpdater_.removeAudio(a,b,f)),(d||"main"===this.loaderType_)&&(this.gopBuffer_=Mi(this.gopBuffer_,a,b,this.timeMapping_),e++,this.sourceUpdater_.removeVideo(a,b,f));for(var g in this.inbandTextTracks_)Ii(a,b,this.inbandTextTracks_[g]);Ii(a,b,this.segmentMetadataTrack_),f()},c.monitorBuffer_=function(){this.checkBufferTimeout_&&ab.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=ab.default.setTimeout(this.monitorBufferTick_.bind(this),1)},c.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&ab.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=ab.default.setTimeout(this.monitorBufferTick_.bind(this),Ri)},c.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var a=this.chooseNextRequest_();a&&("number"==typeof a.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:a.timeline})),this.loadSegment_(a))}},c.isEndOfStream_=function(a,b,c){if(void 0===a&&(a=this.mediaIndex),void 0===b&&(b=this.playlist_),void 0===c&&(c=this.partIndex),!b||!this.mediaSource_)return!1;var d="number"==typeof a&&b.segments[a],e=a+1===b.segments.length,f=!d||!d.parts||c+1===d.parts.length;return b.endList&&"open"===this.mediaSource_.readyState&&e&&f},c.chooseNextRequest_=function(){var a=Zf(this.buffered_())||0,b=Math.max(0,a-this.currentTime_()),c=!this.hasPlayed_()&&b>=1,d=b>=this.goalBufferLength_(),e=this.playlist_.segments;if(!e.length||c||d)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var f={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(f.isSyncRequest)f.mediaIndex=Pi(this.currentTimeline_,e,a);else if(null!==this.mediaIndex){var g=e[this.mediaIndex],h="number"==typeof this.partIndex?this.partIndex:-1;f.startOfSegment=g.end?g.end:a,g.parts&&g.parts[h+1]?(f.mediaIndex=this.mediaIndex,f.partIndex=h+1):f.mediaIndex=this.mediaIndex+1}else{var i=wg.getMediaInfoForTime({playlist:this.playlist_,currentTime:this.fetchAtBuffer_?a:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),j=i.segmentIndex,k=i.startTime,l=i.partIndex;f.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd":"currentTime",f.mediaIndex=j,f.startOfSegment=k,f.partIndex=l}var m=e[f.mediaIndex],n=m&&"number"==typeof f.partIndex&&m.parts&&m.parts[f.partIndex];if(!m||"number"==typeof f.partIndex&&!n)return null;"number"!=typeof f.partIndex&&m.parts&&(f.partIndex=0);var o=this.mediaSource_&&"ended"===this.mediaSource_.readyState;return f.mediaIndex>=e.length-1&&o&&!this.seeking_()?null:this.generateSegmentInfo_(f)},c.generateSegmentInfo_=function(a){var b=a.playlist,c=a.mediaIndex,d=a.startOfSegment,e=a.isSyncRequest,f=a.partIndex,g=a.forceTimestampOffset,h=a.getMediaInfoForTime,i=b.segments[c],j="number"==typeof f&&i.parts[f],k={requestId:"segment-loader-"+Math.random(),uri:j&&j.resolvedUri||i.resolvedUri,mediaIndex:c,partIndex:j?f:null,isSyncRequest:e,startOfSegment:d,playlist:b,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:i.timeline,duration:j&&j.duration||i.duration,segment:i,part:j,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:h},l=void 0!==g?g:this.isPendingTimestampOffset_;k.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:i.timeline,currentTimeline:this.currentTimeline_,startOfSegment:d,buffered:this.buffered_(),overrideCheck:l});var m=Zf(this.sourceUpdater_.audioBuffered());return"number"==typeof m&&(k.audioAppendStart=m-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(k.gopsToAlignWith=Ki(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),k},c.timestampOffsetForSegment_=function(a){return Yi(a)},c.earlyAbortWhenNeeded_=function(a){if(!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&!(Date.now()-(a.firstBytesReceivedAt||Date.now())<1e3)){var b=this.currentTime_(),c=a.bandwidth,d=this.pendingSegment_.duration,e=wg.estimateSegmentRequestTime(d,c,this.playlist_,a.bytesReceived),f=Wf(this.buffered_(),b,this.vhs_.tech_.playbackRate())-1;if(!(e<=f)){var g=Ai({master:this.vhs_.playlists.master,currentTime:b,bandwidth:c,duration:this.duration_(),segmentDuration:d,timeUntilRebuffer:f,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(g){var h=e-f,i=h-g.rebufferingImpact,j=.5;f<=Of&&(j=1),!g.playlist||g.playlist.uri===this.playlist_.uri||i<j||(this.bandwidth=g.playlist.attributes.BANDWIDTH*zh.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},c.handleAbort_=function(a){this.logger_("Aborting "+Wi(a)),this.mediaRequestsAborted+=1},c.handleProgress_=function(a,b){this.earlyAbortWhenNeeded_(b.stats),this.checkForAbort_(b.requestId)||this.trigger("progress")},c.handleTrackInfo_=function(a,b){this.earlyAbortWhenNeeded_(a.stats),this.checkForAbort_(a.requestId)||this.checkForIllegalMediaSwitch(b)||(b=b||{},Ni(this.currentMediaInfo_,b)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=b,this.currentMediaInfo_=b,this.logger_("trackinfo update",b),this.trigger("trackinfo")),this.checkForAbort_(a.requestId)||(this.pendingSegment_.trackInfo=b,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))},c.handleTimingInfo_=function(a,b,c,d){if(this.earlyAbortWhenNeeded_(a.stats),!this.checkForAbort_(a.requestId)){var e=this.pendingSegment_,f=Xi(b);e[f]=e[f]||{},e[f][c]=d,this.logger_("timinginfo: "+b+" - "+c+" - "+d),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},c.handleCaptions_=function(a,b){var c=this;if(this.earlyAbortWhenNeeded_(a.stats),!this.checkForAbort_(a.requestId)){if(0===b.length)return void this.logger_("SegmentLoader received no captions from a caption event");if(!this.pendingSegment_.hasAppendedData_)return void this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,a,b));var d=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),e={};b.forEach(function(a){e[a.stream]=e[a.stream]||{startTime:1/0,captions:[],endTime:0};var b=e[a.stream];b.startTime=Math.min(b.startTime,a.startTime+d),b.endTime=Math.max(b.endTime,a.endTime+d),b.captions.push(a)}),Object.keys(e).forEach(function(a){var b=e[a],f=b.startTime,g=b.endTime,h=b.captions,i=c.inbandTextTracks_;c.logger_("adding cues from "+f+" -> "+g+" for "+a),Di(i,c.vhs_.tech_,a),Ii(f,g,i[a]),Ei({captionArray:h,inbandTextTracks:i,timestampOffset:d})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},c.handleId3_=function(a,b,c){if(this.earlyAbortWhenNeeded_(a.stats),!this.checkForAbort_(a.requestId)){if(!this.pendingSegment_.hasAppendedData_)return void this.metadataQueue_.id3.push(this.handleId3_.bind(this,a,b,c));var d=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();Hi(this.inbandTextTracks_,c,this.vhs_.tech_),Gi({inbandTextTracks:this.inbandTextTracks_,metadataArray:b,timestampOffset:d,videoDuration:this.duration_()})}},c.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(a){return a()}),this.metadataQueue_.caption.forEach(function(a){return a()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},c.processCallQueue_=function(){var a=this.callQueue_;this.callQueue_=[],a.forEach(function(a){return a()})},c.processLoadQueue_=function(){var a=this.loadQueue_;this.loadQueue_=[],a.forEach(function(a){return a()})},c.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var a=this.pendingSegment_;return!!a&&(!this.getCurrentMediaInfo_()||!Zi({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:a.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},c.getCurrentMediaInfo_=function(a){return void 0===a&&(a=this.pendingSegment_),a&&a.trackInfo||this.currentMediaInfo_},c.getMediaInfo_=function(a){return void 0===a&&(a=this.pendingSegment_),this.getCurrentMediaInfo_(a)||this.startingMediaInfo_},c.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready())return!1;if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var a=this.pendingSegment_,b=this.getCurrentMediaInfo_();if(!a||!b)return!1;var c=b.hasAudio,d=b.hasVideo,e=b.isMuxed;return!(d&&!a.videoTimingInfo)&&(!(c&&!this.audioDisabled_&&!e&&!a.audioTimingInfo)&&!Zi({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:a.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},c.handleData_=function(a,b){if(this.earlyAbortWhenNeeded_(a.stats),!this.checkForAbort_(a.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_())return void this.callQueue_.push(this.handleData_.bind(this,a,b));var c=this.pendingSegment_;if(this.setTimeMapping_(c.timeline),this.updateMediaSecondsLoaded_(c.segment),"closed"!==this.mediaSource_.readyState){if(a.map&&(a.map=this.initSegmentForMap(a.map,!0),c.segment.map=a.map),a.key&&this.segmentKey(a.key,!0),c.isFmp4=a.isFmp4,c.timingInfo=c.timingInfo||{},c.isFmp4)this.trigger("fmp4"),c.timingInfo.start=c[Xi(b.type)].start;else{var d,e=this.getCurrentMediaInfo_(),f="main"===this.loaderType_&&e&&e.hasVideo;f&&(d=c.videoTimingInfo.start),c.timingInfo.start=this.trueSegmentStart_({currentStart:c.timingInfo.start,playlist:c.playlist,mediaIndex:c.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:f,firstVideoFrameTimeForData:d,videoTimingInfo:c.videoTimingInfo,audioTimingInfo:c.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(c,b.type),this.updateSourceBufferTimestampOffset_(c),c.isSyncRequest){this.updateTimingInfoEnd_(c),this.syncController_.saveSegmentTimingInfo({segmentInfo:c,shouldSaveTimelineMapping:"main"===this.loaderType_});var g=this.chooseNextRequest_();if(g.mediaIndex!==c.mediaIndex||g.partIndex!==c.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}c.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(c,b)}}},c.updateAppendInitSegmentStatus=function(a,b){"main"!==this.loaderType_||"number"!=typeof a.timestampOffset||a.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[b]!==a.playlist&&(this.appendInitSegment_[b]=!0)},c.getInitSegmentAndUpdateState_=function(a){var b=a.type,c=a.initSegment,d=a.map,e=a.playlist;if(d){var f=_g(d);if(this.activeInitSegmentId_===f)return null;c=this.initSegmentForMap(d,!0).bytes,this.activeInitSegmentId_=f}return c&&this.appendInitSegment_[b]?(this.playlistOfLastInitSegment_[b]=e,this.appendInitSegment_[b]=!1,this.activeInitSegmentId_=null,c):null},c.handleQuotaExceededError_=function(a,b){var c=this,d=a.segmentInfo,e=a.type,f=a.bytes,g=this.sourceUpdater_.audioBuffered(),h=this.sourceUpdater_.videoBuffered();g.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Xf(g).join(", ")),h.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Xf(h).join(", "));var i=g.length?g.start(0):0,j=g.length?g.end(g.length-1):0,k=h.length?h.start(0):0,l=h.length?h.end(h.length-1):0;if(j-i<=Qi&&l-k<=Qi)return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "+f.byteLength+", audio buffer: "+Xf(g).join(", ")+", video buffer: "+Xf(h).join(", ")+", "),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:d,type:e,bytes:f}));var m=this.currentTime_(),n=m-Qi;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+n),this.remove(0,n,function(){c.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+Qi+"s"),c.waitingOnRemove_=!1,c.quotaExceededErrorRetryTimeout_=ab.default.setTimeout(function(){c.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),c.quotaExceededErrorRetryTimeout_=null,c.processCallQueue_()},1e3*Qi)},!0)},c.handleAppendError_=function(a,b){var c=a.segmentInfo,d=a.type,e=a.bytes;if(b){if(b.code===Oi)return void this.handleQuotaExceededError_({segmentInfo:c,type:d,bytes:e});this.logger_("Received non QUOTA_EXCEEDED_ERR on append",b),this.error(d+" append of "+e.length+"b failed for segment #"+c.mediaIndex+" in playlist "+c.playlist.id),this.trigger("appenderror")}},c.appendToSourceBuffer_=function(a){var b=a.segmentInfo,c=a.type,d=a.initSegment,e=a.data,f=a.bytes;if(!f){var g=[e],h=e.byteLength;d&&(g.unshift(d),h+=d.byteLength),f=Ci({bytes:h,segments:g})}this.sourceUpdater_.appendBuffer({segmentInfo:b,type:c,bytes:f},this.handleAppendError_.bind(this,{segmentInfo:b,type:c,bytes:f}))},c.handleSegmentTimingInfo_=function(a,b,c){if(this.pendingSegment_&&b===this.pendingSegment_.requestId){var d=this.pendingSegment_.segment,e=a+"TimingInfo";d[e]||(d[e]={}),d[e].transmuxerPrependedSeconds=c.prependedContentDuration||0,d[e].transmuxedPresentationStart=c.start.presentation,d[e].transmuxedDecodeStart=c.start.decode,d[e].transmuxedPresentationEnd=c.end.presentation,d[e].transmuxedDecodeEnd=c.end.decode,d[e].baseMediaDecodeTime=c.baseMediaDecodeTime}},c.appendData_=function(a,b){var c=b.type,d=b.data;if(d&&d.byteLength&&("audio"!==c||!this.audioDisabled_)){var e=this.getInitSegmentAndUpdateState_({type:c,initSegment:b.initSegment,playlist:a.playlist,map:a.isFmp4?a.segment.map:null});this.appendToSourceBuffer_({segmentInfo:a,type:c,initSegment:e,data:d})}},c.loadSegment_=function(a){var b=this;if(this.state="WAITING",this.pendingSegment_=a,this.trimBackBuffer_(a),"number"==typeof a.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_())return void this.loadQueue_.push(function(){var c=cb.default({},a,{forceTimestampOffset:!0});cb.default(a,b.generateSegmentInfo_(c)),b.isPendingTimestampOffset_=!1,b.updateTransmuxerAndRequestSegment_(a)});this.updateTransmuxerAndRequestSegment_(a)},c.updateTransmuxerAndRequestSegment_=function(a){var b=this;this.shouldUpdateTransmuxerTimestampOffset_(a.timestampOffset)&&(this.gopBuffer_.length=0,a.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:a.timestampOffset}));var c=this.createSimplifiedSegmentObj_(a),d=this.isEndOfStream_(a.mediaIndex,a.playlist,a.partIndex),e=null!==this.mediaIndex,f=a.timeline!==this.currentTimeline_&&a.timeline>0,g=d||e&&f;this.logger_("Requesting "+Wi(a)),c.map&&!c.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),a.abortRequests=ji({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:c,abortFn:this.handleAbort_.bind(this,a),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",a.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",a.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:g,endedTimelineFn:function(){b.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(c){var d=c.message,e=c.level,f=c.stream;b.logger_(Wi(a)+" logged from transmuxer stream "+f+" as a "+e+": "+d)}})},c.trimBackBuffer_=function(a){var b=Vi(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);b>0&&this.remove(0,b)},c.createSimplifiedSegmentObj_=function(a){var b=a.segment,c=a.part,d={resolvedUri:c?c.resolvedUri:b.resolvedUri,byterange:c?c.byterange:b.byterange,requestId:a.requestId,transmuxer:a.transmuxer,audioAppendStart:a.audioAppendStart,gopsToAlignWith:a.gopsToAlignWith,part:a.part},e=a.playlist.segments[a.mediaIndex-1];if(e&&e.timeline===b.timeline&&(e.videoTimingInfo?d.baseStartTime=e.videoTimingInfo.transmuxedDecodeEnd:e.audioTimingInfo&&(d.baseStartTime=e.audioTimingInfo.transmuxedDecodeEnd)),b.key){var f=b.key.iv||new Uint32Array([0,0,0,a.mediaIndex+a.playlist.mediaSequence]);d.key=this.segmentKey(b.key),d.key.iv=f}return b.map&&(d.map=this.initSegmentForMap(b.map)),d},c.saveTransferStats_=function(a){this.mediaRequests+=1,a&&(this.mediaBytesTransferred+=a.bytesReceived,this.mediaTransferDuration+=a.roundTripTime)},c.saveBandwidthRelatedStats_=function(a,b){if(this.pendingSegment_.byteLength=b.bytesReceived,a<Ti)return void this.logger_("Ignoring segment's bandwidth because its duration of "+a+" is less than the min to record "+Ti);this.bandwidth=b.bandwidth,this.roundTrip=b.roundTripTime},c.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},c.segmentRequestFinished_=function(a,b,c){if(this.callQueue_.length)return void this.callQueue_.push(this.segmentRequestFinished_.bind(this,a,b,c));if(this.saveTransferStats_(b.stats),this.pendingSegment_&&b.requestId===this.pendingSegment_.requestId){if(a){if(this.pendingSegment_=null,this.state="READY",a.code===Vh.ABORTED)return;return this.pause(),a.code===Vh.TIMEOUT?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(a),void this.trigger("error"))}var d=this.pendingSegment_;this.saveBandwidthRelatedStats_(d.duration,b.stats),d.endOfAllRequests=b.endOfAllRequests,c.gopInfo&&(this.gopBuffer_=Li(this.gopBuffer_,c.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(d)}},c.setTimeMapping_=function(a){var b=this.syncController_.mappingForTimeline(a);null!==b&&(this.timeMapping_=b)},c.updateMediaSecondsLoaded_=function(a){"number"==typeof a.start&&"number"==typeof a.end?this.mediaSecondsLoaded+=a.end-a.start:this.mediaSecondsLoaded+=a.duration},c.shouldUpdateTransmuxerTimestampOffset_=function(a){return null!==a&&("main"===this.loaderType_&&a!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&a!==this.sourceUpdater_.audioTimestampOffset())},c.trueSegmentStart_=function(a){var b=a.currentStart,c=a.playlist,d=a.mediaIndex,e=a.firstVideoFrameTimeForData,f=a.currentVideoTimestampOffset,g=a.useVideoTimingInfo,h=a.videoTimingInfo,i=a.audioTimingInfo;if(void 0!==b)return b;if(!g)return i.start;var j=c.segments[d-1];return 0!==d&&j&&void 0!==j.start&&j.end===e+f?h.start:e},c.waitForAppendsToComplete_=function(a){var b=this.getCurrentMediaInfo_(a);if(!b)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var c=b.hasAudio,d=b.hasVideo,e=b.isMuxed,f="main"===this.loaderType_&&d,g=!this.audioDisabled_&&c&&!e;if(a.waitingOnAppends=0,!a.hasAppendedData_)return a.timingInfo||"number"!=typeof a.timestampOffset||(this.isPendingTimestampOffset_=!0),a.timingInfo={start:0},a.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(a),this.processMetadataQueue_()),void this.checkAppendsDone_(a);f&&a.waitingOnAppends++,g&&a.waitingOnAppends++,f&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,a)),g&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,a))},c.checkAppendsDone_=function(a){this.checkForAbort_(a.requestId)||0===--a.waitingOnAppends&&this.handleAppendsDone_()},c.checkForIllegalMediaSwitch=function(a){var b=Ui(this.loaderType_,this.getCurrentMediaInfo_(),a);return!!b&&(this.error({message:b,blacklistDuration:1/0}),this.trigger("error"),!0)},c.updateSourceBufferTimestampOffset_=function(a){if(null!==a.timestampOffset&&"number"==typeof a.timingInfo.start&&!a.changedTimestampOffset&&"main"===this.loaderType_){var b=!1;a.timestampOffset-=a.timingInfo.start,a.changedTimestampOffset=!0,a.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(a.timestampOffset),b=!0),a.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(a.timestampOffset),b=!0),b&&this.trigger("timestampoffset")}},c.updateTimingInfoEnd_=function(a){a.timingInfo=a.timingInfo||{};var b=this.getMediaInfo_(),c="main"===this.loaderType_&&b&&b.hasVideo,d=c&&a.videoTimingInfo?a.videoTimingInfo:a.audioTimingInfo;d&&(a.timingInfo.end="number"==typeof d.end?d.end:d.start+a.duration)},c.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var a=this.pendingSegment_;this.updateTimingInfoEnd_(a),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:a,shouldSaveTimelineMapping:"main"===this.loaderType_});var b=aj(a,this.sourceType_);if(b&&("warn"===b.severity?Ea.log.warn(b.message):this.logger_(b.message)),this.recordThroughput_(a),this.pendingSegment_=null,this.state="READY",a.isSyncRequest&&(this.trigger("syncinfoupdate"),!a.hasAppendedData_))return void this.logger_("Throwing away un-appended sync request "+Wi(a));this.logger_("Appended "+Wi(a)),this.addSegmentMetadataCue_(a),this.fetchAtBuffer_=!0,this.currentTimeline_!==a.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:a.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:a.timeline})),this.currentTimeline_=a.timeline,this.trigger("syncinfoupdate");var c=a.segment;if(c.end&&this.currentTime_()-c.end>3*a.playlist.targetDuration)return void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=a.mediaIndex,this.partIndex=a.partIndex,this.isEndOfStream_(a.mediaIndex,a.playlist,a.partIndex)&&this.endOfStream(),this.trigger("appended"),a.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},c.recordThroughput_=function(a){if(a.duration<Ti)return void this.logger_("Ignoring segment's throughput because its duration of "+a.duration+" is less than the min to record "+Ti);var b=this.throughput.rate,c=Date.now()-a.endOfAllRequests+1,d=Math.floor(a.byteLength/c*8*1e3);this.throughput.rate+=(d-b)/++this.throughput.count},c.addSegmentMetadataCue_=function(a){if(this.segmentMetadataTrack_){var b=a.segment,c=b.start,d=b.end;if(Si(c)&&Si(d)){Ii(c,d,this.segmentMetadataTrack_);var e=ab.default.WebKitDataCue||ab.default.VTTCue,f={custom:b.custom,dateTimeObject:b.dateTimeObject,dateTimeString:b.dateTimeString,bandwidth:a.playlist.attributes.BANDWIDTH,resolution:a.playlist.attributes.RESOLUTION,codecs:a.playlist.attributes.CODECS,byteLength:a.byteLength,uri:a.uri,timeline:a.timeline,playlist:a.playlist.id,start:c,end:d},g=JSON.stringify(f),h=new e(c,d,g);h.value=f,this.segmentMetadataTrack_.addCue(h)}}},b}(Ea.EventTarget),cj=function(a){return"string"!=typeof a?a:a.replace(/./,function(a){return a.toUpperCase()})},dj=["video","audio"],ej=function(a,b){var c=b[a+"Buffer"];return c&&c.updating||b.queuePending[a]},fj=function(a,b){for(var c=0;c<b.length;c++){var d=b[c];if("mediaSource"===d.type)return null;if(d.type===a)return c}return null},gj=function a(b,c){if(0!==c.queue.length){var d=0,e=c.queue[d];if("mediaSource"===e.type)return void(c.updating()||"closed"===c.mediaSource.readyState||(c.queue.shift(),e.action(c),e.doneFn&&e.doneFn(),a("audio",c),a("video",c)));if("mediaSource"!==b&&c.ready()&&"closed"!==c.mediaSource.readyState&&!ej(b,c)){if(e.type!==b){if(null===(d=fj(b,c.queue)))return;e=c.queue[d]}return c.queue.splice(d,1),c.queuePending[b]=e,e.action(b,c),e.doneFn?void 0:(c.queuePending[b]=null,void a(b,c))}}},hj=function(a,b){var c=b[a+"Buffer"],d=cj(a);c&&(c.removeEventListener("updateend",b["on"+d+"UpdateEnd_"]),c.removeEventListener("error",b["on"+d+"Error_"]),b.codecs[a]=null,b[a+"Buffer"]=null)},ij=function(a,b){return a&&b&&-1!==Array.prototype.indexOf.call(a.sourceBuffers,b)},jj={appendBuffer:function(a,b,c){return function(d,e){var f=e[d+"Buffer"];if(ij(e.mediaSource,f)){e.logger_("Appending segment "+b.mediaIndex+"'s "+a.length+" bytes to "+d+"Buffer");try{f.appendBuffer(a)}catch(a){e.logger_("Error with code "+a.code+" "+(a.code===Oi?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment "+b.mediaIndex+" to "+d+"Buffer"),e.queuePending[d]=null,c(a)}}}},remove:function(a,b){return function(c,d){var e=d[c+"Buffer"];if(ij(d.mediaSource,e)){d.logger_("Removing "+a+" to "+b+" from "+c+"Buffer");try{e.remove(a,b)}catch(e){d.logger_("Remove "+a+" to "+b+" from "+c+"Buffer failed")}}}},timestampOffset:function(a){return function(b,c){var d=c[b+"Buffer"];ij(c.mediaSource,d)&&(c.logger_("Setting "+b+"timestampOffset to "+a),d.timestampOffset=a)}},callback:function(a){return function(b,c){a()}},endOfStream:function(a){return function(b){if("open"===b.mediaSource.readyState){b.logger_("Calling mediaSource endOfStream("+(a||"")+")");try{b.mediaSource.endOfStream(a)}catch(a){Ea.log.warn("Failed to call media source endOfStream",a)}}}},duration:function(a){return function(b){b.logger_("Setting mediaSource duration to "+a);try{b.mediaSource.duration=a}catch(a){Ea.log.warn("Failed to set media source duration",a)}}},abort:function(){return function(a,b){if("open"===b.mediaSource.readyState){var c=b[a+"Buffer"];if(ij(b.mediaSource,c)){b.logger_("calling abort on "+a+"Buffer");try{c.abort()}catch(b){Ea.log.warn("Failed to abort on "+a+"Buffer",b)}}}}},addSourceBuffer:function(a,b){return function(c){var d=cj(a),e=Ua.getMimeForCodec(b);c.logger_("Adding "+a+"Buffer with codec "+b+" to mediaSource");var f=c.mediaSource.addSourceBuffer(e);f.addEventListener("updateend",c["on"+d+"UpdateEnd_"]),f.addEventListener("error",c["on"+d+"Error_"]),c.codecs[a]=b,c[a+"Buffer"]=f}},removeSourceBuffer:function(a){return function(b){var c=b[a+"Buffer"];if(hj(a,b),ij(b.mediaSource,c)){b.logger_("Removing "+a+"Buffer with codec "+b.codecs[a]+" from mediaSource");try{b.mediaSource.removeSourceBuffer(c)}catch(b){Ea.log.warn("Failed to removeSourceBuffer "+a+"Buffer",b)}}}},changeType:function(a){return function(b,c){var d=c[b+"Buffer"],e=Ua.getMimeForCodec(a);ij(c.mediaSource,d)&&c.codecs[b]!==a&&(c.logger_("changing "+b+"Buffer codec from "+c.codecs[b]+" to "+a),d.changeType(e),c.codecs[b]=a)}}},kj=function(a){var b=a.type,c=a.sourceUpdater,d=a.action,e=a.doneFn,f=a.name;c.queue.push({type:b,action:d,doneFn:e,name:f}),gj(b,c)},lj=function(a,b){return function(c){if(b.queuePending[a]){var d=b.queuePending[a].doneFn;b.queuePending[a]=null,d&&d(b[a+"Error_"])}gj(a,b)}},mj=function(a){function b(b){var c;return c=a.call(this)||this,c.mediaSource=b,c.sourceopenListener_=function(){return gj("mediaSource",db.default(c))},c.mediaSource.addEventListener("sourceopen",c.sourceopenListener_),c.logger_=Nf("SourceUpdater"),c.audioTimestampOffset_=0,c.videoTimestampOffset_=0,c.queue=[],c.queuePending={audio:null,video:null},c.delayedAudioAppendQueue_=[],c.videoAppendQueued_=!1,c.codecs={},c.onVideoUpdateEnd_=lj("video",db.default(c)),c.onAudioUpdateEnd_=lj("audio",db.default(c)),c.onVideoError_=function(a){c.videoError_=a},c.onAudioError_=function(a){c.audioError_=a},c.createdSourceBuffers_=!1,c.initializedEme_=!1,c.triggeredReady_=!1,c}eb.default(b,a);var c=b.prototype;return c.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},c.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},c.hasInitializedAnyEme=function(){return this.initializedEme_},c.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},c.createSourceBuffers=function(a){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(a),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},c.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},c.addSourceBuffer=function(a,b){kj({type:"mediaSource",sourceUpdater:this,action:jj.addSourceBuffer(a,b),name:"addSourceBuffer"})},c.abort=function(a){kj({type:a,sourceUpdater:this,action:jj.abort(a),name:"abort"})},c.removeSourceBuffer=function(a){if(!this.canRemoveSourceBuffer())return void Ea.log.error("removeSourceBuffer is not supported!");kj({type:"mediaSource",sourceUpdater:this,action:jj.removeSourceBuffer(a),name:"removeSourceBuffer"})},c.canRemoveSourceBuffer=function(){return!Ea.browser.IE_VERSION&&!Ea.browser.IS_FIREFOX&&ab.default.MediaSource&&ab.default.MediaSource.prototype&&"function"==typeof ab.default.MediaSource.prototype.removeSourceBuffer},b.canChangeType=function(){return ab.default.SourceBuffer&&ab.default.SourceBuffer.prototype&&"function"==typeof ab.default.SourceBuffer.prototype.changeType},c.canChangeType=function(){return this.constructor.canChangeType()},c.changeType=function(a,b){if(!this.canChangeType())return void Ea.log.error("changeType is not supported!");kj({type:a,sourceUpdater:this,action:jj.changeType(b),name:"changeType"})},c.addOrChangeSourceBuffers=function(a){var b=this;if(!a||"object"!=typeof a||0===Object.keys(a).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(a).forEach(function(c){var d=a[c];if(!b.hasCreatedSourceBuffers())return b.addSourceBuffer(c,d);b.canChangeType()&&b.changeType(c,d)})},c.appendBuffer=function(a,b){var c=this,d=a.segmentInfo,e=a.type,f=a.bytes;if(this.processedAppend_=!0,"audio"===e&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([a,b]),void this.logger_("delayed audio append of "+f.length+" until video append");var g=b;if(kj({type:e,sourceUpdater:this,action:jj.appendBuffer(f,d||{mediaIndex:-1},g),doneFn:b,name:"appendBuffer"}),"video"===e){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var h=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+h.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,h.forEach(function(a){c.appendBuffer.apply(c,a)})}},c.audioBuffered=function(){return ij(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Ea.createTimeRange()},c.videoBuffered=function(){return ij(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Ea.createTimeRange()},c.buffered=function(){var a=ij(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,b=ij(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return b&&!a?this.audioBuffered():a&&!b?this.videoBuffered():Uf(this.audioBuffered(),this.videoBuffered())},c.setDuration=function(a,b){void 0===b&&(b=Fa),kj({type:"mediaSource",sourceUpdater:this,action:jj.duration(a),name:"duration",doneFn:b})},c.endOfStream=function(a,b){void 0===a&&(a=null),void 0===b&&(b=Fa),"string"!=typeof a&&(a=void 0),kj({type:"mediaSource",sourceUpdater:this,action:jj.endOfStream(a),name:"endOfStream",doneFn:b})},c.removeAudio=function(a,b,c){if(void 0===c&&(c=Fa),!this.audioBuffered().length||0===this.audioBuffered().end(0))return void c();kj({type:"audio",sourceUpdater:this,action:jj.remove(a,b),doneFn:c,name:"remove"})},c.removeVideo=function(a,b,c){if(void 0===c&&(c=Fa),!this.videoBuffered().length||0===this.videoBuffered().end(0))return void c();kj({type:"video",sourceUpdater:this,action:jj.remove(a,b),doneFn:c,name:"remove"})},c.updating=function(){return!(!ej("audio",this)&&!ej("video",this))},c.audioTimestampOffset=function(a){return void 0!==a&&this.audioBuffer&&this.audioTimestampOffset_!==a&&(kj({type:"audio",sourceUpdater:this,action:jj.timestampOffset(a),name:"timestampOffset"}),this.audioTimestampOffset_=a),this.audioTimestampOffset_},c.videoTimestampOffset=function(a){return void 0!==a&&this.videoBuffer&&this.videoTimestampOffset!==a&&(kj({type:"video",sourceUpdater:this,action:jj.timestampOffset(a),name:"timestampOffset"}),this.videoTimestampOffset_=a),this.videoTimestampOffset_},c.audioQueueCallback=function(a){this.audioBuffer&&kj({type:"audio",sourceUpdater:this,action:jj.callback(a),name:"callback"})},c.videoQueueCallback=function(a){this.videoBuffer&&kj({type:"video",sourceUpdater:this,action:jj.callback(a),name:"callback"})},c.dispose=function(){var a=this;this.trigger("dispose"),dj.forEach(function(b){a.abort(b),a.canRemoveSourceBuffer()?a.removeSourceBuffer(b):a[b+"QueueCallback"](function(){return hj(b,a)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},b}(Ea.EventTarget),nj=function(a){return decodeURIComponent(escape(String.fromCharCode.apply(null,a)))},oj=new Uint8Array("\n\n".split("").map(function(a){return a.charCodeAt(0)})),pj=function(a){function b(b,c){var d;return void 0===c&&(c={}),d=a.call(this,b,c)||this,d.mediaSource_=null,d.subtitlesTrack_=null,d.loaderType_="subtitle",d.featuresNativeTextTracks_=b.featuresNativeTextTracks,d.shouldSaveSegmentTimingInfo_=!1,d}eb.default(b,a);var c=b.prototype;return c.createTransmuxer_=function(){return null},c.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Ea.createTimeRanges();var a=this.subtitlesTrack_.cues,b=a[0].startTime,c=a[a.length-1].startTime;return Ea.createTimeRanges([[b,c]])},c.initSegmentForMap=function(a,b){if(void 0===b&&(b=!1),!a)return null;var c=_g(a),d=this.initSegments_[c];if(b&&!d&&a.bytes){var e=oj.byteLength+a.bytes.byteLength,f=new Uint8Array(e);f.set(a.bytes),f.set(oj,a.bytes.byteLength),this.initSegments_[c]=d={resolvedUri:a.resolvedUri,byterange:a.byterange,bytes:f}}return d||a},c.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},c.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},c.track=function(a){return void 0===a?this.subtitlesTrack_:(this.subtitlesTrack_=a,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},c.remove=function(a,b){Ii(a,b,this.subtitlesTrack_)},c.fillBuffer_=function(){var a=this,b=this.chooseNextRequest_();if(b){if(null===this.syncController_.timestampOffsetForTimeline(b.timeline)){var c=function(){a.state="READY",a.paused()||a.monitorBuffer_()};return this.syncController_.one("timestampoffset",c),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(b)}},c.timestampOffsetForSegment_=function(){return null},c.chooseNextRequest_=function(){return this.skipEmptySegments_(a.prototype.chooseNextRequest_.call(this))},c.skipEmptySegments_=function(a){for(;a&&a.segment.empty;){if(a.mediaIndex+1>=a.playlist.segments.length){a=null;break}a=this.generateSegmentInfo_({playlist:a.playlist,mediaIndex:a.mediaIndex+1,startOfSegment:a.startOfSegment+a.duration,isSyncRequest:a.isSyncRequest})}return a},c.stopForError=function(a){this.error(a),this.state="READY",this.pause(),this.trigger("error")},c.segmentRequestFinished_=function(a,b,c){var d=this;if(!this.subtitlesTrack_)return void(this.state="READY");if(this.saveTransferStats_(b.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(a)return a.code===Vh.TIMEOUT&&this.handleTimeout_(),a.code===Vh.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(a);var e=this.pendingSegment_;this.saveBandwidthRelatedStats_(e.duration,b.stats),this.state="APPENDING",this.trigger("appending");var f=e.segment;if(f.map&&(f.map.bytes=b.map.bytes),e.bytes=b.bytes,"function"!=typeof ab.default.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var g,h=function(){d.subtitlesTrack_.tech_.off("vttjsloaded",g),d.stopForError({message:"Error loading vtt.js"})};return g=function(){d.subtitlesTrack_.tech_.off("vttjserror",h),d.segmentRequestFinished_(a,b,c)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",g),void this.subtitlesTrack_.tech_.one("vttjserror",h)}f.requested=!0;try{this.parseVTTCues_(e)}catch(a){return void this.stopForError({message:a.message})}if(this.updateTimeMapping_(e,this.syncController_.timelines[e.timeline],this.playlist_),e.cues.length?e.timingInfo={start:e.cues[0].startTime,end:e.cues[e.cues.length-1].endTime}:e.timingInfo={start:e.startOfSegment,end:e.startOfSegment+e.duration},e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");e.byteLength=e.bytes.byteLength,this.mediaSecondsLoaded+=f.duration,e.cues.forEach(function(a){d.subtitlesTrack_.addCue(d.featuresNativeTextTracks_?new ab.default.VTTCue(a.startTime,a.endTime,a.text):a)}),Ji(this.subtitlesTrack_),this.handleAppendsDone_()},c.handleData_=function(){},c.updateTimingInfoEnd_=function(){},c.parseVTTCues_=function(a){var b,c=!1;"function"==typeof ab.default.TextDecoder?b=new ab.default.TextDecoder("utf8"):(b=ab.default.WebVTT.StringDecoder(),c=!0);var d=new ab.default.WebVTT.Parser(ab.default,ab.default.vttjs,b);if(a.cues=[],a.timestampmap={MPEGTS:0,LOCAL:0},d.oncue=a.cues.push.bind(a.cues),d.ontimestampmap=function(b){a.timestampmap=b},d.onparsingerror=function(a){Ea.log.warn("Error encountered when parsing cues: "+a.message)},a.segment.map){var e=a.segment.map.bytes;c&&(e=nj(e)),d.parse(e)}var f=a.bytes;c&&(f=nj(f)),d.parse(f),d.flush()},c.updateTimeMapping_=function(a,b,c){var d=a.segment;if(b){if(!a.cues.length)return void(d.empty=!0);var e=a.timestampmap,f=e.MPEGTS/_a.ONE_SECOND_IN_TS-e.LOCAL+b.mapping;if(a.cues.forEach(function(a){a.startTime+=f,a.endTime+=f}),!c.syncInfo){var g=a.cues[0].startTime,h=a.cues[a.cues.length-1].startTime;c.syncInfo={mediaSequence:c.mediaSequence+a.mediaIndex,time:Math.min(g,h-d.duration)}}}},b}(bj),qj=function(a,b){for(var c=a.cues,d=0;d<c.length;d++){var e=c[d];if(b>=e.adStartTime&&b<=e.adEndTime)return e}return null},rj=function(a,b,c){if(void 0===c&&(c=0),a.segments)for(var d,e=c,f=0;f<a.segments.length;f++){var g=a.segments[f];if(d||(d=qj(b,e+g.duration/2)),d){if("cueIn"in g){d.endTime=e,d.adEndTime=e,e+=g.duration,d=null;continue}if(e<d.endTime){e+=g.duration;continue}d.endTime+=g.duration}else if("cueOut"in g&&(d=new ab.default.VTTCue(e,e+g.duration,g.cueOut),d.adStartTime=e,d.adEndTime=e+parseFloat(g.cueOut),b.addCue(d)),"cueOutCont"in g){var h=g.cueOutCont.split("/").map(parseFloat),i=h[0],j=h[1];d=new ab.default.VTTCue(e,e+g.duration,""),d.adStartTime=e-i,d.adEndTime=d.adStartTime+j,b.addCue(d)}e+=g.duration}},sj=[{name:"VOD",run:function(a,b,c,d,e){if(c!==1/0){return{time:0,segmentIndex:0,partIndex:null}}return null}},{name:"ProgramDateTime",run:function(a,b,c,d,e){if(!Object.keys(a.timelineToDatetimeMappings).length)return null;var f=null,g=null,h=_f(b);e=e||0;for(var i=0;i<h.length;i++){var j=b.endList||0===e?i:h.length-(i+1),k=h[j],l=k.segment,m=a.timelineToDatetimeMappings[l.timeline];if(m&&l.dateTimeObject){var n=l.dateTimeObject.getTime()/1e3,o=n+m;if(l.parts&&"number"==typeof k.partIndex)for(var p=0;p<k.partIndex;p++)o+=l.parts[p].duration;var q=Math.abs(e-o);if(null!==g&&(0===q||g<q))break;g=q,f={time:o,segmentIndex:k.segmentIndex,partIndex:k.partIndex}}}return f}},{name:"Segment",run:function(a,b,c,d,e){var f=null,g=null;e=e||0;for(var h=_f(b),i=0;i<h.length;i++){var j=b.endList||0===e?i:h.length-(i+1),k=h[j],l=k.segment,m=k.part&&k.part.start||l&&l.start;if(l.timeline===d&&void 0!==m){var n=Math.abs(e-m);if(null!==g&&g<n)break;(!f||null===g||g>=n)&&(g=n,f={time:m,segmentIndex:k.segmentIndex,partIndex:k.partIndex})}}return f}},{name:"Discontinuity",run:function(a,b,c,d,e){var f=null;if(e=e||0,b.discontinuityStarts&&b.discontinuityStarts.length)for(var g=null,h=0;h<b.discontinuityStarts.length;h++){var i=b.discontinuityStarts[h],j=b.discontinuitySequence+h+1,k=a.discontinuities[j];if(k){var l=Math.abs(e-k.time);if(null!==g&&g<l)break;(!f||null===g||g>=l)&&(g=l,f={time:k.time,segmentIndex:i,partIndex:null})}}return f}},{name:"Playlist",run:function(a,b,c,d,e){if(b.syncInfo){return{time:b.syncInfo.time,segmentIndex:b.syncInfo.mediaSequence-b.mediaSequence,partIndex:null}}return null}}],tj=function(a){function b(b){var c;return c=a.call(this)||this,c.timelines=[],c.discontinuities=[],c.timelineToDatetimeMappings={},c.logger_=Nf("SyncController"),c}eb.default(b,a);var c=b.prototype;return c.getSyncPoint=function(a,b,c,d){var e=this.runStrategies_(a,b,c,d);return e.length?this.selectSyncPoint_(e,{key:"time",value:d}):null},c.getExpiredTime=function(a,b){if(!a||!a.segments)return null;var c=this.runStrategies_(a,b,a.discontinuitySequence,0);if(!c.length)return null;var d=this.selectSyncPoint_(c,{key:"segmentIndex",value:0});return d.segmentIndex>0&&(d.time*=-1),Math.abs(d.time+hg({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:d.segmentIndex,endIndex:0}))},c.runStrategies_=function(a,b,c,d){for(var e=[],f=0;f<sj.length;f++){var g=sj[f],h=g.run(this,a,b,c,d);h&&(h.strategy=g.name,e.push({strategy:g.name,syncPoint:h}))}return e},c.selectSyncPoint_=function(a,b){for(var c=a[0].syncPoint,d=Math.abs(a[0].syncPoint[b.key]-b.value),e=a[0].strategy,f=1;f<a.length;f++){var g=Math.abs(a[f].syncPoint[b.key]-b.value);g<d&&(d=g,c=a[f].syncPoint,e=a[f].strategy)}return this.logger_("syncPoint for ["+b.key+": "+b.value+"] chosen with strategy ["+e+"]: [time:"+c.time+", segmentIndex:"+c.segmentIndex+("number"==typeof c.partIndex?",partIndex:"+c.partIndex:"")+"]"),c},c.saveExpiredSegmentInfo=function(a,b){for(var c=b.mediaSequence-a.mediaSequence,d=c-1;d>=0;d--){var e=a.segments[d];if(e&&void 0!==e.start){b.syncInfo={mediaSequence:a.mediaSequence+d,time:e.start},this.logger_("playlist refresh sync: [time:"+b.syncInfo.time+", mediaSequence: "+b.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},c.setDateTimeMappingForStart=function(a){if(this.timelineToDatetimeMappings={},a.segments&&a.segments.length&&a.segments[0].dateTimeObject){var b=a.segments[0],c=b.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[b.timeline]=-c}},c.saveSegmentTimingInfo=function(a){var b=a.segmentInfo,c=a.shouldSaveTimelineMapping,d=this.calculateSegmentTimeMapping_(b,b.timingInfo,c),e=b.segment;d&&(this.saveDiscontinuitySyncInfo_(b),b.playlist.syncInfo||(b.playlist.syncInfo={mediaSequence:b.playlist.mediaSequence+b.mediaIndex,time:e.start}));var f=e.dateTimeObject;e.discontinuity&&c&&f&&(this.timelineToDatetimeMappings[e.timeline]=-f.getTime()/1e3)},c.timestampOffsetForTimeline=function(a){return void 0===this.timelines[a]?null:this.timelines[a].time},c.mappingForTimeline=function(a){return void 0===this.timelines[a]?null:this.timelines[a].mapping},c.calculateSegmentTimeMapping_=function(a,b,c){var d,e,f=a.segment,g=a.part,h=this.timelines[a.timeline];if("number"==typeof a.timestampOffset)h={time:a.startOfSegment,mapping:a.startOfSegment-b.start},c&&(this.timelines[a.timeline]=h,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+a.timeline+": [time: "+h.time+"] [mapping: "+h.mapping+"]")),d=a.startOfSegment,e=b.end+h.mapping;else{if(!h)return!1;d=b.start+h.mapping,e=b.end+h.mapping}return g&&(g.start=d,g.end=e),(!f.start||d<f.start)&&(f.start=d),f.end=e,!0},c.saveDiscontinuitySyncInfo_=function(a){var b=a.playlist,c=a.segment;if(c.discontinuity)this.discontinuities[c.timeline]={time:c.start,accuracy:0};else if(b.discontinuityStarts&&b.discontinuityStarts.length)for(var d=0;d<b.discontinuityStarts.length;d++){var e=b.discontinuityStarts[d],f=b.discontinuitySequence+d+1,g=e-a.mediaIndex,h=Math.abs(g);if(!this.discontinuities[f]||this.discontinuities[f].accuracy>h){var i=void 0;i=g<0?c.start-hg({defaultDuration:b.targetDuration,durationList:b.segments,startIndex:a.mediaIndex,endIndex:e}):c.end+hg({defaultDuration:b.targetDuration,durationList:b.segments,startIndex:a.mediaIndex+1,endIndex:e}),this.discontinuities[f]={time:i,accuracy:h}}}},c.dispose=function(){this.trigger("dispose"),this.off()},b}(Ea.EventTarget),uj=function(a){function b(){var b;return b=a.call(this)||this,b.pendingTimelineChanges_={},b.lastTimelineChanges_={},b}eb.default(b,a);var c=b.prototype;return c.clearPendingTimelineChange=function(a){this.pendingTimelineChanges_[a]=null,this.trigger("pendingtimelinechange")},c.pendingTimelineChange=function(a){var b=a.type,c=a.from,d=a.to;return"number"==typeof c&&"number"==typeof d&&(this.pendingTimelineChanges_[b]={type:b,from:c,to:d},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[b]},c.lastTimelineChange=function(a){var b=a.type,c=a.from,d=a.to;return"number"==typeof c&&"number"==typeof d&&(this.lastTimelineChanges_[b]={type:b,from:c,to:d},delete this.pendingTimelineChanges_[b],this.trigger("timelinechange")),this.lastTimelineChanges_[b]},c.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},b}(Ea.EventTarget),vj=Eh(Fh(function(){function a(a,c,d){return d={path:c,exports:{},require:function(a,c){return b(a,void 0===c||null===c?d.path:c)}},a(d,d.exports),d.exports}function b(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}function c(a){return a.subarray(0,a.byteLength-a[a.byteLength-1])}var d=a(function(a){function b(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function c(a,c,d){return c&&b(a.prototype,c),d&&b(a,d),a}a.exports=c,a.exports.default=a.exports,a.exports.__esModule=!0}),e=a(function(a){function b(c,d){return a.exports=b=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},a.exports.default=a.exports,a.exports.__esModule=!0,b(c,d)}a.exports=b,a.exports.default=a.exports,a.exports.__esModule=!0}),f=a(function(a){function b(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,e(a,b)}a.exports=b,a.exports.default=a.exports,a.exports.__esModule=!0}),g=function(){function a(){this.listeners={}}var b=a.prototype;return b.on=function(a,b){this.listeners[a]||(this.listeners[a]=[]),this.listeners[a].push(b)},b.off=function(a,b){if(!this.listeners[a])return!1;var c=this.listeners[a].indexOf(b);return this.listeners[a]=this.listeners[a].slice(0),this.listeners[a].splice(c,1),c>-1},b.trigger=function(a){var b=this.listeners[a];if(b)if(2===arguments.length)for(var c=b.length,d=0;d<c;++d)b[d].call(this,arguments[1]);else for(var e=Array.prototype.slice.call(arguments,1),f=b.length,g=0;g<f;++g)b[g].apply(this,e)},b.dispose=function(){this.listeners={}},b.pipe=function(a){this.on("data",function(b){a.push(b)})},a}(),h=function(){var a,b,c,d,e,f,g,h,i,j=[[[],[],[],[],[]],[[],[],[],[],[]]],k=j[0],l=j[1],m=k[4],n=l[4],o=[],p=[];for(a=0;a<256;a++)p[(o[a]=a<<1^283*(a>>7))^a]=a;for(b=c=0;!m[b];b^=d||1,c=p[c]||1)for(g=c^c<<1^c<<2^c<<3^c<<4,g=g>>8^255&g^99,m[b]=g,n[g]=b,f=o[e=o[d=o[b]]],i=16843009*f^65537*e^257*d^16843008*b,h=257*o[g]^16843008*g,a=0;a<4;a++)k[a][b]=h=h<<24^h>>>8,l[a][g]=i=i<<24^i>>>8;for(a=0;a<5;a++)k[a]=k[a].slice(0),l[a]=l[a].slice(0);return j},i=null,j=function(){function a(a){i||(i=h()),this._tables=[[i[0][0].slice(),i[0][1].slice(),i[0][2].slice(),i[0][3].slice(),i[0][4].slice()],[i[1][0].slice(),i[1][1].slice(),i[1][2].slice(),i[1][3].slice(),i[1][4].slice()]];var b,c,d,e=this._tables[0][4],f=this._tables[1],g=a.length,j=1;if(4!==g&&6!==g&&8!==g)throw new Error("Invalid aes key size");var k=a.slice(0),l=[];for(this._key=[k,l],b=g;b<4*g+28;b++)d=k[b-1],(b%g==0||8===g&&b%g==4)&&(d=e[d>>>24]<<24^e[d>>16&255]<<16^e[d>>8&255]<<8^e[255&d],b%g==0&&(d=d<<8^d>>>24^j<<24,j=j<<1^283*(j>>7))),k[b]=k[b-g]^d;for(c=0;b;c++,b--)d=k[3&c?b:b-4],l[c]=b<=4||c<4?d:f[0][e[d>>>24]]^f[1][e[d>>16&255]]^f[2][e[d>>8&255]]^f[3][e[255&d]]}return a.prototype.decrypt=function(a,b,c,d,e,f){var g,h,i,j,k=this._key[1],l=a^k[0],m=d^k[1],n=c^k[2],o=b^k[3],p=k.length/4-2,q=4,r=this._tables[1],s=r[0],t=r[1],u=r[2],v=r[3],w=r[4];for(j=0;j<p;j++)g=s[l>>>24]^t[m>>16&255]^u[n>>8&255]^v[255&o]^k[q],h=s[m>>>24]^t[n>>16&255]^u[o>>8&255]^v[255&l]^k[q+1],i=s[n>>>24]^t[o>>16&255]^u[l>>8&255]^v[255&m]^k[q+2],o=s[o>>>24]^t[l>>16&255]^u[m>>8&255]^v[255&n]^k[q+3],q+=4,l=g,m=h,n=i;for(j=0;j<4;j++)e[(3&-j)+f]=w[l>>>24]<<24^w[m>>16&255]<<16^w[n>>8&255]<<8^w[255&o]^k[q++],g=l,l=m,m=n,n=o,o=g},a}(),k=function(a){function b(){var b;return b=a.call(this,g)||this,b.jobs=[],b.delay=1,b.timeout_=null,b}f(b,a);var c=b.prototype;return c.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},c.push=function(a){this.jobs.push(a),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},b}(g),l=function(a){return a<<24|(65280&a)<<8|(16711680&a)>>8|a>>>24},m=function(a,b,c){var d,e,f,g,h,i,k,m,n,o=new Int32Array(a.buffer,a.byteOffset,a.byteLength>>2),p=new j(Array.prototype.slice.call(b)),q=new Uint8Array(a.byteLength),r=new Int32Array(q.buffer);for(d=c[0],e=c[1],f=c[2],g=c[3],n=0;n<o.length;n+=4)h=l(o[n]),i=l(o[n+1]),k=l(o[n+2]),m=l(o[n+3]),p.decrypt(h,i,k,m,r,n),r[n]=l(r[n]^d),r[n+1]=l(r[n+1]^e),r[n+2]=l(r[n+2]^f),r[n+3]=l(r[n+3]^g),d=h,e=i,f=k,g=m;return q},n=function(){function a(b,d,e,f){var g=a.STEP,h=new Int32Array(b.buffer),i=new Uint8Array(b.byteLength),j=0;for(this.asyncStream_=new k,this.asyncStream_.push(this.decryptChunk_(h.subarray(j,j+g),d,e,i)),j=g;j<h.length;j+=g)e=new Uint32Array([l(h[j-4]),l(h[j-3]),l(h[j-2]),l(h[j-1])]),this.asyncStream_.push(this.decryptChunk_(h.subarray(j,j+g),d,e,i));this.asyncStream_.push(function(){f(null,c(i))})}return a.prototype.decryptChunk_=function(a,b,c,d){return function(){var e=m(a,b,c);d.set(e,a.byteOffset)}},d(a,null,[{key:"STEP",get:function(){return 32e3}}]),a}(),o=function(a){var b={};return Object.keys(a).forEach(function(c){var d=a[c];ArrayBuffer.isView(d)?b[c]={bytes:d.buffer,byteOffset:d.byteOffset,byteLength:d.byteLength}:b[c]=d}),b};self.onmessage=function(a){var b=a.data,c=new Uint8Array(b.encrypted.bytes,b.encrypted.byteOffset,b.encrypted.byteLength),d=new Uint32Array(b.key.bytes,b.key.byteOffset,b.key.byteLength/4),e=new Uint32Array(b.iv.bytes,b.iv.byteOffset,b.iv.byteLength/4);new n(c,d,e,function(a,c){self.postMessage(o({source:b.source,decrypted:c}),[c.buffer])})}})),wj=Dh(vj),xj=function(a){var b=a.default?"main":"alternative";return a.characteristics&&a.characteristics.indexOf("public.accessibility.describes-video")>=0&&(b="main-desc"),b},yj=function(a,b){a.abort(),a.pause(),b&&b.activePlaylistLoader&&(b.activePlaylistLoader.pause(),b.activePlaylistLoader=null)},zj=function(a,b){b.activePlaylistLoader=a,a.load()},Aj=function(a,b){return function(){var c=b.segmentLoaders,d=c[a],e=c.main,f=b.mediaTypes[a],g=f.activeTrack(),h=f.getActiveGroup(),i=f.activePlaylistLoader,j=f.lastGroup_;if((!h||!j||h.id!==j.id)&&(f.lastGroup_=h,f.lastTrack_=g,yj(d,f),h&&!h.isMasterPlaylist)){if(!h.playlistLoader)return void(i&&e.resetEverything());d.resyncLoader(),zj(h.playlistLoader,f)}}},Bj=function(a,b){return function(){var c=b.segmentLoaders[a];b.mediaTypes[a].lastGroup_=null,c.abort(),c.pause()}},Cj=function(a,b){return function(){var c=b.masterPlaylistLoader,d=b.segmentLoaders,e=d[a],f=d.main,g=b.mediaTypes[a],h=g.activeTrack(),i=g.getActiveGroup(),j=g.activePlaylistLoader,k=g.lastTrack_;if((!k||!h||k.id!==h.id)&&(g.lastGroup_=i,g.lastTrack_=h,yj(e,g),i)){if(i.isMasterPlaylist){if(!h||!k||h.id===k.id)return;var l=b.vhs.masterPlaylistController_,m=l.selectPlaylist();if(l.media()===m)return;return g.logger_("track change. Switching master audio from "+k.id+" to "+h.id),c.pause(),f.resetEverything(),void l.fastQualityChange_(m)}if("AUDIO"===a){if(!i.playlistLoader)return f.setAudio(!0),void f.resetEverything();e.setAudio(!0),f.setAudio(!1)}if(j===i.playlistLoader)return void zj(i.playlistLoader,g);e.track&&e.track(h),e.resetEverything(),zj(i.playlistLoader,g)}}},Dj={AUDIO:function(a,b){return function(){var c=b.segmentLoaders[a],d=b.mediaTypes[a],e=b.blacklistCurrentPlaylist;yj(c,d);var f=d.activeTrack(),g=d.activeGroup(),h=(g.filter(function(a){return a.default})[0]||g[0]).id,i=d.tracks[h];if(f===i)return void e({message:"Problem encountered loading the default audio track."});Ea.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var j in d.tracks)d.tracks[j].enabled=d.tracks[j]===i;d.onTrackChanged()}},SUBTITLES:function(a,b){return function(){var c=b.segmentLoaders[a],d=b.mediaTypes[a];Ea.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),yj(c,d);var e=d.activeTrack();e&&(e.mode="disabled"),d.onTrackChanged()}}},Ej={AUDIO:function(a,b,c){if(b){var d=c.tech,e=c.requestOptions,f=c.segmentLoaders[a];b.on("loadedmetadata",function(){var a=b.media();f.playlist(a,e),(!d.paused()||a.endList&&"none"!==d.preload())&&f.load()}),b.on("loadedplaylist",function(){f.playlist(b.media(),e),d.paused()||f.load()}),b.on("error",Dj[a](a,c))}},SUBTITLES:function(a,b,c){var d=c.tech,e=c.requestOptions,f=c.segmentLoaders[a],g=c.mediaTypes[a];b.on("loadedmetadata",function(){var a=b.media();f.playlist(a,e),f.track(g.activeTrack()),(!d.paused()||a.endList&&"none"!==d.preload())&&f.load()}),b.on("loadedplaylist",function(){f.playlist(b.media(),e),d.paused()||f.load()}),b.on("error",Dj[a](a,c))}},Fj={AUDIO:function(a,b){var c=b.vhs,d=b.sourceType,e=b.segmentLoaders[a],f=b.requestOptions,g=b.master.mediaGroups,h=b.mediaTypes[a],i=h.groups,j=h.tracks,k=h.logger_,l=b.masterPlaylistLoader,m=vg(l.master);g[a]&&0!==Object.keys(g[a]).length||(g[a]={main:{default:{default:!0}}},m&&(g[a].main.default.playlists=l.master.playlists));for(var n in g[a]){i[n]||(i[n]=[]);for(var o in g[a][n]){var p=g[a][n][o],q=void 0;if(m?(k("AUDIO group '"+n+"' label '"+o+"' is a master playlist"),p.isMasterPlaylist=!0,q=null):q="vhs-json"===d&&p.playlists?new Qg(p.playlists[0],c,f):p.resolvedUri?new Qg(p.resolvedUri,c,f):p.playlists&&"dash"===d?new yh(p.playlists[0],c,f,l):null,p=Ea.mergeOptions({id:o,playlistLoader:q},p),Ej[a](a,p.playlistLoader,b),i[n].push(p),void 0===j[o]){var r=new Ea.AudioTrack({id:o,kind:xj(p),enabled:!1,language:p.language,default:p.default,label:o});j[o]=r}}}e.on("error",Dj[a](a,b))},SUBTITLES:function(a,b){var c=b.tech,d=b.vhs,e=b.sourceType,f=b.segmentLoaders[a],g=b.requestOptions,h=b.master.mediaGroups,i=b.mediaTypes[a],j=i.groups,k=i.tracks,l=b.masterPlaylistLoader;for(var m in h[a]){j[m]||(j[m]=[]);for(var n in h[a][m])if(!h[a][m][n].forced){var o=h[a][m][n],p=void 0;if("hls"===e)p=new Qg(o.resolvedUri,d,g);else if("dash"===e){var q=o.playlists.filter(function(a){return a.excludeUntil!==1/0});if(!q.length)return;p=new yh(o.playlists[0],d,g,l)}else"vhs-json"===e&&(p=new Qg(o.playlists?o.playlists[0]:o.resolvedUri,d,g));if(o=Ea.mergeOptions({id:n,playlistLoader:p},o),Ej[a](a,o.playlistLoader,b),j[m].push(o),void 0===k[n]){var r=c.addRemoteTextTrack({id:n,kind:"subtitles",default:o.default&&o.autoselect,language:o.language,label:n},!1).track;k[n]=r}}}f.on("error",Dj[a](a,b))},"CLOSED-CAPTIONS":function(a,b){var c=b.tech,d=b.master.mediaGroups,e=b.mediaTypes[a],f=e.groups,g=e.tracks;for(var h in d[a]){f[h]||(f[h]=[]);for(var i in d[a][h]){var j=d[a][h][i];if(/^(?:CC|SERVICE)/.test(j.instreamId)){var k=c.options_.vhs&&c.options_.vhs.captionServices||{},l={label:i,language:j.language,instreamId:j.instreamId,default:j.default&&j.autoselect};if(k[l.instreamId]&&(l=Ea.mergeOptions(l,k[l.instreamId])),void 0===l.default&&delete l.default,f[h].push(Ea.mergeOptions({id:i},j)),void 0===g[i]){var m=c.addRemoteTextTrack({id:l.instreamId,kind:"captions",default:l.default,language:l.language,label:l.label},!1).track;g[i]=m}}}}}},Gj=function a(b,c){for(var d=0;d<b.length;d++){if(tg(c,b[d]))return!0;if(b[d].playlists&&a(b[d].playlists,c))return!0}return!1},Hj=function(a,b){return function(c){var d=b.masterPlaylistLoader,e=b.mediaTypes[a].groups,f=d.media();if(!f)return null;var g=null;f.attributes[a]&&(g=e[f.attributes[a]]);var h=Object.keys(e);if(!g)if("AUDIO"===a&&h.length>1&&vg(b.master))for(var i=0;i<h.length;i++){var j=e[h[i]];if(Gj(j,f)){g=j;break}}else e.main?g=e.main:1===h.length&&(g=e[h[0]]);return void 0===c?g:null!==c&&g?g.filter(function(a){return a.id===c.id})[0]||null:null}},Ij={AUDIO:function(a,b){return function(){var c=b.mediaTypes[a].tracks;for(var d in c)if(c[d].enabled)return c[d];return null}},SUBTITLES:function(a,b){return function(){var c=b.mediaTypes[a].tracks;for(var d in c)if("showing"===c[d].mode||"hidden"===c[d].mode)return c[d];return null}}},Jj=function(a,b){var c=b.mediaTypes;return function(){var b=c[a].activeTrack();return b?c[a].activeGroup(b):null}},Kj=function(a){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(b){Fj[b](b,a)});var b=a.mediaTypes,c=a.masterPlaylistLoader,d=a.tech,e=a.vhs,f=a.segmentLoaders,g=f.AUDIO,h=f.main;["AUDIO","SUBTITLES"].forEach(function(c){b[c].activeGroup=Hj(c,a),b[c].activeTrack=Ij[c](c,a),b[c].onGroupChanged=Aj(c,a),b[c].onGroupChanging=Bj(c,a),b[c].onTrackChanged=Cj(c,a),b[c].getActiveGroup=Jj(c,a)});var i=b.AUDIO.activeGroup();if(i){var j=(i.filter(function(a){return a.default})[0]||i[0]).id;b.AUDIO.tracks[j].enabled=!0,b.AUDIO.onGroupChanged(),b.AUDIO.onTrackChanged();b.AUDIO.getActiveGroup().playlistLoader?(h.setAudio(!1),g.setAudio(!0)):h.setAudio(!0)}c.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(a){return b[a].onGroupChanged()})}),c.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(a){return b[a].onGroupChanging()})});var k=function(){b.AUDIO.onTrackChanged(),d.trigger({type:"usage",name:"vhs-audio-change"}),d.trigger({type:"usage",name:"hls-audio-change"})};d.audioTracks().addEventListener("change",k),d.remoteTextTracks().addEventListener("change",b.SUBTITLES.onTrackChanged),e.on("dispose",function(){d.audioTracks().removeEventListener("change",k),d.remoteTextTracks().removeEventListener("change",b.SUBTITLES.onTrackChanged)}),d.clearTracks("audio");for(var l in b.AUDIO.tracks)d.audioTracks().addTrack(b.AUDIO.tracks[l])},Lj=function(){var a={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(b){a[b]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Fa,activeTrack:Fa,getActiveGroup:Fa,onGroupChanged:Fa,onTrackChanged:Fa,lastTrack_:null,logger_:Nf("MediaGroups["+b+"]")}}),a},Mj=120,Nj=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],Oj=function(a){return this.audioSegmentLoader_[a]+this.mainSegmentLoader_[a]},Pj=function(a){var b=a.currentPlaylist,c=a.nextPlaylist,d=a.forwardBuffer,e=a.bufferLowWaterLine,f=a.bufferHighWaterLine,g=a.duration,h=a.experimentalBufferBasedABR,i=a.log;if(!c)return Ea.log.warn("We received no playlist to switch to. Please check your stream."),!1;var j="allowing switch "+(b&&b.id||"null")+" -> "+c.id;if(!b||!b.endList)return i(j+" as current playlist "+(b?"is live":"is not set")),!0;if(c.id===b.id)return!1;var k=h?zh.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:zh.MAX_BUFFER_LOW_WATER_LINE;if(g<k)return i(j+" as duration < max low water line ("+g+" < "+k+")"),!0;var l=c.attributes.BANDWIDTH,m=b.attributes.BANDWIDTH;if(l<m&&(!h||d<f)){var n=j+" as next bandwidth < current bandwidth ("+l+" < "+m+")";return h&&(n+=" and forwardBuffer < bufferHighWaterLine ("+d+" < "+f+")"),i(n),!0}if((!h||l>m)&&d>=e){var o=j+" as forwardBuffer >= bufferLowWaterLine ("+d+" >= "+e+")";return h&&(o+=" and next bandwidth > current bandwidth ("+l+" > "+m+")"),i(o),!0}return i("not "+j+" as no switching criteria met"),!1},Qj=function(a){function b(b){var c;c=a.call(this)||this;var d=b.src,e=b.handleManifestRedirects,f=b.withCredentials,g=b.tech,h=b.bandwidth,i=b.externVhs,j=b.useCueTags,k=b.blacklistDuration,l=b.enableLowInitialPlaylist,m=b.sourceType,n=b.cacheEncryptionKeys,o=b.experimentalBufferBasedABR;if(!d)throw new Error("A non-empty playlist URL or JSON manifest string is required");var p=b.maxPlaylistRetries;null!==p&&void 0!==p||(p=1/0),Kf=i,c.experimentalBufferBasedABR=Boolean(o),c.withCredentials=f,c.tech_=g,c.vhs_=g.vhs,c.sourceType_=m,c.useCueTags_=j,c.blacklistDuration=k,c.maxPlaylistRetries=p,c.enableLowInitialPlaylist=l,c.useCueTags_&&(c.cueTagsTrack_=c.tech_.addTextTrack("metadata","ad-cues"),c.cueTagsTrack_.inBandMetadataTrackDispatchType=""),c.requestOptions_={withCredentials:f,handleManifestRedirects:e,maxPlaylistRetries:p,timeout:null},c.on("error",c.pauseLoading),c.mediaTypes_=Lj(),c.mediaSource=new ab.default.MediaSource,c.handleDurationChange_=c.handleDurationChange_.bind(db.default(c)),c.handleSourceOpen_=c.handleSourceOpen_.bind(db.default(c)),c.handleSourceEnded_=c.handleSourceEnded_.bind(db.default(c)),c.mediaSource.addEventListener("durationchange",c.handleDurationChange_),c.mediaSource.addEventListener("sourceopen",c.handleSourceOpen_),c.mediaSource.addEventListener("sourceended",c.handleSourceEnded_),c.seekable_=Ea.createTimeRanges(),c.hasPlayed_=!1,c.syncController_=new tj(b),c.segmentMetadataTrack_=g.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,c.decrypter_=new wj,c.sourceUpdater_=new mj(c.mediaSource),c.inbandTextTracks_={},c.timelineChangeController_=new uj;var q={vhs:c.vhs_,parse708captions:b.parse708captions,mediaSource:c.mediaSource,currentTime:c.tech_.currentTime.bind(c.tech_),seekable:function(){return c.seekable()},seeking:function(){return c.tech_.seeking()},duration:function(){return c.duration()},hasPlayed:function(){return c.hasPlayed_},goalBufferLength:function(){return c.goalBufferLength()},bandwidth:h,syncController:c.syncController_,decrypter:c.decrypter_,sourceType:c.sourceType_,inbandTextTracks:c.inbandTextTracks_,cacheEncryptionKeys:n,sourceUpdater:c.sourceUpdater_,timelineChangeController:c.timelineChangeController_};c.masterPlaylistLoader_="dash"===c.sourceType_?new yh(d,c.vhs_,c.requestOptions_):new Qg(d,c.vhs_,c.requestOptions_),c.setupMasterPlaylistLoaderListeners_(),c.mainSegmentLoader_=new bj(Ea.mergeOptions(q,{segmentMetadataTrack:c.segmentMetadataTrack_,loaderType:"main"}),b),c.audioSegmentLoader_=new bj(Ea.mergeOptions(q,{loaderType:"audio"}),b),c.subtitleSegmentLoader_=new pj(Ea.mergeOptions(q,{loaderType:"vtt",featuresNativeTextTracks:c.tech_.featuresNativeTextTracks}),b),c.setupSegmentLoaderListeners_(),c.experimentalBufferBasedABR&&(c.masterPlaylistLoader_.one("loadedplaylist",function(){return c.startABRTimer_()}),c.tech_.on("pause",function(){return c.stopABRTimer_()}),c.tech_.on("play",function(){return c.startABRTimer_()})),Nj.forEach(function(a){c[a+"_"]=Oj.bind(db.default(c),a)}),c.logger_=Nf("MPC"),c.triggeredFmp4Usage=!1,"none"===c.tech_.preload()?(c.loadOnPlay_=function(){c.loadOnPlay_=null,c.masterPlaylistLoader_.load()},c.tech_.one("play",c.loadOnPlay_)):c.masterPlaylistLoader_.load(),c.timeToLoadedData__=-1,c.mainAppendsToLoadedData__=-1,c.audioAppendsToLoadedData__=-1;var r="none"===c.tech_.preload()?"play":"loadstart";return c.tech_.one(r,function(){var a=Date.now();c.tech_.one("loadeddata",function(){c.timeToLoadedData__=Date.now()-a,c.mainAppendsToLoadedData__=c.mainSegmentLoader_.mediaAppends,c.audioAppendsToLoadedData__=c.audioSegmentLoader_.mediaAppends})}),c}eb.default(b,a);var c=b.prototype;return c.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},c.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},c.appendsToLoadedData_=function(){var a=this.mainAppendsToLoadedData_(),b=this.audioAppendsToLoadedData_();return-1===a||-1===b?-1:a+b},c.timeToLoadedData_=function(){return this.timeToLoadedData__},c.checkABR_=function(){var a=this.selectPlaylist();this.shouldSwitchToMedia_(a)&&this.switchMedia_(a,"abr")},c.switchMedia_=function(a,b,c){var d=this.media(),e=d&&(d.id||d.uri),f=a.id||a.uri;e&&e!==f&&(this.logger_("switch media "+e+" -> "+f+" from "+b),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+b})),this.masterPlaylistLoader_.media(a,c)},c.startABRTimer_=function(){var a=this;this.stopABRTimer_(),this.abrTimer_=ab.default.setInterval(function(){return a.checkABR_()},250)},c.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(ab.default.clearInterval(this.abrTimer_),this.abrTimer_=null)},c.getAudioTrackPlaylists_=function(){var a=this.master();if(!a||!a.mediaGroups||!a.mediaGroups.AUDIO)return a&&a.playlists||[];var b,c=a.mediaGroups.AUDIO,d=Object.keys(c);if(Object.keys(this.mediaTypes_.AUDIO.groups).length)b=this.mediaTypes_.AUDIO.activeTrack();else{var e=c.main||d.length&&c[d[0]];for(var f in e)if(e[f].default){b={label:f};break}}if(!b)return[];var g=[];for(var h in c)if(c[h][b.label]){var i=c[h][b.label];i.playlists?g.push.apply(g,i.playlists):g.push(i)}return g},c.setupMasterPlaylistLoaderListeners_=function(){var a=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var b=a.masterPlaylistLoader_.media(),c=1.5*b.targetDuration*1e3;sg(a.masterPlaylistLoader_.master,a.masterPlaylistLoader_.media())?a.requestOptions_.timeout=0:a.requestOptions_.timeout=c,b.endList&&"none"!==a.tech_.preload()&&(a.mainSegmentLoader_.playlist(b,a.requestOptions_),a.mainSegmentLoader_.load()),Kj({sourceType:a.sourceType_,segmentLoaders:{AUDIO:a.audioSegmentLoader_,SUBTITLES:a.subtitleSegmentLoader_,main:a.mainSegmentLoader_},tech:a.tech_,requestOptions:a.requestOptions_,masterPlaylistLoader:a.masterPlaylistLoader_,vhs:a.vhs_,master:a.master(),mediaTypes:a.mediaTypes_,blacklistCurrentPlaylist:a.blacklistCurrentPlaylist.bind(a)}),a.triggerPresenceUsage_(a.master(),b),a.setupFirstPlay(),!a.mediaTypes_.AUDIO.activePlaylistLoader||a.mediaTypes_.AUDIO.activePlaylistLoader.media()?a.trigger("selectedinitialmedia"):a.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){a.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){a.loadOnPlay_&&a.tech_.off("play",a.loadOnPlay_);var b=a.masterPlaylistLoader_.media();if(!b){a.excludeUnsupportedVariants_();var c;if(a.enableLowInitialPlaylist&&(c=a.selectInitialPlaylist()),c||(c=a.selectPlaylist()),!c||!a.shouldSwitchToMedia_(c))return;a.initialMedia_=c,a.switchMedia_(a.initialMedia_,"initial");if(!("vhs-json"===a.sourceType_&&a.initialMedia_.segments))return;b=a.initialMedia_}a.handleUpdatedMediaPlaylist(b)}),this.masterPlaylistLoader_.on("error",function(){a.blacklistCurrentPlaylist(a.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){a.mainSegmentLoader_.abort(),a.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var b=a.masterPlaylistLoader_.media(),c=1.5*b.targetDuration*1e3;sg(a.masterPlaylistLoader_.master,a.masterPlaylistLoader_.media())?a.requestOptions_.timeout=0:a.requestOptions_.timeout=c,a.mainSegmentLoader_.playlist(b,a.requestOptions_),a.mainSegmentLoader_.load(),a.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var b=a.masterPlaylistLoader_.media();if("playlist-unchanged"!==b.lastExcludeReason_){a.stuckAtPlaylistEnd_(b)&&(a.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),a.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){a.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),a.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){a.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),a.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},c.handleUpdatedMediaPlaylist=function(a){this.useCueTags_&&this.updateAdCues_(a),this.mainSegmentLoader_.playlist(a,this.requestOptions_),this.updateDuration(!a.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},c.triggerPresenceUsage_=function(a,b){var c=a.mediaGroups||{},d=!0,e=Object.keys(c.AUDIO);for(var f in c.AUDIO)for(var g in c.AUDIO[f]){var h=c.AUDIO[f][g];h.uri||(d=!1)}d&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(c.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),Kf.Playlist.isAes(b)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),e.length&&Object.keys(c.AUDIO[e[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},c.shouldSwitchToMedia_=function(a){var b=this.masterPlaylistLoader_.media(),c=this.tech_.buffered(),d=c.length?c.end(c.length-1)-this.tech_.currentTime():0,e=this.bufferLowWaterLine(),f=this.bufferHighWaterLine();return Pj({currentPlaylist:b,nextPlaylist:a,forwardBuffer:d,bufferLowWaterLine:e,bufferHighWaterLine:f,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},c.setupSegmentLoaderListeners_=function(){var a=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",function(){var b=a.selectPlaylist();a.shouldSwitchToMedia_(b)&&a.switchMedia_(b,"bandwidthupdate"),a.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){a.trigger("progress")})),this.mainSegmentLoader_.on("error",function(){a.blacklistCurrentPlaylist(a.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){a.error=a.mainSegmentLoader_.error_,a.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){a.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){a.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),a.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){a.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){a.error=a.audioSegmentLoader_.error_,a.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){a.logger_("main segment loader ended"),a.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(b){a.experimentalBufferBasedABR||(a.delegateLoaders_("all",["abort"]),a.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},Mj))});var b=function(){if(!a.sourceUpdater_.hasCreatedSourceBuffers())return a.tryToCreateSourceBuffers_();var b=a.getCodecsOrExclude_();b&&a.sourceUpdater_.addOrChangeSourceBuffers(b)};this.mainSegmentLoader_.on("trackinfo",b),this.audioSegmentLoader_.on("trackinfo",b),this.mainSegmentLoader_.on("fmp4",function(){a.triggeredFmp4Usage||(a.tech_.trigger({type:"usage",name:"vhs-fmp4"}),a.tech_.trigger({type:"usage",name:"hls-fmp4"}),a.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){a.triggeredFmp4Usage||(a.tech_.trigger({type:"usage",name:"vhs-fmp4"}),a.tech_.trigger({type:"usage",name:"hls-fmp4"}),a.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){a.logger_("audioSegmentLoader ended"),a.onEndOfStream()})},c.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},c.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},c.smoothQualityChange_=function(a){void 0===a&&(a=this.selectPlaylist()),this.fastQualityChange_(a)},c.fastQualityChange_=function(a){var b=this;if(void 0===a&&(a=this.selectPlaylist()),a===this.masterPlaylistLoader_.media())return void this.logger_("skipping fastQualityChange because new media is same as old");this.switchMedia_(a,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){Ea.browser.IE_VERSION||Ea.browser.IS_EDGE?b.tech_.setCurrentTime(b.tech_.currentTime()+.04):b.tech_.setCurrentTime(b.tech_.currentTime())})},c.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var a=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<a.start(0)?this.tech_.setCurrentTime(a.end(a.length-1)):void 0}},c.setupFirstPlay=function(){var a=this,b=this.masterPlaylistLoader_.media();if(!b||this.tech_.paused()||this.hasPlayed_)return!1;if(!b.endList){var c=this.seekable();if(!c.length)return!1;if(Ea.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){a.trigger("firstplay"),a.tech_.setCurrentTime(c.end(0)),a.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(c.end(0))}return this.hasPlayed_=!0,this.load(),!0},c.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var a=this.tech_.play();void 0!==a&&"function"==typeof a.then&&a.then(null,function(a){})}this.trigger("sourceopen")},c.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var a=this.inbandTextTracks_.metadataTrack_.cues;if(a&&a.length){var b=this.duration();a[a.length-1].endTime=isNaN(b)||Math.abs(b)===1/0?Number.MAX_VALUE:b}}},c.handleDurationChange_=function(){this.tech_.trigger("durationchange")},c.onEndOfStream=function(){var a=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var b=this.mainSegmentLoader_.getCurrentMediaInfo_();a=!b||b.hasVideo?a&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_}a&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},c.stuckAtPlaylistEnd_=function(a){if(!this.seekable().length)return!1;var b=this.syncController_.getExpiredTime(a,this.duration());if(null===b)return!1;var c=Kf.Playlist.playlistEnd(a,b),d=this.tech_.currentTime(),e=this.tech_.buffered();if(!e.length)return c-d<=Pf;var f=e.end(e.length-1);return f-d<=Pf&&c-f<=Pf},c.blacklistCurrentPlaylist=function(a,b){void 0===a&&(a={});var c=a.playlist||this.masterPlaylistLoader_.media();if(b=b||a.blacklistDuration||this.blacklistDuration,!c)return this.error=a,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));c.playlistErrors_++;var d=this.masterPlaylistLoader_.master.playlists,e=d.filter(ng),f=1===e.length&&e[0]===c;if(1===d.length&&b!==1/0)return Ea.log.warn("Problem encountered with playlist "+c.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(f);if(f){var g=!1;d.forEach(function(a){if(a!==c){var b=a.excludeUntil;void 0!==b&&b!==1/0&&(g=!0,delete a.excludeUntil)}}),g&&(Ea.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var h;h=c.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*b,c.excludeUntil=h,a.reason&&(c.lastExcludeReason_=a.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var i=this.selectPlaylist();if(!i)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");var j=a.internal?this.logger_:Ea.log.warn,k=a.message?" "+a.message:"";j((a.internal?"Internal problem":"Problem")+" encountered with playlist "+c.id+"."+k+" Switching to playlist "+i.id+"."),i.attributes.AUDIO!==c.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),i.attributes.SUBTITLES!==c.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var l=i.targetDuration/2*1e3||5e3,m="number"==typeof i.lastRequest&&Date.now()-i.lastRequest<=l;return this.switchMedia_(i,"exclude",f||m)},c.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},c.delegateLoaders_=function(a,b){var c=this,d=[],e="all"===a;(e||"main"===a)&&d.push(this.masterPlaylistLoader_);var f=[];(e||"audio"===a)&&f.push("AUDIO"),(e||"subtitle"===a)&&(f.push("CLOSED-CAPTIONS"),f.push("SUBTITLES")),f.forEach(function(a){var b=c.mediaTypes_[a]&&c.mediaTypes_[a].activePlaylistLoader;b&&d.push(b)}),["main","audio","subtitle"].forEach(function(b){var e=c[b+"SegmentLoader_"];!e||a!==b&&"all"!==a||d.push(e)}),d.forEach(function(a){return b.forEach(function(b){"function"==typeof a[b]&&a[b]()})})},c.setCurrentTime=function(a){var b=Rf(this.tech_.buffered(),a);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?b&&b.length?a:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},c.duration=function(){if(!this.masterPlaylistLoader_)return 0;var a=this.masterPlaylistLoader_.media();return a?a.endList?this.mediaSource?this.mediaSource.duration:Kf.Playlist.duration(a):1/0:0},c.seekable=function(){return this.seekable_},c.onSyncInfoUpdate_=function(){var a;if(this.masterPlaylistLoader_){var b=this.masterPlaylistLoader_.media();if(b){var c=this.syncController_.getExpiredTime(b,this.duration());if(null!==c){var d=this.masterPlaylistLoader_.master,e=Kf.Playlist.seekable(b,c,Kf.Playlist.liveEdgeDelay(d,b));if(0!==e.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(b=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(c=this.syncController_.getExpiredTime(b,this.duration())))return;if(a=Kf.Playlist.seekable(b,c,Kf.Playlist.liveEdgeDelay(d,b)),0===a.length)return}var f,g;this.seekable_&&this.seekable_.length&&(f=this.seekable_.end(0),g=this.seekable_.start(0)),a?a.start(0)>e.end(0)||e.start(0)>a.end(0)?this.seekable_=e:this.seekable_=Ea.createTimeRanges([[a.start(0)>e.start(0)?a.start(0):e.start(0),a.end(0)<e.end(0)?a.end(0):e.end(0)]]):this.seekable_=e,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===f&&this.seekable_.start(0)===g||(this.logger_("seekable updated ["+Vf(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},c.updateDuration=function(a){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,a),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(a){var b=this.seekable();if(!b.length)return;return void((isNaN(this.mediaSource.duration)||this.mediaSource.duration<b.end(b.length-1))&&this.sourceUpdater_.setDuration(b.end(b.length-1)))}var c=this.tech_.buffered(),d=Kf.Playlist.duration(this.masterPlaylistLoader_.media());c.length>0&&(d=Math.max(d,c.end(c.length-1))),this.mediaSource.duration!==d&&this.sourceUpdater_.setDuration(d)},c.dispose=function(){var a=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(b){var c=a.mediaTypes_[b].groups;for(var d in c)c[d].forEach(function(a){a.playlistLoader&&a.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},c.master=function(){return this.masterPlaylistLoader_.master},c.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},c.areMediaTypesKnown_=function(){var a=!!this.mediaTypes_.AUDIO.activePlaylistLoader,b=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),c=!a||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return!(!b||!c)},c.getCodecsOrExclude_=function(){var a=this,b={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};b.video=b.main;var c=qi(this.master(),this.media()),d={},e=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(b.main.hasVideo&&(d.video=c.video||b.main.videoCodec||Ua.DEFAULT_VIDEO_CODEC),b.main.isMuxed&&(d.video+=","+(c.audio||b.main.audioCodec||Ua.DEFAULT_AUDIO_CODEC)),(b.main.hasAudio&&!b.main.isMuxed||b.audio.hasAudio||e)&&(d.audio=c.audio||b.main.audioCodec||b.audio.audioCodec||Ua.DEFAULT_AUDIO_CODEC,b.audio.isFmp4=b.main.hasAudio&&!b.main.isMuxed?b.main.isFmp4:b.audio.isFmp4),!d.audio&&!d.video)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0});var f,g=function(a,b){return a?Ua.browserSupportsCodec(b):Ua.muxerSupportsCodec(b)},h={};if(["video","audio"].forEach(function(a){if(d.hasOwnProperty(a)&&!g(b[a].isFmp4,d[a])){var c=b[a].isFmp4?"browser":"muxer";h[c]=h[c]||[],h[c].push(d[a]),"audio"===a&&(f=c)}}),e&&f&&this.media().attributes.AUDIO){var i=this.media().attributes.AUDIO;this.master().playlists.forEach(function(b){(b.attributes&&b.attributes.AUDIO)===i&&b!==a.media()&&(b.excludeUntil=1/0)}),this.logger_("excluding audio group "+i+" as "+f+' does not support codec(s): "'+d.audio+'"')}if(Object.keys(h).length){var j=Object.keys(h).reduce(function(a,b){return a&&(a+=", "),a+=b+' does not support codec(s): "'+h[b].join(",")+'"'},"")+".";return void this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:j,blacklistDuration:1/0})}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var k=[];if(["video","audio"].forEach(function(b){var c=(Ua.parseCodecs(a.sourceUpdater_.codecs[b]||"")[0]||{}).type,e=(Ua.parseCodecs(d[b]||"")[0]||{}).type;c&&e&&c.toLowerCase()!==e.toLowerCase()&&k.push('"'+a.sourceUpdater_.codecs[b]+'" -> "'+d[b]+'"')}),k.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+k.join(", ")+".",blacklistDuration:1/0,internal:!0})}return d},c.tryToCreateSourceBuffers_=function(){if("open"===this.mediaSource.readyState&&!this.sourceUpdater_.hasCreatedSourceBuffers()&&this.areMediaTypesKnown_()){var a=this.getCodecsOrExclude_();if(a){this.sourceUpdater_.createSourceBuffers(a);var b=[a.video,a.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(b)}}},c.excludeUnsupportedVariants_=function(){var a=this,b=this.master().playlists,c=[];Object.keys(b).forEach(function(d){var e=b[d];if(-1===c.indexOf(e.id)){c.push(e.id);var f=qi(a.master,e),g=[];!f.audio||Ua.muxerSupportsCodec(f.audio)||Ua.browserSupportsCodec(f.audio)||g.push("audio codec "+f.audio),!f.video||Ua.muxerSupportsCodec(f.video)||Ua.browserSupportsCodec(f.video)||g.push("video codec "+f.video),f.text&&"stpp.ttml.im1t"===f.text&&g.push("text codec "+f.text),g.length&&(e.excludeUntil=1/0,a.logger_("excluding "+e.id+" for unsupported: "+g.join(", ")))}})},c.excludeIncompatibleVariants_=function(a){var b=this,c=[],d=this.master().playlists,e=oi(Ua.parseCodecs(a)),f=pi(e),g=e.video&&Ua.parseCodecs(e.video)[0]||null,h=e.audio&&Ua.parseCodecs(e.audio)[0]||null;Object.keys(d).forEach(function(a){var e=d[a];if(-1===c.indexOf(e.id)&&e.excludeUntil!==1/0){c.push(e.id);var i=[],j=qi(b.masterPlaylistLoader_.master,e),k=pi(j);if(j.audio||j.video){if(k!==f&&i.push('codec count "'+k+'" !== "'+f+'"'),!b.sourceUpdater_.canChangeType()){var l=j.video&&Ua.parseCodecs(j.video)[0]||null,m=j.audio&&Ua.parseCodecs(j.audio)[0]||null;l&&g&&l.type.toLowerCase()!==g.type.toLowerCase()&&i.push('video codec "'+l.type+'" !== "'+g.type+'"'),m&&h&&m.type.toLowerCase()!==h.type.toLowerCase()&&i.push('audio codec "'+m.type+'" !== "'+h.type+'"')}i.length&&(e.excludeUntil=1/0,b.logger_("blacklisting "+e.id+": "+i.join(" && ")))}}})},c.updateAdCues_=function(a){var b=0,c=this.seekable();c.length&&(b=c.start(0)),rj(a,this.cueTagsTrack_,b)},c.goalBufferLength=function(){var a=this.tech_.currentTime(),b=zh.GOAL_BUFFER_LENGTH,c=zh.GOAL_BUFFER_LENGTH_RATE,d=Math.max(b,zh.MAX_GOAL_BUFFER_LENGTH);return Math.min(b+a*c,d)},c.bufferLowWaterLine=function(){var a=this.tech_.currentTime(),b=zh.BUFFER_LOW_WATER_LINE,c=zh.BUFFER_LOW_WATER_LINE_RATE,d=Math.max(b,zh.MAX_BUFFER_LOW_WATER_LINE),e=Math.max(b,zh.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(b+a*c,this.experimentalBufferBasedABR?e:d)},c.bufferHighWaterLine=function(){return zh.BUFFER_HIGH_WATER_LINE},b}(Ea.EventTarget),Rj=function(a,b,c){return function(d){var e=a.master.playlists[b],f=mg(e),g=ng(e);return void 0===d?g:(d?delete e.disabled:e.disabled=!0,d===g||f||(c(),d?a.trigger("renditionenabled"):a.trigger("renditiondisabled")),d)}},Sj=function(a,b,c){var d=a.masterPlaylistController_,e=a.options_.smoothQualityChange,f=e?"smooth":"fast",g=d[f+"QualityChange_"].bind(d);if(b.attributes){var h=b.attributes.RESOLUTION;this.width=h&&h.width,this.height=h&&h.height,this.bandwidth=b.attributes.BANDWIDTH}this.codecs=qi(d.master(),b),this.playlist=b,this.id=c,this.enabled=Rj(a.playlists,b.id,g)},Tj=function(a){a.representations=function(){var b=a.masterPlaylistController_.master(),c=vg(b)?a.masterPlaylistController_.getAudioTrackPlaylists_():b.playlists;return c?c.filter(function(a){return!mg(a)}).map(function(b,c){return new Sj(a,b,b.id)}):[]}},Uj=["seeking","seeked","pause","playing","error"],Vj=function(a){var b=a.buffered,c=a.targetDuration,d=a.currentTime;return!!b.length&&(!(b.end(0)-b.start(0)<2*c)&&(!(d>b.start(0))&&b.start(0)-d<c))},Wj=function(){function a(a){var b=this;this.masterPlaylistController_=a.masterPlaylistController,this.tech_=a.tech,this.seekable=a.seekable,this.allowSeeksWithinUnsafeLiveWindow=a.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=a.liveRangeSafeTimeDelta,this.media=a.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Nf("PlaybackWatcher"),this.logger_("initialize");var c=function(){return b.monitorCurrentTime_()},d=function(){return b.monitorCurrentTime_()},e=function(){return b.techWaiting_()},f=function(){return b.cancelTimer_()},g=function(){return b.fixesBadSeeks_()},h=this.masterPlaylistController_,i=["main","subtitle","audio"],j={};i.forEach(function(a){j[a]={reset:function(){return b.resetSegmentDownloads_(a)},updateend:function(){return b.checkSegmentDownloads_(a)}},h[a+"SegmentLoader_"].on("appendsdone",j[a].updateend),h[a+"SegmentLoader_"].on("playlistupdate",j[a].reset),b.tech_.on(["seeked","seeking"],j[a].reset)}),this.tech_.on("seekablechanged",g),this.tech_.on("waiting",e),this.tech_.on(Uj,f),this.tech_.on("canplay",d),this.tech_.one("play",c),this.dispose=function(){b.logger_("dispose"),b.tech_.off("seekablechanged",g),b.tech_.off("waiting",e),b.tech_.off(Uj,f),b.tech_.off("canplay",d),b.tech_.off("play",c),i.forEach(function(a){h[a+"SegmentLoader_"].off("appendsdone",j[a].updateend),h[a+"SegmentLoader_"].off("playlistupdate",j[a].reset),b.tech_.off(["seeked","seeking"],j[a].reset)}),b.checkCurrentTimeTimeout_&&ab.default.clearTimeout(b.checkCurrentTimeTimeout_),b.cancelTimer_()}}var b=a.prototype;return b.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&ab.default.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=ab.default.setTimeout(this.monitorCurrentTime_.bind(this),250)},b.resetSegmentDownloads_=function(a){var b=this.masterPlaylistController_[a+"SegmentLoader_"];this[a+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+a+" loader"),this[a+"StalledDownloads_"]=0,this[a+"Buffered_"]=b.buffered_()},b.checkSegmentDownloads_=function(a){var b=this.masterPlaylistController_,c=b[a+"SegmentLoader_"],d=c.buffered_(),e=Yf(this[a+"Buffered_"],d);if(this[a+"Buffered_"]=d,e)return void this.resetSegmentDownloads_(a);this[a+"StalledDownloads_"]++,this.logger_("found #"+this[a+"StalledDownloads_"]+" "+a+" appends that did not increase buffer (possible stalled download)",{playlistId:c.playlist_&&c.playlist_.id,buffered:Xf(d)}),this[a+"StalledDownloads_"]<10||(this.logger_(a+" loader stalled download exclusion"),this.resetSegmentDownloads_(a),this.tech_.trigger({type:"usage",name:"vhs-"+a+"-download-exclusion"}),"subtitle"!==a&&b.blacklistCurrentPlaylist({message:"Excessive "+a+" segment downloading detected."},1/0))},b.checkCurrentTime_=function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var a=this.tech_.currentTime(),b=this.tech_.buffered();if(this.lastRecordedTime===a&&(!b.length||a+Pf>=b.end(b.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&a===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):a===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=a)}},b.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},b.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var a,b=this.seekable(),c=this.tech_.currentTime(),d=this.afterSeekableWindow_(b,c,this.media(),this.allowSeeksWithinUnsafeLiveWindow);if(d){a=b.end(b.length-1)}if(this.beforeSeekableWindow_(b,c)){var e=b.start(0);a=e+(e===b.end(0)?0:Pf)}if(void 0!==a)return this.logger_("Trying to seek outside of seekable at time "+c+" with seekable range "+Vf(b)+". Seeking to "+a+"."),this.tech_.setCurrentTime(a),!0;var f=this.tech_.buffered();return!!Vj({buffered:f,targetDuration:this.media().targetDuration,currentTime:c})&&(a=f.start(0)+Pf,this.logger_("Buffered region starts ("+f.start(0)+")  just beyond seek point ("+c+"). Seeking to "+a+"."),this.tech_.setCurrentTime(a),!0)},b.waiting_=function(){if(!this.techWaiting_()){var a=this.tech_.currentTime(),b=this.tech_.buffered(),c=Rf(b,a);return c.length&&a+3<=c.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(a),this.logger_("Stopped at "+a+" while inside a buffered region ["+c.start(0)+" -> "+c.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}},b.techWaiting_=function(){var a=this.seekable(),b=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(a,b)){var c=a.end(a.length-1);return this.logger_("Fell out of live window at time "+b+". Seeking to live point (seekable end) "+c),this.cancelTimer_(),this.tech_.setCurrentTime(c),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var d=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,e=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:d.audioBuffered(),videoBuffered:d.videoBuffered(),currentTime:b}))return this.cancelTimer_(),this.tech_.setCurrentTime(b),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var f=Sf(e,b);if(f.length>0){var g=f.start(0)-b;return this.logger_("Stopped at "+b+", setting timer for "+g+", seeking to "+f.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*g,b),!0}return!1},b.afterSeekableWindow_=function(a,b,c,d){if(void 0===d&&(d=!1),!a.length)return!1;var e=a.end(a.length-1)+Pf;return!c.endList&&d&&(e=a.end(a.length-1)+3*c.targetDuration),b>e},b.beforeSeekableWindow_=function(a,b){return!!(a.length&&a.start(0)>0&&b<a.start(0)-this.liveRangeSafeTimeDelta)},b.videoUnderflow_=function(a){var b=a.videoBuffered,c=a.audioBuffered,d=a.currentTime;if(b){var e;if(b.length&&c.length){var f=Rf(b,d-3),g=Rf(b,d),h=Rf(c,d);h.length&&!g.length&&f.length&&(e={start:f.end(0),end:h.end(0)})}else{Sf(b,d).length||(e=this.gapFromVideoUnderflow_(b,d))}return!!e&&(this.logger_("Encountered a gap in video from "+e.start+" to "+e.end+". Seeking to current time "+d),!0)}},b.skipTheGap_=function(a){var b=this.tech_.buffered(),c=this.tech_.currentTime(),d=Sf(b,c);this.cancelTimer_(),0!==d.length&&c===a&&(this.logger_("skipTheGap_:","currentTime:",c,"scheduled currentTime:",a,"nextRange start:",d.start(0)),this.tech_.setCurrentTime(d.start(0)+Of),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},b.gapFromVideoUnderflow_=function(a,b){for(var c=Tf(a),d=0;d<c.length;d++){var e=c.start(d),f=c.end(d);if(b-e<4&&b-e>2)return{start:e,end:f}}return null},a}(),Xj={errorInterval:30,getSource:function(a){return a(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},Yj=function a(b,c){var d=0,e=0,f=Ea.mergeOptions(Xj,c);b.ready(function(){b.trigger({type:"usage",name:"vhs-error-reload-initialized"}),b.trigger({type:"usage",name:"hls-error-reload-initialized"})});var g=function(){e&&b.currentTime(e)},h=function(a){null!==a&&void 0!==a&&(e=b.duration()!==1/0&&b.currentTime()||0,b.one("loadedmetadata",g),b.src(a),b.trigger({type:"usage",name:"vhs-error-reload"}),b.trigger({type:"usage",name:"hls-error-reload"}),b.play())},i=function(){return Date.now()-d<1e3*f.errorInterval?(b.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void b.trigger({type:"usage",name:"hls-error-reload-canceled"})):f.getSource&&"function"==typeof f.getSource?(d=Date.now(),f.getSource.call(b,h)):void Ea.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},j=function a(){b.off("loadedmetadata",g),b.off("error",i),b.off("dispose",a)},k=function(c){j(),a(b,c)};b.on("error",i),b.on("dispose",j),b.reloadSourceOnError=k},Zj=function(a){Yj(this,a)},$j="2.9.2",_j="5.12.2",ak="0.17.0",bk="4.7.0",ck="3.1.2",dk={PlaylistLoader:Qg,Playlist:wg,utils:eh,STANDARD_PLAYLIST_SELECTOR:yi,INITIAL_PLAYLIST_SELECTOR:Bi,lastBandwidthSelector:yi,movingAverageBandwidthSelector:zi,comparePlaylistBandwidth:vi,comparePlaylistResolution:wi,xhr:Ug()};Object.keys(zh).forEach(function(a){Object.defineProperty(dk,a,{get:function(){return Ea.log.warn("using Vhs."+a+" is UNSAFE be sure you know what you are doing"),zh[a]},set:function(b){if(Ea.log.warn("using Vhs."+a+" is UNSAFE be sure you know what you are doing"),"number"!=typeof b||b<0)return void Ea.log.warn("value of Vhs."+a+" must be greater than or equal to 0");zh[a]=b}})});var ek="videojs-vhs",fk=function(a,b){for(var c=b.media(),d=-1,e=0;e<a.length;e++)if(a[e].id===c.id){d=e;break}a.selectedIndex_=d,a.trigger({selectedIndex:d,type:"change"})},gk=function(a,b){b.representations().forEach(function(b){a.addQualityLevel(b)}),fk(a,b.playlists)};dk.canPlaySource=function(){return Ea.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var hk=function(a,b,c){if(!a)return a;var d={};b&&b.attributes&&b.attributes.CODECS&&(d=oi(Ua.parseCodecs(b.attributes.CODECS))),c&&c.attributes&&c.attributes.CODECS&&(d.audio=c.attributes.CODECS);var e=Ua.getMimeForCodec(d.video),f=Ua.getMimeForCodec(d.audio),g={};for(var h in a)g[h]={},f&&(g[h].audioContentType=f),e&&(g[h].videoContentType=e),b.contentProtection&&b.contentProtection[h]&&b.contentProtection[h].pssh&&(g[h].pssh=b.contentProtection[h].pssh),"string"==typeof a[h]&&(g[h].url=a[h]);return Ea.mergeOptions(a,g)},ik=function(a,b){return a.reduce(function(a,c){if(!c.contentProtection)return a;var d=b.reduce(function(a,b){var d=c.contentProtection[b];return d&&d.pssh&&(a[b]={pssh:d.pssh}),a},{});return Object.keys(d).length&&a.push(d),a},[])},jk=function(a){var b=a.player,c=a.sourceKeySystems,d=a.audioMedia,e=a.mainPlaylists;if(!b.eme.initializeMediaKeys)return Promise.resolve();var f=d?e.concat([d]):e,g=ik(f,Object.keys(c)),h=[],i=[];return g.forEach(function(a){i.push(new Promise(function(a,c){b.tech_.one("keysessioncreated",a)})),h.push(new Promise(function(c,d){b.eme.initializeMediaKeys({keySystems:a},function(a){if(a)return void d(a);c()})}))}),Promise.race([Promise.all(h),Promise.race(i)])},kk=function(a){var b=a.player,c=a.sourceKeySystems,d=a.media,e=a.audioMedia,f=hk(c,d,e);return!!f&&(b.currentSource().keySystems=f,!(f&&!b.eme)||(Ea.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1))},lk=function(){if(!ab.default.localStorage)return null;var a=ab.default.localStorage.getItem(ek);if(!a)return null;try{return JSON.parse(a)}catch(a){return null}},mk=function(a){if(!ab.default.localStorage)return!1;var b=lk();b=b?Ea.mergeOptions(b,a):a;try{ab.default.localStorage.setItem(ek,JSON.stringify(b))}catch(a){return!1}return b},nk=function(a){return 0===a.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(a.substring(a.indexOf(",")+1)):a};dk.supportsNativeHls=function(){if(!bb.default||!bb.default.createElement)return!1;var a=bb.default.createElement("video");return!!Ea.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(b){return/maybe|probably/i.test(a.canPlayType(b))})}(),dk.supportsNativeDash=function(){return!!(bb.default&&bb.default.createElement&&Ea.getTech("Html5").isSupported())&&/maybe|probably/i.test(bb.default.createElement("video").canPlayType("application/dash+xml"))}(),dk.supportsTypeNatively=function(a){return"hls"===a?dk.supportsNativeHls:"dash"===a&&dk.supportsNativeDash},dk.isSupported=function(){return Ea.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var ok=Ea.getComponent("Component"),pk=function(a){function b(b,c,d){var e;if(e=a.call(this,c,Ea.mergeOptions(d.hls,d.vhs))||this,d.hls&&Object.keys(d.hls).length&&Ea.log.warn("Using hls options is deprecated. Use vhs instead."),"number"==typeof d.initialBandwidth&&(e.options_.bandwidth=d.initialBandwidth),e.logger_=Nf("VhsHandler"),c.options_&&c.options_.playerId){var f=Ea(c.options_.playerId);f.hasOwnProperty("hls")||Object.defineProperty(f,"hls",{get:function(){return Ea.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),c.trigger({type:"usage",name:"hls-player-access"}),db.default(e)},configurable:!0}),f.hasOwnProperty("vhs")||Object.defineProperty(f,"vhs",{get:function(){return Ea.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),c.trigger({type:"usage",name:"vhs-player-access"}),db.default(e)},configurable:!0}),f.hasOwnProperty("dash")||Object.defineProperty(f,"dash",{get:function(){return Ea.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),db.default(e)},configurable:!0}),e.player_=f}if(e.tech_=c,e.source_=b,e.stats={},e.ignoreNextSeekingEvent_=!1,e.setOptions_(),e.options_.overrideNative&&c.overrideNativeAudioTracks&&c.overrideNativeVideoTracks)c.overrideNativeAudioTracks(!0),c.overrideNativeVideoTracks(!0);else if(e.options_.overrideNative&&(c.featuresNativeVideoTracks||c.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return e.on(bb.default,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(a){var b=bb.default.fullscreenElement||bb.default.webkitFullscreenElement||bb.default.mozFullScreenElement||bb.default.msFullscreenElement;b&&b.contains(e.tech_.el())?e.masterPlaylistController_.fastQualityChange_():e.masterPlaylistController_.checkABR_()}),e.on(e.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_)return void(this.ignoreNextSeekingEvent_=!1);this.setCurrentTime(this.tech_.currentTime())}),e.on(e.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),e.on(e.tech_,"play",e.play),e}eb.default(b,a);var c=b.prototype;return c.setOptions_=function(){var a=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var b=lk();b&&b.bandwidth&&(this.options_.bandwidth=b.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),b&&b.throughput&&(this.options_.throughput=b.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=zh.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===zh.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS"].forEach(function(b){void 0!==a.source_[b]&&(a.options_[b]=a.source_[b])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},c.src=function(a,b){var c=this;if(a){this.setOptions_(),this.options_.src=nk(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=dk,this.options_.sourceType=Va.simpleTypeFromSourceType(b),this.options_.seekTo=function(a){c.tech_.setCurrentTime(a)},this.options_.smoothQualityChange&&Ea.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new Qj(this.options_);var d=Ea.mergeOptions({liveRangeSafeTimeDelta:Pf},this.options_,{seekable:function(){return c.seekable()},media:function(){return c.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new Wj(d),this.masterPlaylistController_.on("error",function(){var a=Ea.players[c.tech_.options_.playerId],b=c.masterPlaylistController_.error;"object"!=typeof b||b.code?"string"==typeof b&&(b={message:b,code:3}):b.code=3,a.error(b)});var e=this.options_.experimentalBufferBasedABR?dk.movingAverageBandwidthSelector(.55):dk.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):e.bind(this),this.masterPlaylistController_.selectInitialPlaylist=dk.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(a){this.masterPlaylistController_.selectPlaylist=a.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(a){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=a,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(a){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=a,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var a,b=1/(this.bandwidth||1);return a=this.throughput>0?1/this.throughput:0,Math.floor(1/(b+a))},set:function(){Ea.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return c.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return c.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return c.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return c.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return c.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return c.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return c.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return c.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return c.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return c.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return c.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return c.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return c.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return Xf(c.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return c.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return c.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return c.tech_.name_},enumerable:!0},duration:{get:function(){return c.tech_.duration()},enumerable:!0},master:{get:function(){return c.playlists.master},enumerable:!0},playerDimensions:{get:function(){return c.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Xf(c.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return c.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){c.options_.useBandwidthFromLocalStorage&&mk({bandwidth:c.bandwidth,throughput:Math.round(c.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){Tj(c)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){c.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=ab.default.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},c.setupEme_=function(){var a=this,b=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,c=kk({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:b&&b.media()});if(11===Ea.browser.IE_VERSION||!c)return void this.masterPlaylistController_.sourceUpdater_.initializedEme();this.logger_("waiting for EME key session creation"),jk({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:b&&b.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){a.logger_("created EME key session"),a.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(b){a.logger_("error while creating EME key session",b),a.player_.error({message:"Failed to initialize media keys for EME",code:3})})},c.setupQualityLevels_=function(){var a=this,b=Ea.players[this.tech_.options_.playerId];b&&b.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=b.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){gk(a.qualityLevels_,a)}),this.playlists.on("mediachange",function(){fk(a.qualityLevels_,a.playlists)}))},b.version=function(){return{"@videojs/http-streaming":$j,"mux.js":_j,"mpd-parser":ak,"m3u8-parser":bk,"aes-decrypter":ck}},c.version=function(){return this.constructor.version()},c.canChangeType=function(){return mj.canChangeType()},c.play=function(){this.masterPlaylistController_.play()},c.setCurrentTime=function(a){this.masterPlaylistController_.setCurrentTime(a)},c.duration=function(){return this.masterPlaylistController_.duration()},c.seekable=function(){return this.masterPlaylistController_.seekable()},c.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&ab.default.URL.revokeObjectURL&&(ab.default.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),a.prototype.dispose.call(this)},c.convertToProgramTime=function(a,b){return mh({playlist:this.masterPlaylistController_.media(),time:a,callback:b})},c.seekToProgramTime=function(a,b,c,d){return void 0===c&&(c=!0),void 0===d&&(d=2),nh({programTime:a,playlist:this.masterPlaylistController_.media(),retryCount:d,pauseAfterSeek:c,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:b})},b}(ok),qk={name:"videojs-http-streaming",VERSION:$j,canHandleSource:function(a,b){void 0===b&&(b={});var c=Ea.mergeOptions(Ea.options,b);return qk.canPlayType(a.type,c)},handleSource:function(a,b,c){void 0===c&&(c={});var d=Ea.mergeOptions(Ea.options,c);return b.vhs=new pk(a,b,d),Ea.hasOwnProperty("hls")||Object.defineProperty(b,"hls",{get:function(){return Ea.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),b.vhs},configurable:!0}),b.vhs.xhr=Ug(),b.vhs.src(a.src,a.type),b.vhs},canPlayType:function(a,b){void 0===b&&(b={});var c=Ea.mergeOptions(Ea.options,b),d=c.vhs.overrideNative,e=void 0===d?!Ea.browser.IS_ANY_SAFARI:d,f=Va.simpleTypeFromSourceType(a);return!f||dk.supportsTypeNatively(f)&&!e?"":"maybe"}};(function(){return Ua.browserSupportsCodec("avc1.4d400d,mp4a.40.2")})()&&Ea.getTech("Html5").registerSourceHandler(qk,0),Ea.VhsHandler=pk,Object.defineProperty(Ea,"HlsHandler",{get:function(){return Ea.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),pk},configurable:!0}),Ea.VhsSourceHandler=qk,Object.defineProperty(Ea,"HlsSourceHandler",{get:function(){return Ea.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),qk},configurable:!0}),Ea.Vhs=dk,Object.defineProperty(Ea,"Hls",{get:function(){return Ea.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),dk},configurable:!0}),Ea.use||(Ea.registerComponent("Hls",dk),Ea.registerComponent("Vhs",dk)),Ea.options.vhs=Ea.options.vhs||{},Ea.options.hls=Ea.options.hls||{},Ea.registerPlugin?Ea.registerPlugin("reloadSourceOnError",Zj):Ea.plugin("reloadSourceOnError",Zj),b.exports=Ea},{"@babel/runtime/helpers/assertThisInitialized":8,"@babel/runtime/helpers/construct":9,"@babel/runtime/helpers/extends":10,"@babel/runtime/helpers/inherits":11,"@babel/runtime/helpers/inheritsLoose":12,"@videojs/vhs-utils/cjs/byte-helpers":16,"@videojs/vhs-utils/cjs/codecs.js":18,"@videojs/vhs-utils/cjs/containers":19,"@videojs/vhs-utils/cjs/id3-helpers":22,"@videojs/vhs-utils/cjs/media-types.js":23,"@videojs/vhs-utils/cjs/resolve-url.js":27,"@videojs/xhr":29,"global/document":37,"global/window":38,keycode:41,"m3u8-parser":79,"mpd-parser":80,"mux.js/lib/tools/parse-sidx":81,"mux.js/lib/utils/clock":82,"safe-json-parse/tuple":83,"videojs-vtt.js":93}],87:[function(b,c,d){!function(e,f){"object"==typeof d&&void 0!==c?c.exports=f(b("video.js"),b("global/window"),b("global/document")):"function"==typeof a&&a.amd?a(["video.js","global/window","global/document"],f):(e=e||self,e.videojsContribAds=f(e.videojs,e.window,e.document))}(this,function(a,b,c){"use strict";function d(b){return{disableNextSnapshotRestore:!1,_contentEnding:!1,_contentHasEnded:!1,_hasThereBeenALoadStartDuringPlayerLife:!1,_hasThereBeenALoadedData:!1,_hasThereBeenALoadedMetaData:!1,_inLinearAdMode:!1,_shouldBlockPlay:!1,_playBlocked:!1,_playRequested:!1,adType:null,VERSION:p,reset:function(){b.ads.disableNextSnapshotRestore=!1,b.ads._contentEnding=!1,b.ads._contentHasEnded=!1,b.ads.snapshot=null,b.ads.adType=null,b.ads._hasThereBeenALoadedData=!1,b.ads._hasThereBeenALoadedMetaData=!1,b.ads._cancelledPlay=!1,b.ads._shouldBlockPlay=!1,b.ads._playBlocked=!1,b.ads.nopreroll_=!1,b.ads.nopostroll_=!1,b.ads._playRequested=!1},startLinearAdMode:function(){b.ads._state.startLinearAdMode()},endLinearAdMode:function(){b.ads._state.endLinearAdMode()},skipLinearAdMode:function(){b.ads._state.skipLinearAdMode()},stitchedAds:function(b){return void 0!==b&&(a.log.warn("Using player.ads.stitchedAds() as a setter is deprecated, it should be set as an option upon initialization of contrib-ads."),this.settings.stitchedAds=!!b),this.settings.stitchedAds},videoElementRecycled:function(){if(b.ads.shouldPlayContentBehindAd(b))return!1;if(!this.snapshot)throw new Error("You cannot use videoElementRecycled while there is no snapshot.");var a=b.tech_.src()!==this.snapshot.src,c=b.currentSrc()!==this.snapshot.currentSrc;return a||c},isLive:function(c){return void 0===c&&(c=b),"boolean"==typeof c.ads.settings.contentIsLive?c.ads.settings.contentIsLive:c.duration()===1/0||"8"===a.browser.IOS_VERSION&&0===c.duration()},shouldPlayContentBehindAd:function(c){if(void 0===c&&(c=b),c)return!!c.ads.settings.liveCuePoints&&(!a.browser.IS_IOS&&!a.browser.IS_ANDROID&&c.duration()===1/0);throw new Error("shouldPlayContentBehindAd requires a player as a param")},shouldTakeSnapshots:function(a){return void 0===a&&(a=b),!this.shouldPlayContentBehindAd(a)&&!this.stitchedAds()},isInAdMode:function(){return this._state.isAdState()},isWaitingForAdBreak:function(){return this._state.isWaitingForAdBreak()},isContentResuming:function(){return this._state.isContentResuming()},isAdPlaying:function(){return this._state.inAdBreak()},inAdBreak:function(){return this._state.inAdBreak()},removeNativePoster:function(){var a=b.$(".vjs-tech");a&&a.removeAttribute("poster")},debug:function(){if(this.settings.debug){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];1===c.length&&"string"==typeof c[0]?a.log("ADS: "+c[0]):a.log.apply(a,["ADS:"].concat(c))}}}}function e(a){"playing"===a.type?s(this,a):"ended"===a.type?t(this,a):"loadstart"===a.type||"loadeddata"===a.type||"loadedmetadata"===a.type?u(this,a):"play"===a.type?v(this,a):this.ads.isInAdMode()&&(this.ads.isContentResuming()?r(this,"content",a):r(this,"ad",a))}function f(a){a.ads.contentSrc=a.currentSrc(),a.ads._seenInitialLoadstart=!1;var b=function(){if(!a.ads.inAdBreak()){var b=a.currentSrc();b!==a.ads.contentSrc&&(a.ads._seenInitialLoadstart&&a.trigger({type:"contentchanged"}),a.trigger({type:"contentupdate",oldValue:a.ads.contentSrc,newValue:b}),a.ads.contentSrc=b),a.ads._seenInitialLoadstart=!0}};a.on("loadstart",b)}function g(d,e,f){var g=this,h={};d=d.replace(/{([^}=]+)=([^}]+)}/g,function(a,b,c){return h["{"+b+"}"]=c,"{"+b+"}"}),void 0===e&&(e=!1);var i={};void 0!==f&&(i=f),i["{player.id}"]=this.options_["data-player"]||this.id_,i["{player.height}"]=this.currentHeight(),i["{player.width}"]=this.currentWidth(),i["{mediainfo.id}"]=this.mediainfo?this.mediainfo.id:"",i["{mediainfo.name}"]=this.mediainfo?this.mediainfo.name:"",i["{mediainfo.duration}"]=this.mediainfo?this.mediainfo.duration:"",i["{player.duration}"]=this.duration(),i["{player.pageUrl}"]=a.dom.isInFrame()?c.referrer:b.location.href,i["{playlistinfo.id}"]=this.playlistinfo?this.playlistinfo.id:"",i["{playlistinfo.name}"]=this.playlistinfo?this.playlistinfo.name:"",i["{timestamp}"]=(new Date).getTime(),i["{document.referrer}"]=c.referrer,i["{window.location.href}"]=b.location.href,i["{random}"]=Math.floor(1e12*Math.random()),["description","tags","reference_id","ad_keys"].forEach(function(a){g.mediainfo&&g.mediainfo[a]?i["{mediainfo."+a+"}"]=g.mediainfo[a]:h["{mediainfo."+a+"}"]?i["{mediainfo."+a+"}"]=h["{mediainfo."+a+"}"]:i["{mediainfo."+a+"}"]=""}),A(this.mediainfo,i,"custom_fields"),A(this.mediainfo,i,"customFields"),Object.keys(w).forEach(function(a){i["{tcf."+a+"}"]=w[a]}),i["{tcf.gdprAppliesInt}"]=w.gdprApplies?1:0;for(var j in i)d=d.split(j).join(z(i[j],e));d=d.replace(/{pageVariable\.([^}]+)}/g,function(c,d){for(var f,g=b,i=d.split("."),j=0;j<i.length;j++)j===i.length-1?f=g[i[j]]:g=g[i[j]];var k=typeof f;return null===f?"null":void 0===f?h["{pageVariable."+d+"}"]?h["{pageVariable."+d+"}"]:(a.log.warn('Page variable "'+d+'" not found'),""):"string"!==k&&"number"!==k&&"boolean"!==k?(a.log.warn('Page variable "'+d+'" is not a supported type'),""):z(String(f),e)});for(var k in h)d=d.replace(k,h[k]);return d}function h(b,c){c&&a.log("Using cancelContentPlay to block content playback"),b.on("play",i)}function i(){!1!==this.ads._shouldBlockPlay&&(this.paused()||(this.ads.debug("Playback was canceled by cancelContentPlay"),this.pause()),this.ads._cancelledPlay=!0)}function j(b){return!I(a)&&((a.registerPlugin||a.plugin)("ads",b),H()&&!a.usingContribAdsMiddleware_&&(a.use("*",G),a.usingContribAdsMiddleware_=!0,a.log.debug("Play middleware has been registered with videojs")),!0)}function k(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}function l(b){var c;c=a.browser.IS_IOS&&b.ads.isLive(b)&&b.seekable().length>0?b.currentTime()-b.seekable().end(0):b.currentTime();var d=b.$(".vjs-tech"),e=b.textTracks?b.textTracks():[],f=[],g={ended:b.ended(),currentSrc:b.currentSrc(),sources:b.currentSources(),src:b.tech_.src(),currentTime:c,type:b.currentType()};d&&(g.style=d.getAttribute("style"));for(var h=0;h<e.length;h++){var i=e[h];f.push({track:i,mode:i.mode}),i.mode="disabled"}return g.suppressedTracks=f,g}function m(b,c){var d=b.ads.snapshot;if(void 0===c&&(c=function(){}),!0===b.ads.disableNextSnapshotRestore)return b.ads.disableNextSnapshotRestore=!1,delete b.ads.snapshot,void c();var e,f=b.$(".vjs-tech"),g=20,h=d.suppressedTracks,i=function(){for(var a=0;a<h.length;a++)e=h[a],e.track.mode=e.mode},j=function(){var c;if(a.browser.IS_IOS&&b.ads.isLive(b)){if(d.currentTime<0&&(c=b.seekable().length>0?b.seekable().end(0)+d.currentTime:b.currentTime(),b.currentTime(c)),b.paused()){var e=b.play();e&&e.catch&&e.catch(function(b){a.log.warn("Play promise rejected in IOS snapshot resume",b)})}}else if(d.ended)b.currentTime(b.duration());else{b.currentTime(d.currentTime);var f=b.play();f&&f.catch&&f.catch(function(b){a.log.warn("Play promise rejected in snapshot resume",b)})}b.ads.shouldRemoveAutoplay_&&(b.autoplay(!1),b.ads.shouldRemoveAutoplay_=!1)},k=function c(){if(b.off("contentcanplay",c),P&&b.clearTimeout(P),f=b.el().querySelector(".vjs-tech"),f.readyState>1)return j();if(void 0===f.seekable)return j();if(f.seekable.length>0)return j();if(g--)b.setTimeout(c,50);else try{j()}catch(b){a.log.warn("Failed to resume the content after an advertisement",b)}};if("style"in d&&f.setAttribute("style",d.style||""),b.ads.videoElementRecycled())b.one("resumeended",function(){delete b.ads.snapshot,c()}),b.one("contentloadedmetadata",i),a.browser.IS_IOS&&!b.autoplay()&&(b.autoplay(!0),b.ads.shouldRemoveAutoplay_=!0),b.src(d.sources),b.one("contentcanplay",k),P=b.setTimeout(k,2e3);else{if(i(),!b.ended()){var l=b.play();l&&l.catch&&l.catch(function(b){a.log.warn("Play promise rejected in snapshot restore",b)})}delete b.ads.snapshot,c()}}function n(a){a.ads.debug("Starting ad break"),a.ads._inLinearAdMode=!0,a.trigger("adstart"),a.ads.shouldTakeSnapshots()&&(a.ads.snapshot=l(a)),a.ads.shouldPlayContentBehindAd(a)&&(a.ads.preAdVolume_=a.volume(),a.volume(0)),a.addClass("vjs-ad-playing"),a.hasClass("vjs-live")&&a.removeClass("vjs-live"),a.ads.removeNativePoster()}function o(a,b){a.ads.debug("Ending ad break"),void 0===b&&(b=function(){}),a.ads.adType=null,a.ads._inLinearAdMode=!1,a.trigger("adend"),a.removeClass("vjs-ad-playing"),a.ads.isLive(a)&&a.addClass("vjs-live"),a.ads.shouldTakeSnapshots()?m(a,b):(a.volume(a.ads.preAdVolume_),b())}a=a&&a.hasOwnProperty("default")?a.default:a,b=b&&b.hasOwnProperty("default")?b.default:b,c=c&&c.hasOwnProperty("default")?c.default:c;var p="6.9.0",q=function(a,b){b.isImmediatePropagationStopped=function(){return!0},b.cancelBubble=!0,b.isPropagationStopped=function(){return!0}},r=function(a,b,c){q(a,c),a.trigger({type:b+c.type,originalEvent:c})},s=function(a,b){a.ads.isInAdMode()&&(a.ads.isContentResuming()?a.ads._contentEnding&&r(a,"content",b):r(a,"ad",b))},t=function(a,b){a.ads.isInAdMode()?a.ads.isContentResuming()?(q(a,b),a.trigger("resumeended")):r(a,"ad",b):a.ads._contentHasEnded||a.ads.stitchedAds()||(r(a,"content",b),a.trigger("readyforpostroll"))},u=function(a,b){if(!("loadstart"===b.type&&!a.ads._hasThereBeenALoadStartDuringPlayerLife||"loadeddata"===b.type&&!a.ads._hasThereBeenALoadedData||"loadedmetadata"===b.type&&!a.ads._hasThereBeenALoadedMetaData))if(a.ads.inAdBreak())r(a,"ad",b);else{if(a.currentSrc()!==a.ads.contentSrc)return;r(a,"content",b)}},v=function(a,b){a.ads.inAdBreak()?r(a,"ad",b):a.ads.isContentResuming()&&r(a,"content",b)},w={},x=function(c){if(a.dom.isInFrame()&&"function"!=typeof b.__tcfapi){for(var d,e=b,f={};e;){try{if(e.frames.__tcfapiLocator){d=e;break}}catch(a){}if(e===b.top)break;e=e.parent}if(!d)return;b.__tcfapi=function(a,b,c,e){var g=Math.random()+"",h={__tcfapiCall:{command:a,parameter:e,version:b,callId:g}};f[g]=c,d.postMessage(h,"*")},b.addEventListener("message",function(a){var b={};try{b="string"==typeof a.data?JSON.parse(a.data):a.data}catch(a){}var c=b.__tcfapiReturn;c&&"function"==typeof f[c.callId]&&(f[c.callId](c.returnValue,c.success),f[c.callId]=null)},!1)}},y=function(){x(),"function"==typeof b.__tcfapi&&b.__tcfapi("addEventListener",2,function(a,b){b&&(w=a)})},z=function(a,b){return b?encodeURIComponent(a):a},A=function(a,b,c){if(a&&a[c])for(var d=a[c],e=Object.keys(d),f=0;f<e.length;f++){var g="{mediainfo."+c+"."+e[f]+"}";b[g]=d[e[f]]}},B={};B.processMetadataTracks=function(a,b){for(var c=a.textTracks(),d=function(c){"metadata"===c.kind&&(a.ads.cueTextTracks.setMetadataTrackMode(c),b(a,c))},e=0;e<c.length;e++)d(c[e]);c.addEventListener("addtrack",function(a){d(a.track)})},B.setMetadataTrackMode=function(a){},B.getSupportedAdCue=function(a,b){return b},B.isSupportedAdCue=function(a,b){return!0},B.getCueId=function(a,b){return b.id};var C=function(a,b){return void 0!==b&&a.ads.includedCues[b]},D=function(a,b){void 0!==b&&""!==b&&(a.ads.includedCues[b]=!0)};B.processAdTrack=function(b,c,d,e){b.ads.includedCues={};for(var f=0;f<c.length;f++){var g=c[f],h=this.getSupportedAdCue(b,g);if(!this.isSupportedAdCue(b,g))return void a.log.warn("Skipping as this is not a supported ad cue.",g);var i=this.getCueId(b,g),j=g.startTime;if(C(b,i))return void a.log("Skipping ad already seen with ID "+i);e&&e(b,h,i,j),d(b,h,i,j),D(b,i)}};var E={},F=a;E.isMiddlewareMediatorSupported=function(){return!F.browser.IS_IOS&&!F.browser.IS_ANDROID&&!!(F.use&&F.middleware&&F.middleware.TERMINATOR)},E.playMiddleware=function(b){return{setSource:function(a,b){b(null,a)},callPlay:function(){if(b.ads&&!0===b.ads._shouldBlockPlay)return b.ads.debug("Using playMiddleware to block content playback"),b.ads._playBlocked=!0,F.middleware.TERMINATOR},play:function(c,d){b.ads&&b.ads._playBlocked&&c?(b.ads.debug("Play call to Tech was terminated."),b.trigger("play"),b.addClass("vjs-has-started"),b.ads._playBlocked=!1):d&&d.catch&&d.catch(function(c){"NotAllowedError"!==c.name||a.browser.IS_SAFARI||b.trigger("pause")})}}},E.testHook=function(a){F=a};var G=E.playMiddleware,H=E.isMiddlewareMediatorSupported,I=function(){if(a.getPlugin)return Boolean(a.getPlugin("ads"));var b=a.getComponent("Player");return Boolean(b&&b.prototype.ads)},J=function(){function a(){}return a.getState=function(b){if(b)return a.states_&&a.states_[b]?a.states_[b]:void 0},a.registerState=function(b,c){if("string"!=typeof b||!b)throw new Error('Illegal state name, "'+b+'"; must be a non-empty string.');return a.states_||(a.states_={}),a.states_[b]=c,c},a}(),K=function(){function b(a){this.player=a}b._getName=function(){return"Anonymous State"};var c=b.prototype;return c.transitionTo=function(a){var b=this.player;this.cleanup(b);var c=new a(b);b.ads._state=c,b.ads.debug(this.constructor._getName()+" -> "+c.constructor._getName());for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];c.init.apply(c,[b].concat(e))},c.init=function(){},c.cleanup=function(){},c.onPlay=function(){},c.onPlaying=function(){},c.onEnded=function(){},c.onAdEnded=function(){},c.onAdsReady=function(){a.log.warn("Unexpected adsready event")},c.onAdsError=function(){},c.onAdsCanceled=function(){},c.onAdTimeout=function(){},c.onAdStarted=function(){},c.onContentChanged=function(){},c.onContentResumed=function(){},c.onReadyForPostroll=function(){a.log.warn("Unexpected readyforpostroll event")},c.onNoPreroll=function(){},c.onNoPostroll=function(){},c.startLinearAdMode=function(){a.log.warn("Unexpected startLinearAdMode invocation (State via "+this.constructor._getName()+")")},c.endLinearAdMode=function(){a.log.warn("Unexpected endLinearAdMode invocation (State via "+this.constructor._getName()+")")},c.skipLinearAdMode=function(){a.log.warn("Unexpected skipLinearAdMode invocation (State via "+this.constructor._getName()+")")},c.isAdState=function(){throw new Error("isAdState unimplemented for "+this.constructor._getName())},c.isWaitingForAdBreak=function(){return!1},c.isContentResuming=function(){return!1},c.inAdBreak=function(){return!1},c.handleEvent=function(a){var b=this.player;"play"===a?this.onPlay(b):"adsready"===a?this.onAdsReady(b):"adserror"===a?this.onAdsError(b):"adscanceled"===a?this.onAdsCanceled(b):"adtimeout"===a?this.onAdTimeout(b):"ads-ad-started"===a?this.onAdStarted(b):"contentchanged"===a?this.onContentChanged(b):"contentresumed"===a?this.onContentResumed(b):"readyforpostroll"===a?this.onReadyForPostroll(b):"playing"===a?this.onPlaying(b):"ended"===a?this.onEnded(b):"nopreroll"===a?this.onNoPreroll(b):"nopostroll"===a?this.onNoPostroll(b):"adended"===a&&this.onAdEnded(b)},b}();J.registerState("State",K);var L=function(a){function b(b){var c;return c=a.call(this,b)||this,c.contentResuming=!1,c.waitingForAdBreak=!1,c}k(b,a);var c=b.prototype;return c.isAdState=function(){return!0},c.onPlaying=function(){var a=J.getState("ContentPlayback");this.contentResuming&&this.transitionTo(a)},c.onContentResumed=function(){var a=J.getState("ContentPlayback");this.contentResuming&&this.transitionTo(a)},c.isWaitingForAdBreak=function(){return this.waitingForAdBreak},c.isContentResuming=function(){return this.contentResuming},c.inAdBreak=function(){return!0===this.player.ads._inLinearAdMode},b}(K);J.registerState("AdState",L);var M=function(a){function b(){return a.apply(this,arguments)||this}k(b,a);var c=b.prototype;return c.isAdState=function(){return!1},c.onContentChanged=function(a){var b=J.getState("BeforePreroll"),c=J.getState("Preroll");a.ads.debug("Received contentchanged event (ContentState)"),a.paused()?this.transitionTo(b):(this.transitionTo(c,!1),a.pause(),a.ads._pausedOnContentupdate=!0)},b}(K);J.registerState("ContentState",M);var N=J.getState("ContentState"),O=function(b){function c(){return b.apply(this,arguments)||this}k(c,b),c._getName=function(){return"AdsDone"};var d=c.prototype;return d.init=function(a){a.ads._contentHasEnded=!0,a.trigger("ended")},d.startLinearAdMode=function(){a.log.warn("Unexpected startLinearAdMode invocation (AdsDone)")},c}(N);J.registerState("AdsDone",O);var P,Q={start:n,end:o},R=J.getState("AdState"),S=function(b){function c(){return b.apply(this,arguments)||this}k(c,b),c._getName=function(){return"Preroll"};var d=c.prototype;return d.init=function(a,b,c){if(this.waitingForAdBreak=!0,a.addClass("vjs-ad-loading"),c||a.ads.nopreroll_)return this.resumeAfterNoPreroll(a);var d=a.ads.settings.timeout;"number"==typeof a.ads.settings.prerollTimeout&&(d=a.ads.settings.prerollTimeout),this._timeout=a.setTimeout(function(){a.trigger("adtimeout")},d),b?this.handleAdsReady():this.adsReady=!1},d.onAdsReady=function(b){b.ads.inAdBreak()?a.log.warn("Unexpected adsready event (Preroll)"):(b.ads.debug("Received adsready event (Preroll)"),this.handleAdsReady())},d.handleAdsReady=function(){this.adsReady=!0,this.readyForPreroll()},d.afterLoadStart=function(a){var b=this.player;b.ads._hasThereBeenALoadStartDuringPlayerLife?a():(b.ads.debug("Waiting for loadstart..."),b.one("loadstart",function(){b.ads.debug("Received loadstart event"),a()}))},d.noPreroll=function(){var a=this;this.afterLoadStart(function(){a.player.ads.debug("Skipping prerolls due to nopreroll event (Preroll)"),a.resumeAfterNoPreroll(a.player)})},d.readyForPreroll=function(){var a=this.player;this.afterLoadStart(function(){a.ads.debug("Triggered readyforpreroll event (Preroll)"),a.trigger("readyforpreroll")})},d.onAdsCanceled=function(a){var b=this;a.ads.debug("adscanceled (Preroll)"),this.afterLoadStart(function(){b.resumeAfterNoPreroll(a)})},d.onAdsError=function(b){var c=this;a.log("adserror (Preroll)"),this.inAdBreak()?b.ads.endLinearAdMode():this.afterLoadStart(function(){c.resumeAfterNoPreroll(b)})},d.startLinearAdMode=function(){var b=this.player;!this.adsReady||b.ads.inAdBreak()||this.isContentResuming()?a.log.warn("Unexpected startLinearAdMode invocation (Preroll)"):(this.clearTimeout(b),b.ads.adType="preroll",this.waitingForAdBreak=!1,Q.start(b),b.ads._shouldBlockPlay=!1)},d.onAdStarted=function(a){a.removeClass("vjs-ad-loading")},d.endLinearAdMode=function(){var a=this.player;this.inAdBreak()&&(a.removeClass("vjs-ad-loading"),a.addClass("vjs-ad-content-resuming"),this.contentResuming=!0,Q.end(a))},d.skipLinearAdMode=function(){var b=this,c=this.player;c.ads.inAdBreak()||this.isContentResuming()?a.log.warn("Unexpected skipLinearAdMode invocation"):this.afterLoadStart(function(){c.trigger("adskip"),c.ads.debug("skipLinearAdMode (Preroll)"),b.resumeAfterNoPreroll(c)})},d.onAdTimeout=function(a){var b=this;this.afterLoadStart(function(){a.ads.debug("adtimeout (Preroll)"),b.resumeAfterNoPreroll(a)})},d.onNoPreroll=function(b){b.ads.inAdBreak()||this.isContentResuming()?a.log.warn("Unexpected nopreroll event (Preroll)"):this.noPreroll()},d.resumeAfterNoPreroll=function(a){if(this.contentResuming=!0,a.ads._shouldBlockPlay=!1,this.cleanupPartial(a),a.ads._playRequested||a.ads._pausedOnContentupdate)if(a.paused()){a.ads.debug("resumeAfterNoPreroll: attempting to resume playback (Preroll)");var b=a.play();b&&b.then&&b.then(null,function(a){})}else a.ads.debug("resumeAfterNoPreroll: already playing (Preroll)"),a.trigger("play"),a.trigger("playing")},d.cleanup=function(b){b.ads._hasThereBeenALoadStartDuringPlayerLife||a.log.warn("Leaving Preroll state before loadstart event can cause issues."),this.cleanupPartial(b)},d.cleanupPartial=function(a){a.removeClass("vjs-ad-loading"),a.removeClass("vjs-ad-content-resuming"),this.clearTimeout(a)},d.clearTimeout=function(a){a.clearTimeout(this._timeout),this._timeout=null},c}(R);J.registerState("Preroll",S);var T=J.getState("ContentState"),U=function(a){function b(){return a.apply(this,arguments)||this}k(b,a),b._getName=function(){return"BeforePreroll"};var c=b.prototype;return c.init=function(a){this.adsReady=!1,this.shouldResumeToContent=!1,a.ads._shouldBlockPlay=!a.ads.settings.allowVjsAutoplay||!a.autoplay()},c.onAdsReady=function(a){a.ads.debug("Received adsready event (BeforePreroll)"),this.adsReady=!0},c.onPlay=function(a){var b=J.getState("Preroll");a.ads.debug("Received play event (BeforePreroll)"),this.transitionTo(b,this.adsReady,this.shouldResumeToContent)},c.onAdsCanceled=function(a){a.ads.debug("adscanceled (BeforePreroll)"),this.shouldResumeToContent=!0},c.onAdsError=function(){this.player.ads.debug("adserror (BeforePreroll)"),this.shouldResumeToContent=!0},c.onNoPreroll=function(){this.player.ads.debug("Skipping prerolls due to nopreroll event (BeforePreroll)"),this.shouldResumeToContent=!0},c.skipLinearAdMode=function(){var a=this.player;a.trigger("adskip"),a.ads.debug("skipLinearAdMode (BeforePreroll)"),this.shouldResumeToContent=!0},c.onContentChanged=function(){this.init(this.player)},b}(T);J.registerState("BeforePreroll",U);var V=J.getState("AdState"),W=function(a){function b(){return a.apply(this,arguments)||this}k(b,a),b._getName=function(){return"Midroll"};var c=b.prototype;return c.init=function(a){a.ads.adType="midroll",Q.start(a),a.addClass("vjs-ad-loading")},c.onAdStarted=function(a){a.removeClass("vjs-ad-loading")},c.endLinearAdMode=function(){var a=this.player;this.inAdBreak()&&(this.contentResuming=!0,a.addClass("vjs-ad-content-resuming"),a.removeClass("vjs-ad-loading"),Q.end(a))},c.onAdsError=function(a){this.inAdBreak()&&a.ads.endLinearAdMode()},c.cleanup=function(a){a.removeClass("vjs-ad-loading"),a.removeClass("vjs-ad-content-resuming")},b}(V);J.registerState("Midroll",W);var X=J.getState("AdState"),Y=function(b){function c(){return b.apply(this,arguments)||this}k(c,b),c._getName=function(){return"Postroll"};var d=c.prototype;return d.init=function(a){if(this.waitingForAdBreak=!0,a.ads._contentEnding=!0,a.ads.nopostroll_){this.resumeContent(a);var b=J.getState("AdsDone");this.transitionTo(b)}else{a.addClass("vjs-ad-loading");var c=a.ads.settings.timeout;"number"==typeof a.ads.settings.postrollTimeout&&(c=a.ads.settings.postrollTimeout),this._postrollTimeout=a.setTimeout(function(){a.trigger("adtimeout")},c)}},d.startLinearAdMode=function(){var b=this.player;b.ads.inAdBreak()||this.isContentResuming()?a.log.warn("Unexpected startLinearAdMode invocation (Postroll)"):(b.ads.adType="postroll",b.clearTimeout(this._postrollTimeout),this.waitingForAdBreak=!1,Q.start(b))},d.onAdStarted=function(a){a.removeClass("vjs-ad-loading")},d.endLinearAdMode=function(){var a=this,b=this.player,c=J.getState("AdsDone");this.inAdBreak()&&(b.removeClass("vjs-ad-loading"),this.resumeContent(b),Q.end(b,function(){a.transitionTo(c)}))},d.skipLinearAdMode=function(){var b=this.player;b.ads.inAdBreak()||this.isContentResuming()?a.log.warn("Unexpected skipLinearAdMode invocation"):(b.ads.debug("Postroll abort (skipLinearAdMode)"),b.trigger("adskip"),this.abort(b))},d.onAdTimeout=function(a){a.ads.debug("Postroll abort (adtimeout)"),this.abort(a)},d.onAdsError=function(a){a.ads.debug("Postroll abort (adserror)"),a.ads.inAdBreak()?a.ads.endLinearAdMode():this.abort(a)},d.onContentChanged=function(a){if(this.isContentResuming()){var b=J.getState("BeforePreroll");this.transitionTo(b)}else if(!this.inAdBreak()){var c=J.getState("Preroll");this.transitionTo(c)}},d.onNoPostroll=function(b){this.isContentResuming()||this.inAdBreak()?a.log.warn("Unexpected nopostroll event (Postroll)"):this.abort(b)},d.resumeContent=function(a){this.contentResuming=!0,a.addClass("vjs-ad-content-resuming")},d.abort=function(a){var b=J.getState("AdsDone");this.resumeContent(a),a.removeClass("vjs-ad-loading"),this.transitionTo(b)},d.cleanup=function(a){a.removeClass("vjs-ad-content-resuming"),a.clearTimeout(this._postrollTimeout),a.ads._contentEnding=!1},c}(X);J.registerState("Postroll",Y);var Z=J.getState("ContentState"),$=function(a){function b(){return a.apply(this,arguments)||this}k(b,a),b._getName=function(){return"ContentPlayback"};var c=b.prototype;return c.init=function(a){a.ads._shouldBlockPlay=!1},c.onAdsReady=function(a){a.ads.debug("Received adsready event (ContentPlayback)"),a.ads.nopreroll_||(a.ads.debug("Triggered readyforpreroll event (ContentPlayback)"),a.trigger("readyforpreroll"))},c.onReadyForPostroll=function(a){var b=J.getState("Postroll");a.ads.debug("Received readyforpostroll event"),this.transitionTo(b)},c.startLinearAdMode=function(){var a=J.getState("Midroll");this.transitionTo(a)},b}(Z);J.registerState("ContentPlayback",$);var _=J.getState("ContentState"),aa=function(a){function b(){return a.apply(this,arguments)||this}k(b,a),b._getName=function(){return"StitchedContentPlayback"};var c=b.prototype;return c.init=function(){this.player.ads._shouldBlockPlay=!1},c.onContentChanged=function(){this.player.ads.debug("Received contentchanged event ("+this.constructor._getName()+")")},c.startLinearAdMode=function(){var a=J.getState("StitchedAdRoll");this.transitionTo(a)},b}(_);J.registerState("StitchedContentPlayback",aa);var ba=J.getState("AdState"),ca=function(a){function b(){return a.apply(this,arguments)||this}k(b,a),b._getName=function(){return"StitchedAdRoll"};var c=b.prototype;return c.init=function(){this.waitingForAdBreak=!1,this.contentResuming=!1,this.player.ads.adType="stitched",Q.start(this.player)},c.onPlaying=function(){},c.onContentResumed=function(){},c.onAdEnded=function(){this.endLinearAdMode(),this.player.trigger("ended")},c.endLinearAdMode=function(){var a=J.getState("StitchedContentPlayback");Q.end(this.player),this.transitionTo(a)},b}(ba);J.registerState("StitchedAdRoll",ca);var da=E.isMiddlewareMediatorSupported,ea=a.getTech("Html5").Events,fa={timeout:5e3,prerollTimeout:void 0,postrollTimeout:void 0,debug:!1,stitchedAds:!1,contentIsLive:void 0,liveCuePoints:!0,allowVjsAutoplay:a.options.normalizeAutoplay||!1},ga=function(b){var c=this,i=a.mergeOptions(fa,b),j=[];ea.concat(["firstplay","loadedalldata"]).forEach(function(a){-1===j.indexOf(a)&&j.push(a)}),c.on(j,e),da()||h(c,i.debug),c.setTimeout(function(){c.ads._hasThereBeenALoadStartDuringPlayerLife||""===c.src()||a.log.error("videojs-contrib-ads has not seen a loadstart event 5 seconds after being initialized, but a source is present. This indicates that videojs-contrib-ads was initialized too late. It must be initialized immediately after video.js in the same tick. As a result, some ads will not play and some media events will be incorrect. For more information, see http://videojs.github.io/videojs-contrib-ads/integrator/getting-started.html")},5e3),c.on("ended",function(){c.hasClass("vjs-has-started")||c.addClass("vjs-has-started")}),c.on("contenttimeupdate",function(){c.removeClass("vjs-waiting")}),c.on(["addurationchange","adcanplay"],function(){if(!c.ads.settings.stitchedAds&&!c.hasStarted()&&(!c.ads.snapshot||c.currentSrc()!==c.ads.snapshot.currentSrc)&&c.ads.inAdBreak()){var b=c.play();b&&b.catch&&b.catch(function(b){a.log.warn("Play promise rejected when playing ad",b)})}}),c.on("nopreroll",function(){c.ads.debug("Received nopreroll event"),c.ads.nopreroll_=!0}),c.on("nopostroll",function(){c.ads.debug("Received nopostroll event"),c.ads.nopostroll_=!0}),c.on("playing",function(){c.ads._cancelledPlay=!1,c.ads._pausedOnContentupdate=!1}),c.on("play",function(){c.ads._playRequested=!0}),c.one("loadstart",function(){c.ads._hasThereBeenALoadStartDuringPlayerLife=!0}),c.on("loadeddata",function(){c.ads._hasThereBeenALoadedData=!0}),c.on("loadedmetadata",function(){c.ads._hasThereBeenALoadedMetaData=!0}),c.ads=d(c),c.ads.settings=i,i.stitchedAds=!!i.stitchedAds,i.stitchedAds?c.ads._state=new(J.getState("StitchedContentPlayback"))(c):c.ads._state=new(J.getState("BeforePreroll"))(c),c.ads._state.init(c),c.ads.cueTextTracks=B,c.ads.adMacroReplacement=g.bind(c),f(c),c.on("contentchanged",c.ads.reset);var k=function(){return!c.ads.shouldPlayContentBehindAd(c)&&c.ads.inAdBreak()&&c.tech_.featuresNativeTextTracks&&a.browser.IS_IOS&&!Array.isArray(c.textTracks())},l=function(){var a=c.textTracks();if(k())for(var b=0;b<a.length;b++){var d=a[b];"showing"===d.mode&&(d.mode="disabled")}};c.ready(function(){c.textTracks().addEventListener("change",l)}),c.on(["play","playing","ended","adsready","adscanceled","adskip","adserror","adtimeout","adended","ads-ad-started","contentchanged","dispose","contentresumed","readyforpostroll","nopreroll","nopostroll"],function(a){c.ads._state.handleEvent(a.type)}),c.on("dispose",function(){c.ads.reset(),c.textTracks().removeEventListener("change",l)}),y(),c.ads.listenToTcf=y};return ga.VERSION=p,j(ga),ga})},{"global/document":37,"global/window":38,"video.js":86}],88:[function(b,c,d){!function(e,f){"object"==typeof d&&void 0!==c?c.exports=f(b("video.js")):"function"==typeof a&&a.amd?a(["video.js"],f):e.videojsIma=f(e.videojs)}(this,function(a){"use strict";a=a&&a.hasOwnProperty("default")?a.default:a;var b=function(a,b,c){this.vjsPlayer=a,this.controller=c,this.contentTrackingTimer=null,this.contentComplete=!1,this.updateTimeIntervalHandle=null,this.updateTimeInterval=1e3,this.seekCheckIntervalHandle=null,this.seekCheckInterval=1e3,this.resizeCheckIntervalHandle=null,this.resizeCheckInterval=250,this.seekThreshold=100,this.contentEndedListeners=[],this.contentSource="",this.contentSourceType="",this.contentPlayheadTracker={currentTime:0,previousTime:0,seeking:!1,duration:0},this.vjsPlayerDimensions={width:this.getPlayerWidth(),height:this.getPlayerHeight()},this.vjsControls=this.vjsPlayer.getChild("controlBar"),this.h5Player=null,this.vjsPlayer.one("play",this.setUpPlayerIntervals.bind(this)),this.boundContentEndedListener=this.localContentEndedListener.bind(this),this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsPlayer.on("dispose",this.playerDisposedListener.bind(this)),this.vjsPlayer.on("readyforpreroll",this.onReadyForPreroll.bind(this)),this.vjsPlayer.on("adtimeout",this.onAdTimeout.bind(this)),this.vjsPlayer.ready(this.onPlayerReady.bind(this)),"onPlay"===this.controller.getSettings().requestMode&&this.vjsPlayer.one("play",this.controller.requestAds.bind(this.controller)),this.vjsPlayer.ads(b)};b.prototype.setUpPlayerIntervals=function(){this.updateTimeIntervalHandle=setInterval(this.updateCurrentTime.bind(this),this.updateTimeInterval),this.seekCheckIntervalHandle=setInterval(this.checkForSeeking.bind(this),this.seekCheckInterval),this.resizeCheckIntervalHandle=setInterval(this.checkForResize.bind(this),this.resizeCheckInterval)},b.prototype.updateCurrentTime=function(){this.contentPlayheadTracker.seeking||(this.contentPlayheadTracker.currentTime=this.vjsPlayer.currentTime())},b.prototype.checkForSeeking=function(){var a=this.vjsPlayer.currentTime(),b=1e3*(a-this.contentPlayheadTracker.previousTime);Math.abs(b)>this.seekCheckInterval+this.seekThreshold?this.contentPlayheadTracker.seeking=!0:this.contentPlayheadTracker.seeking=!1,this.contentPlayheadTracker.previousTime=this.vjsPlayer.currentTime()},b.prototype.checkForResize=function(){var a=this.getPlayerWidth(),b=this.getPlayerHeight();a==this.vjsPlayerDimensions.width&&b==this.vjsPlayerDimensions.height||(this.vjsPlayerDimensions.width=a,this.vjsPlayerDimensions.height=b,this.controller.onPlayerResize(a,b))},b.prototype.localContentEndedListener=function(){this.contentComplete||(this.contentComplete=!0,this.controller.onContentComplete());for(var a in this.contentEndedListeners)"function"==typeof this.contentEndedListeners[a]&&this.contentEndedListeners[a]();clearInterval(this.updateTimeIntervalHandle),clearInterval(this.seekCheckIntervalHandle),clearInterval(this.resizeCheckIntervalHandle),this.vjsPlayer.el()&&this.vjsPlayer.one("play",this.setUpPlayerIntervals.bind(this))},b.prototype.onNoPostroll=function(){this.vjsPlayer.trigger("nopostroll")},b.prototype.playerDisposedListener=function(){this.contentEndedListeners=[],this.controller.onPlayerDisposed(),this.contentComplete=!0,this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.adTimeoutTimeout&&clearTimeout(this.vjsPlayer.ads.adTimeoutTimeout);var a=[this.updateTimeIntervalHandle,this.seekCheckIntervalHandle,this.resizeCheckIntervalHandle];for(var b in a)a[b]&&clearInterval(a[b])},b.prototype.onReadyForPreroll=function(){this.controller.onPlayerReadyForPreroll()},b.prototype.onAdTimeout=function(){this.controller.onAdTimeout()},b.prototype.onPlayerReady=function(){this.h5Player=document.getElementById(this.getPlayerId()).getElementsByClassName("vjs-tech")[0],this.h5Player.hasAttribute("autoplay")&&this.controller.setSetting("adWillAutoPlay",!0),this.onVolumeChange(),this.vjsPlayer.on("fullscreenchange",this.onFullscreenChange.bind(this)),this.vjsPlayer.on("volumechange",this.onVolumeChange.bind(this)),this.controller.onPlayerReady()},b.prototype.onFullscreenChange=function(){this.vjsPlayer.isFullscreen()?this.controller.onPlayerEnterFullscreen():this.controller.onPlayerExitFullscreen()},b.prototype.onVolumeChange=function(){var a=this.vjsPlayer.muted()?0:this.vjsPlayer.volume();this.controller.onPlayerVolumeChanged(a)},b.prototype.injectAdContainerDiv=function(a){this.vjsControls.el().parentNode.appendChild(a)},b.prototype.getContentPlayer=function(){return this.h5Player},b.prototype.getVolume=function(){return this.vjsPlayer.muted()?0:this.vjsPlayer.volume()},b.prototype.setVolume=function(a){this.vjsPlayer.volume(a),0==a?this.vjsPlayer.muted(!0):this.vjsPlayer.muted(!1)},b.prototype.unmute=function(){this.vjsPlayer.muted(!1)},b.prototype.mute=function(){this.vjsPlayer.muted(!0)},b.prototype.play=function(){this.vjsPlayer.play()},b.prototype.togglePlayback=function(){this.vjsPlayer.paused()?this.vjsPlayer.play():this.vjsPlayer.pause()},b.prototype.getPlayerWidth=function(){var a=(getComputedStyle(this.vjsPlayer.el())||{}).width;return a&&0!==parseFloat(a)||(a=(this.vjsPlayer.el().getBoundingClientRect()||{}).width),parseFloat(a)||this.vjsPlayer.width()},b.prototype.getPlayerHeight=function(){var a=(getComputedStyle(this.vjsPlayer.el())||{}).height;return a&&0!==parseFloat(a)||(a=(this.vjsPlayer.el().getBoundingClientRect()||{}).height),parseFloat(a)||this.vjsPlayer.height()},b.prototype.getPlayerOptions=function(){return this.vjsPlayer.options_},b.prototype.getPlayerId=function(){return this.vjsPlayer.id()},b.prototype.toggleFullscreen=function(){this.vjsPlayer.isFullscreen()?this.vjsPlayer.exitFullscreen():this.vjsPlayer.requestFullscreen()},b.prototype.getContentPlayheadTracker=function(){return this.contentPlayheadTracker},b.prototype.onAdError=function(a){this.vjsControls.show();var b=void 0!==a.getError?a.getError():a.stack;this.vjsPlayer.trigger({type:"adserror",data:{AdError:b,AdErrorEvent:a}})},b.prototype.onAdLog=function(a){var b=a.getAdData(),c=void 0!==b.adError?b.adError.getMessage():void 0;this.vjsPlayer.trigger({type:"adslog",data:{AdError:c,AdEvent:a}})},b.prototype.onAdBreakStart=function(){this.contentSource=this.vjsPlayer.currentSrc(),this.contentSourceType=this.vjsPlayer.currentType(),this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.startLinearAdMode(),this.vjsControls.hide(),this.vjsPlayer.pause()},b.prototype.onAdBreakEnd=function(){this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.inAdBreak()&&this.vjsPlayer.ads.endLinearAdMode(),this.vjsControls.show()},b.prototype.onAdStart=function(){this.vjsPlayer.trigger("ads-ad-started")},b.prototype.onAllAdsCompleted=function(){1==this.contentComplete&&(this.contentSource&&this.vjsPlayer.currentSrc()!=this.contentSource&&this.vjsPlayer.src({src:this.contentSource,type:this.contentSourceType}),this.controller.onContentAndAdsCompleted())},b.prototype.onAdsReady=function(){this.vjsPlayer.trigger("adsready")},b.prototype.changeSource=function(a){this.vjsPlayer.currentSrc()&&(this.vjsPlayer.currentTime(0),this.vjsPlayer.pause()),a&&this.vjsPlayer.src(a),this.vjsPlayer.one("loadedmetadata",this.seekContentToZero.bind(this))},b.prototype.seekContentToZero=function(){this.vjsPlayer.currentTime(0)},b.prototype.triggerPlayerEvent=function(a,b){this.vjsPlayer.trigger(a,b)},b.prototype.addContentEndedListener=function(a){this.contentEndedListeners.push(a)},b.prototype.reset=function(){this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsControls.show(),this.vjsPlayer.ads.inAdBreak()&&this.vjsPlayer.ads.endLinearAdMode(),this.contentPlayheadTracker.currentTime=0,this.contentComplete=!1};var c=function(a){this.controller=a,this.adContainerDiv=document.createElement("div"),this.controlsDiv=document.createElement("div"),this.countdownDiv=document.createElement("div"),this.seekBarDiv=document.createElement("div"),this.progressDiv=document.createElement("div"),this.playPauseDiv=document.createElement("div"),this.muteDiv=document.createElement("div"),this.sliderDiv=document.createElement("div"),this.sliderLevelDiv=document.createElement("div"),this.fullscreenDiv=document.createElement("div"),this.boundOnMouseUp=this.onMouseUp.bind(this),this.boundOnMouseMove=this.onMouseMove.bind(this),this.adPlayheadTracker={currentTime:0,duration:0,isPod:!1,adPosition:0,totalAds:0},this.controlPrefix=this.controller.getPlayerId()+"_",this.showCountdown=!0,!1===this.controller.getSettings().showCountdown&&(this.showCountdown=!1),this.isAdNonlinear=!1,this.createAdContainer()};c.prototype.createAdContainer=function(){this.assignControlAttributes(this.adContainerDiv,"ima-ad-container"),this.adContainerDiv.style.position="absolute",this.adContainerDiv.style.zIndex=1111,this.adContainerDiv.addEventListener("mouseenter",this.showAdControls.bind(this),!1),this.adContainerDiv.addEventListener("mouseleave",this.hideAdControls.bind(this),!1),this.adContainerDiv.addEventListener("click",this.onAdContainerClick.bind(this),!1),this.createControls(),this.controller.injectAdContainerDiv(this.adContainerDiv)},c.prototype.createControls=function(){this.assignControlAttributes(this.controlsDiv,"ima-controls-div"),this.controlsDiv.style.width="100%",this.controller.getIsMobile()?this.countdownDiv.style.display="none":(this.assignControlAttributes(this.countdownDiv,"ima-countdown-div"),this.countdownDiv.innerHTML=this.controller.getSettings().adLabel,this.countdownDiv.style.display=this.showCountdown?"block":"none"),this.assignControlAttributes(this.seekBarDiv,"ima-seek-bar-div"),this.seekBarDiv.style.width="100%",this.assignControlAttributes(this.progressDiv,"ima-progress-div"),this.assignControlAttributes(this.playPauseDiv,"ima-play-pause-div"),this.addClass(this.playPauseDiv,"ima-playing"),this.playPauseDiv.addEventListener("click",this.onAdPlayPauseClick.bind(this),!1),this.assignControlAttributes(this.muteDiv,"ima-mute-div"),this.addClass(this.muteDiv,"ima-non-muted"),this.muteDiv.addEventListener("click",this.onAdMuteClick.bind(this),!1),this.assignControlAttributes(this.sliderDiv,"ima-slider-div"),this.sliderDiv.addEventListener("mousedown",this.onAdVolumeSliderMouseDown.bind(this),!1),this.controller.getIsIos()&&(this.sliderDiv.style.display="none"),this.assignControlAttributes(this.sliderLevelDiv,"ima-slider-level-div"),this.assignControlAttributes(this.fullscreenDiv,"ima-fullscreen-div"),this.addClass(this.fullscreenDiv,"ima-non-fullscreen"),this.fullscreenDiv.addEventListener("click",this.onAdFullscreenClick.bind(this),!1),this.adContainerDiv.appendChild(this.controlsDiv),this.controlsDiv.appendChild(this.countdownDiv),this.controlsDiv.appendChild(this.seekBarDiv),this.controlsDiv.appendChild(this.playPauseDiv),this.controlsDiv.appendChild(this.muteDiv),this.controlsDiv.appendChild(this.sliderDiv),this.controlsDiv.appendChild(this.fullscreenDiv),this.seekBarDiv.appendChild(this.progressDiv),this.sliderDiv.appendChild(this.sliderLevelDiv)},c.prototype.onAdPlayPauseClick=function(){this.controller.onAdPlayPauseClick()},c.prototype.onAdMuteClick=function(){this.controller.onAdMuteClick()},c.prototype.onAdFullscreenClick=function(){this.controller.toggleFullscreen()},c.prototype.onAdsPaused=function(){this.controller.sdkImpl.adPlaying=!1,this.addClass(this.playPauseDiv,"ima-paused"),this.removeClass(this.playPauseDiv,"ima-playing"),this.showAdControls()},c.prototype.onAdsResumed=function(){this.onAdsPlaying(),this.showAdControls()},c.prototype.onAdsPlaying=function(){this.controller.sdkImpl.adPlaying=!0,this.addClass(this.playPauseDiv,"ima-playing"),this.removeClass(this.playPauseDiv,"ima-paused")},c.prototype.updateAdUi=function(a,b,c,d,e){var f=Math.floor(b/60),g=Math.floor(b%60);g.toString().length<2&&(g="0"+g);var h=": ";e>1&&(h=" ("+d+" "+this.controller.getSettings().adLabelNofN+" "+e+"): "),this.countdownDiv.innerHTML=this.controller.getSettings().adLabel+h+f+":"+g;var i=a/c,j=100*i;this.progressDiv.style.width=j+"%"},c.prototype.unmute=function(){this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted"),this.sliderLevelDiv.style.width=100*this.controller.getPlayerVolume()+"%"},c.prototype.mute=function(){this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted"),this.sliderLevelDiv.style.width="0%"},c.prototype.onAdVolumeSliderMouseDown=function(){document.addEventListener("mouseup",this.boundOnMouseUp,!1),document.addEventListener("mousemove",this.boundOnMouseMove,!1)},c.prototype.onMouseMove=function(a){this.changeVolume(a)},c.prototype.onMouseUp=function(a){this.changeVolume(a),document.removeEventListener("mouseup",this.boundOnMouseUp),document.removeEventListener("mousemove",this.boundOnMouseMove)},c.prototype.changeVolume=function(a){var b=(a.clientX-this.sliderDiv.getBoundingClientRect().left)/this.sliderDiv.offsetWidth;b*=100,b=Math.min(Math.max(b,0),100),this.sliderLevelDiv.style.width=b+"%",0==this.percent?(this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted")):(this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted")),this.controller.setVolume(b/100)},c.prototype.showAdContainer=function(){this.adContainerDiv.style.display="block"},c.prototype.hideAdContainer=function(){this.adContainerDiv.style.display="none"},c.prototype.onAdContainerClick=function(){this.isAdNonlinear&&this.controller.togglePlayback()},c.prototype.reset=function(){this.hideAdContainer()},c.prototype.onAdError=function(){this.hideAdContainer()},c.prototype.onAdBreakStart=function(a){this.showAdContainer(),"application/javascript"!==a.getAd().getContentType()||this.controller.getSettings().showControlsForJSAds?this.controlsDiv.style.display="block":this.controlsDiv.style.display="none",this.onAdsPlaying(),this.hideAdControls()},c.prototype.onAdBreakEnd=function(){var a=this.controller.getCurrentAd();(null==a||a.isLinear())&&this.hideAdContainer(),this.controlsDiv.style.display="none",this.countdownDiv.innerHTML=""},c.prototype.onAllAdsCompleted=function(){this.hideAdContainer()},c.prototype.onLinearAdStart=function(){this.removeClass(this.adContainerDiv,"bumpable-ima-ad-container"),this.isAdNonlinear=!1},c.prototype.onNonLinearAdLoad=function(){this.adContainerDiv.style.display="block",this.addClass(this.adContainerDiv,"bumpable-ima-ad-container"),this.isAdNonlinear=!0},c.prototype.onPlayerEnterFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-fullscreen"),this.removeClass(this.fullscreenDiv,"ima-non-fullscreen")},c.prototype.onPlayerExitFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-non-fullscreen"),this.removeClass(this.fullscreenDiv,"ima-fullscreen")},c.prototype.onPlayerVolumeChanged=function(a){0==a?(this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted"),this.sliderLevelDiv.style.width="0%"):(this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted"),this.sliderLevelDiv.style.width=100*a+"%")},c.prototype.showAdControls=function(){this.controller.getSettings().disableAdControls||this.addClass(this.controlsDiv,"ima-controls-div-showing")},c.prototype.hideAdControls=function(){this.removeClass(this.controlsDiv,"ima-controls-div-showing")},c.prototype.assignControlAttributes=function(a,b){a.id=this.controlPrefix+b,a.className=this.controlPrefix+b+" "+b},c.prototype.getClassRegexp=function(a){return new RegExp("(^|[^A-Za-z-])"+a+"((?![A-Za-z-])|$)","gi")},c.prototype.elementHasClass=function(a,b){return this.getClassRegexp(b).test(a.className)},c.prototype.addClass=function(a,b){a.className=a.className.trim()+" "+b},c.prototype.removeClass=function(a,b){var c=this.getClassRegexp(b);a.className=a.className.trim().replace(c,"")},c.prototype.getAdContainerDiv=function(){return this.adContainerDiv},c.prototype.setShowCountdown=function(a){this.showCountdown=a,this.countdownDiv.style.display=this.showCountdown?"block":"none"};var d="videojs-ima",e="1.11.0",f="Apache-2.0",g="./dist/videojs.ima.js",h="./dist/videojs.ima.es.js",i={name:"Google Inc."},j={node:">=0.8.0"},k={contBuild:"watch 'npm run rollup:max' src",predevServer:'echo "Starting up server on localhost:8000."',devServer:"npm-run-all -p testServer contBuild",lint:'eslint "src/*.js"',rollup:"npm-run-all rollup:*","rollup:max":"rollup -c configs/rollup.config.js","rollup:es":"rollup -c configs/rollup.config.es.js","rollup:min":"rollup -c configs/rollup.config.min.js",pretest:"npm run rollup",start:"npm run devServer",test:"npm-run-all test:*","test:vjs5":"npm install video.js@5.19.2 --no-save && npm-run-all -p -r testServer webdriver","test:vjs6":"npm install video.js@6 --no-save && npm-run-all -p -r testServer webdriver","test:vjs7":"npm install video.js@7 --no-save && npm-run-all -p -r testServer webdriver",testServer:"http-server --cors -p 8000 --silent",preversion:"node scripts/preversion.js && npm run lint && npm test",version:"node scripts/version.js",postversion:"node scripts/postversion.js",webdriver:"mocha test/webdriver/*.js --no-timeouts"},l={type:"git",url:"https://github.com/googleads/videojs-ima"},m=["CHANGELOG.md","LICENSE","README.md","dist/","src/"],n={"video.js":"^5.19.2 || ^6 || ^7"},o={"can-autoplay":"^3.0.0","@hapi/cryptiles":"^5.1.0",extend:">=3.0.2",lodash:">=4.17.19","lodash.template":">=4.5.0","videojs-contrib-ads":"^6.6.5"},p={axios:">=0.21.1","babel-core":"^6.26.3","babel-preset-env":"^1.7.0",child_process:"^1.0.2",chromedriver:"^89.0.0","conventional-changelog-cli":"^2.0.31","conventional-changelog-videojs":"^3.0.1",ecstatic:">=4.1.3",eslint:"^4.19.1","eslint-config-google":"^0.9.1","eslint-plugin-jsdoc":"^3.15.1",geckodriver:"^1.19.1","http-server":"^0.12.3",ini:">=1.3.7",mocha:"^7.1.2","npm-run-all":"^4.1.5",path:"^0.12.7",protractor:"^7.0.0",rimraf:"^2.7.1",rollup:"^0.51.8","rollup-plugin-babel":"^3.0.7","rollup-plugin-copy":"^0.2.3","rollup-plugin-json":"^2.3.1","rollup-plugin-uglify":"^2.0.1","selenium-webdriver":"^3.6.0","uglify-es":"^3.3.9","video.js":"^5.19.2 || ^6 || ^7",watch:"^1.0.2","webdriver-manager":"^12.1.7",xmldom:">=0.5.0"},q=["videojs","videojs-plugin"],r={name:d,version:e,license:f,main:g,module:h,author:i,engines:j,scripts:k,repository:l,files:m,peerDependencies:n,dependencies:o,devDependencies:p,keywords:q},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},t=function(a){this.controller=a,this.adDisplayContainer=null,this.adDisplayContainerInitialized=!1,this.adsLoader=null,this.adsManager=null,this.adsRenderingSettings=null,this.adsResponse=null,this.currentAd=null,this.adTrackingTimer=null,this.allAdsCompleted=!1,this.adsActive=!1,this.adPlaying=!1,this.adMuted=!1,this.adBreakReadyListener=void 0,this.contentCompleteCalled=!1,this.isAdTimedOut=!1,this.adsManagerDimensions={width:0,height:0},this.autoPlayAdBreaks=!0,!1===this.controller.getSettings().autoPlayAdBreaks&&(this.autoPlayAdBreaks=!1),this.controller.getSettings().locale&&google.ima.settings.setLocale(this.controller.getSettings().locale),this.controller.getSettings().disableFlashAds&&google.ima.settings.setDisableFlashAds(this.controller.getSettings().disableFlashAds),this.controller.getSettings().disableCustomPlaybackForIOS10Plus&&google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.controller.getSettings().disableCustomPlaybackForIOS10Plus),this.controller.getSettings().ppid&&google.ima.settings.setPpid(this.controller.getSettings().ppid),this.controller.getSettings().featureFlags&&google.ima.settings.setFeatureFlags(this.controller.getSettings().featureFlags)};t.prototype.initAdObjects=function(){this.adDisplayContainer=new google.ima.AdDisplayContainer(this.controller.getAdContainerDiv(),this.controller.getContentPlayer()),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),0==this.controller.getSettings().vpaidAllowed&&this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.DISABLED),void 0!==this.controller.getSettings().vpaidMode&&this.adsLoader.getSettings().setVpaidMode(this.controller.getSettings().vpaidMode),this.controller.getSettings().locale&&this.adsLoader.getSettings().setLocale(this.controller.getSettings().locale),this.controller.getSettings().numRedirects&&this.adsLoader.getSettings().setNumRedirects(this.controller.getSettings().numRedirects),this.controller.getSettings().sessionId&&this.adsLoader.getSettings().setSessionId(this.controller.getSettings().sessionId),this.adsLoader.getSettings().setPlayerType("videojs-ima"),this.adsLoader.getSettings().setPlayerVersion(r.version),this.adsLoader.getSettings().setAutoPlayAdBreaks(this.autoPlayAdBreaks),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsLoaderError.bind(this),!1),this.controller.playerWrapper.vjsPlayer.trigger({type:"ads-loader",adsLoader:this.adsLoader})},t.prototype.requestAds=function(){var a=new google.ima.AdsRequest;if(this.controller.getSettings().adTagUrl?a.adTagUrl=this.controller.getSettings().adTagUrl:a.adsResponse=this.controller.getSettings().adsResponse,this.controller.getSettings().forceNonLinearFullSlot&&(a.forceNonLinearFullSlot=!0),this.controller.getSettings().vastLoadTimeout&&(a.vastLoadTimeout=this.controller.getSettings().vastLoadTimeout),this.controller.getSettings().omidMode){a.omidAccessModeRules={};var b=this.controller.getSettings().omidMode;b.FULL&&(a.omidAccessModeRules[google.ima.OmidAccessMode.FULL]=b.FULL),b.DOMAIN&&(a.omidAccessModeRules[google.ima.OmidAccessMode.DOMAIN]=b.DOMAIN),b.LIMITED&&(a.omidAccessModeRules[google.ima.OmidAccessMode.LIMITED]=b.LIMITED)}a.linearAdSlotWidth=this.controller.getPlayerWidth(),a.linearAdSlotHeight=this.controller.getPlayerHeight(),a.nonLinearAdSlotWidth=this.controller.getSettings().nonLinearWidth||this.controller.getPlayerWidth(),a.nonLinearAdSlotHeight=this.controller.getSettings().nonLinearHeight||this.controller.getPlayerHeight(),a.setAdWillAutoPlay(this.controller.adsWillAutoplay()),a.setAdWillPlayMuted(this.controller.adsWillPlayMuted());var c=this.controller.getSettings().adsRequest;c&&"object"===(void 0===c?"undefined":s(c))&&Object.keys(c).forEach(function(b){a[b]=c[b]}),this.adsLoader.requestAds(a),this.controller.playerWrapper.vjsPlayer.trigger({type:"ads-request",AdsRequest:a})},t.prototype.onAdsManagerLoaded=function(a){this.createAdsRenderingSettings(),this.adsManager=a.getAdsManager(this.controller.getContentPlayheadTracker(),this.adsRenderingSettings),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,this.onAdBreakReady.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onAllAdsCompleted.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,this.onAdLoaded.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.onAdStarted.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onAdComplete.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onAdComplete.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOG,this.onAdLog.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onAdPaused.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,this.onAdResumed.bind(this)),this.controller.playerWrapper.vjsPlayer.trigger({type:"ads-manager",adsManager:this.adsManager}),this.autoPlayAdBreaks||this.initAdsManager();var b=this.controller.getSettings(),c=b.preventLateAdStart;c?c&&!this.isAdTimedOut&&this.controller.onAdsReady():this.controller.onAdsReady(),this.controller.getSettings().adsManagerLoadedCallback&&this.controller.getSettings().adsManagerLoadedCallback()},t.prototype.onAdsLoaderError=function(a){window.console.warn("AdsLoader error: "+a.getError()),this.controller.onErrorLoadingAds(a),this.adsManager&&this.adsManager.destroy()},t.prototype.initAdsManager=function(){try{var a=this.controller.getPlayerWidth(),b=this.controller.getPlayerHeight();this.adsManagerDimensions.width=a,this.adsManagerDimensions.height=b,this.adsManager.init(a,b,google.ima.ViewMode.NORMAL),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.initializeAdDisplayContainer()}catch(a){this.onAdError(a)}},t.prototype.createAdsRenderingSettings=function(){if(this.adsRenderingSettings=new google.ima.AdsRenderingSettings,this.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=!0,this.controller.getSettings().adsRenderingSettings)for(var a in this.controller.getSettings().adsRenderingSettings)""!==a&&(this.adsRenderingSettings[a]=this.controller.getSettings().adsRenderingSettings[a])},t.prototype.onAdError=function(a){var b=void 0!==a.getError?a.getError():a.stack;window.console.warn("Ad error: "+b),this.adsManager.destroy(),this.controller.onAdError(a),this.adsActive=!1,this.adPlaying=!1},t.prototype.onAdBreakReady=function(a){this.adBreakReadyListener(a)},t.prototype.onContentPauseRequested=function(a){this.adsActive=!0,this.adPlaying=!0,this.controller.onAdBreakStart(a)},t.prototype.onContentResumeRequested=function(a){this.adsActive=!1,this.adPlaying=!1,this.controller.onAdBreakEnd()},t.prototype.onAllAdsCompleted=function(a){this.allAdsCompleted=!0,this.controller.onAllAdsCompleted()},t.prototype.onAdLoaded=function(a){a.getAd().isLinear()||(this.controller.onNonLinearAdLoad(),this.controller.playContent())},t.prototype.onAdStarted=function(a){this.currentAd=a.getAd(),this.currentAd.isLinear()?(this.adTrackingTimer=setInterval(this.onAdPlayheadTrackerInterval.bind(this),250),this.controller.onLinearAdStart()):this.controller.onNonLinearAdStart()},t.prototype.onAdPaused=function(){this.controller.onAdsPaused()},t.prototype.onAdResumed=function(a){this.controller.onAdsResumed()},t.prototype.onAdComplete=function(){this.currentAd.isLinear()&&clearInterval(this.adTrackingTimer)},t.prototype.onAdLog=function(a){this.controller.onAdLog(a)},t.prototype.onAdPlayheadTrackerInterval=function(){if(null!==this.adsManager){var a=this.adsManager.getRemainingTime(),b=this.currentAd.getDuration(),c=b-a;c=c>0?c:0;var d=0,e=void 0;this.currentAd.getAdPodInfo()&&(e=this.currentAd.getAdPodInfo().getAdPosition(),d=this.currentAd.getAdPodInfo().getTotalAds()),this.controller.onAdPlayheadUpdated(c,a,b,e,d)}},t.prototype.onContentComplete=function(){this.adsLoader&&(this.adsLoader.contentComplete(),this.contentCompleteCalled=!0),(this.adsManager&&this.adsManager.getCuePoints()&&!this.adsManager.getCuePoints().includes(-1)||!this.adsManager)&&this.controller.onNoPostroll(),this.allAdsCompleted&&this.controller.onContentAndAdsCompleted()},t.prototype.onPlayerDisposed=function(){this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null)},t.prototype.onPlayerReadyForPreroll=function(){if(this.autoPlayAdBreaks){this.initAdsManager();try{this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start()}catch(a){this.onAdError(a)}}},t.prototype.onAdTimeout=function(){this.isAdTimedOut=!0},t.prototype.onPlayerReady=function(){this.initAdObjects(),(this.controller.getSettings().adTagUrl||this.controller.getSettings().adsResponse)&&"onLoad"===this.controller.getSettings().requestMode&&this.requestAds()},t.prototype.onPlayerEnterFullscreen=function(){this.adsManager&&this.adsManager.resize(window.screen.width,window.screen.height,google.ima.ViewMode.FULLSCREEN)},t.prototype.onPlayerExitFullscreen=function(){this.adsManager&&this.adsManager.resize(this.controller.getPlayerWidth(),this.controller.getPlayerHeight(),google.ima.ViewMode.NORMAL)},t.prototype.onPlayerVolumeChanged=function(a){this.adsManager&&this.adsManager.setVolume(a),this.adMuted=0==a},t.prototype.onPlayerResize=function(a,b){this.adsManager&&(this.adsManagerDimensions.width=a,this.adsManagerDimensions.height=b,this.adsManager.resize(a,b,google.ima.ViewMode.NORMAL))},t.prototype.getCurrentAd=function(){return this.currentAd},t.prototype.setAdBreakReadyListener=function(a){this.adBreakReadyListener=a},t.prototype.isAdPlaying=function(){return this.adPlaying},t.prototype.isAdMuted=function(){return this.adMuted},t.prototype.pauseAds=function(){this.adsManager.pause(),this.adPlaying=!1},t.prototype.resumeAds=function(){this.adsManager.resume(),this.adPlaying=!0},t.prototype.unmute=function(){this.adsManager.setVolume(1),this.adMuted=!1},t.prototype.mute=function(){this.adsManager.setVolume(0),this.adMuted=!0},t.prototype.setVolume=function(a){this.adsManager.setVolume(a),this.adMuted=0==a},t.prototype.initializeAdDisplayContainer=function(){this.adDisplayContainer&&(this.adDisplayContainerInitialized||(this.adDisplayContainer.initialize(),this.adDisplayContainerInitialized=!0))},t.prototype.playAdBreak=function(){this.autoPlayAdBreaks||(this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start())},t.prototype.addEventListener=function(a,b){this.adsManager&&this.adsManager.addEventListener(a,b)},t.prototype.getAdsManager=function(){return this.adsManager},t.prototype.reset=function(){this.adsActive=!1,this.adPlaying=!1,this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null),this.adsLoader&&!this.contentCompleteCalled&&this.adsLoader.contentComplete(),this.contentCompleteCalled=!1,this.allAdsCompleted=!1};var u=function(a,d){this.settings={},this.contentAndAdsEndedListeners=[],this.isMobile=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i),this.isIos=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i),this.initWithSettings(d);var e={debug:this.settings.debug,timeout:this.settings.timeout,prerollTimeout:this.settings.prerollTimeout},f=this.extend({},e,d.contribAdsSettings||{});this.playerWrapper=new b(a,f,this),this.adUi=new c(this),this.sdkImpl=new t(this)};u.IMA_DEFAULTS={adLabel:"Advertisement",adLabelNofN:"of",debug:!1,disableAdControls:!1,prerollTimeout:1e3,preventLateAdStart:!1,requestMode:"onLoad",showControlsForJSAds:!0,timeout:5e3},u.prototype.initWithSettings=function(a){this.settings=this.extend({},u.IMA_DEFAULTS,a||{}),this.warnAboutDeprecatedSettings(),this.showCountdown=!0,!1===this.settings.showCountdown&&(this.showCountdown=!1)},u.prototype.warnAboutDeprecatedSettings=function(){var a=this;["adWillAutoplay","adsWillAutoplay","adWillPlayMuted","adsWillPlayMuted"].forEach(function(b){void 0!==a.settings[b]&&console.warn("WARNING: videojs.ima setting "+b+" is deprecated")})},u.prototype.getSettings=function(){return this.settings},u.prototype.getIsMobile=function(){return this.isMobile},u.prototype.getIsIos=function(){return this.isIos},u.prototype.injectAdContainerDiv=function(a){this.playerWrapper.injectAdContainerDiv(a)},u.prototype.getAdContainerDiv=function(){return this.adUi.getAdContainerDiv()},u.prototype.getContentPlayer=function(){return this.playerWrapper.getContentPlayer()},u.prototype.getContentPlayheadTracker=function(){return this.playerWrapper.getContentPlayheadTracker()},u.prototype.requestAds=function(){this.sdkImpl.requestAds()},u.prototype.setSetting=function(a,b){this.settings[a]=b},u.prototype.onErrorLoadingAds=function(a){this.adUi.onAdError(),this.playerWrapper.onAdError(a)},u.prototype.onAdPlayPauseClick=function(){this.sdkImpl.isAdPlaying()?(this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()):(this.adUi.onAdsPlaying(),this.sdkImpl.resumeAds())},u.prototype.onAdMuteClick=function(){this.sdkImpl.isAdMuted()?(this.playerWrapper.unmute(),this.adUi.unmute(),this.sdkImpl.unmute()):(this.playerWrapper.mute(),this.adUi.mute(),this.sdkImpl.mute())},u.prototype.setVolume=function(a){this.playerWrapper.setVolume(a),this.sdkImpl.setVolume(a)},u.prototype.getPlayerVolume=function(){return this.playerWrapper.getVolume()},u.prototype.toggleFullscreen=function(){this.playerWrapper.toggleFullscreen()},u.prototype.onAdError=function(a){this.adUi.onAdError(),this.playerWrapper.onAdError(a)},u.prototype.onAdBreakStart=function(a){this.playerWrapper.onAdBreakStart(),this.adUi.onAdBreakStart(a)},u.prototype.showAdContainer=function(){this.adUi.showAdContainer()},u.prototype.onAdBreakEnd=function(){this.playerWrapper.onAdBreakEnd(),this.adUi.onAdBreakEnd()},u.prototype.onAllAdsCompleted=function(){this.adUi.onAllAdsCompleted(),this.playerWrapper.onAllAdsCompleted()},u.prototype.onAdsPaused=function(){this.adUi.onAdsPaused()},u.prototype.onAdsResumed=function(){this.adUi.onAdsResumed()},u.prototype.onAdPlayheadUpdated=function(a,b,c,d,e){this.adUi.updateAdUi(a,b,c,d,e)},u.prototype.onAdLog=function(a){this.playerWrapper.onAdLog(a)},u.prototype.getCurrentAd=function(){return this.sdkImpl.getCurrentAd()},u.prototype.playContent=function(){this.playerWrapper.play()},u.prototype.onLinearAdStart=function(){this.adUi.onLinearAdStart(),this.playerWrapper.onAdStart()},u.prototype.onNonLinearAdLoad=function(){this.adUi.onNonLinearAdLoad()},u.prototype.onNonLinearAdStart=function(){this.adUi.onNonLinearAdLoad(),this.playerWrapper.onAdStart()},u.prototype.getPlayerWidth=function(){return this.playerWrapper.getPlayerWidth()},u.prototype.getPlayerHeight=function(){return this.playerWrapper.getPlayerHeight()},u.prototype.onAdsReady=function(){this.playerWrapper.onAdsReady()},u.prototype.onPlayerResize=function(a,b){this.sdkImpl.onPlayerResize(a,b)},u.prototype.onContentComplete=function(){this.sdkImpl.onContentComplete()},u.prototype.onNoPostroll=function(){this.playerWrapper.onNoPostroll()},u.prototype.onContentAndAdsCompleted=function(){for(var a in this.contentAndAdsEndedListeners)"function"==typeof this.contentAndAdsEndedListeners[a]&&this.contentAndAdsEndedListeners[a]()},u.prototype.onPlayerDisposed=function(){this.contentAndAdsEndedListeners=[],this.sdkImpl.onPlayerDisposed()},u.prototype.onPlayerReadyForPreroll=function(){this.sdkImpl.onPlayerReadyForPreroll()},u.prototype.onAdTimeout=function(){this.sdkImpl.onAdTimeout()},u.prototype.onPlayerReady=function(){this.sdkImpl.onPlayerReady()},u.prototype.onPlayerEnterFullscreen=function(){this.adUi.onPlayerEnterFullscreen(),this.sdkImpl.onPlayerEnterFullscreen()},u.prototype.onPlayerExitFullscreen=function(){this.adUi.onPlayerExitFullscreen(),this.sdkImpl.onPlayerExitFullscreen()},u.prototype.onPlayerVolumeChanged=function(a){this.adUi.onPlayerVolumeChanged(a),this.sdkImpl.onPlayerVolumeChanged(a)},u.prototype.setContentWithAdTag=function(a,b){this.reset(),this.settings.adTagUrl=b||this.settings.adTagUrl,this.playerWrapper.changeSource(a)},u.prototype.setContentWithAdsResponse=function(a,b){this.reset(),this.settings.adsResponse=b||this.settings.adsResponse,this.playerWrapper.changeSource(a)},u.prototype.setContentWithAdsRequest=function(a,b){this.reset(),this.settings.adsRequest=b||this.settings.adsRequest,this.playerWrapper.changeSource(a)},u.prototype.reset=function(){this.sdkImpl.reset(),this.playerWrapper.reset(),this.adUi.reset()},u.prototype.addContentEndedListener=function(a){this.playerWrapper.addContentEndedListener(a)},u.prototype.addContentAndAdsEndedListener=function(a){this.contentAndAdsEndedListeners.push(a)},u.prototype.setAdBreakReadyListener=function(a){this.sdkImpl.setAdBreakReadyListener(a)},u.prototype.setShowCountdown=function(a){this.adUi.setShowCountdown(a),this.showCountdown=a,this.adUi.countdownDiv.style.display=this.showCountdown?"block":"none"},u.prototype.initializeAdDisplayContainer=function(){this.sdkImpl.initializeAdDisplayContainer()},u.prototype.playAdBreak=function(){this.sdkImpl.playAdBreak()},u.prototype.addEventListener=function(a,b){this.sdkImpl.addEventListener(a,b)},u.prototype.getAdsManager=function(){return this.sdkImpl.getAdsManager()},u.prototype.getPlayerId=function(){return this.playerWrapper.getPlayerId()},u.prototype.changeAdTag=function(a){this.reset(),this.settings.adTagUrl=a},u.prototype.pauseAd=function(){this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()},u.prototype.resumeAd=function(){this.adUi.onAdsPlaying(),this.sdkImpl.resumeAds()},u.prototype.togglePlayback=function(){this.playerWrapper.togglePlayback()},u.prototype.adsWillAutoplay=function(){return void 0!==this.settings.adsWillAutoplay?this.settings.adsWillAutoplay:void 0!==this.settings.adWillAutoplay?this.settings.adWillAutoplay:!!this.playerWrapper.getPlayerOptions().autoplay},u.prototype.adsWillPlayMuted=function(){return void 0!==this.settings.adsWillPlayMuted?this.settings.adsWillPlayMuted:void 0!==this.settings.adWillPlayMuted?this.settings.adWillPlayMuted:void 0!==this.playerWrapper.getPlayerOptions().muted?this.playerWrapper.getPlayerOptions().muted:0==this.playerWrapper.getVolume()},u.prototype.triggerPlayerEvent=function(a,b){this.playerWrapper.triggerPlayerEvent(a,b)},u.prototype.extend=function(a){for(var b=void 0,c=void 0,d=void 0,e=arguments.length,f=Array(e>1?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];for(c=0;c<f.length;c++){b=f[c];for(d in b)b.hasOwnProperty(d)&&(a[d]=b[d])}return a};var v=function(a,b){this.controller=new u(a,b),this.addContentAndAdsEndedListener=function(a){this.controller.addContentAndAdsEndedListener(a)}.bind(this),this.addContentEndedListener=function(a){this.controller.addContentEndedListener(a)}.bind(this),this.addEventListener=function(a,b){this.controller.addEventListener(a,b)}.bind(this),this.changeAdTag=function(a){this.controller.changeAdTag(a)}.bind(this),this.getAdsManager=function(){return this.controller.getAdsManager()}.bind(this),this.initializeAdDisplayContainer=function(){this.controller.initializeAdDisplayContainer()}.bind(this),this.pauseAd=function(){this.controller.pauseAd()}.bind(this),this.playAdBreak=function(){this.controller.playAdBreak()}.bind(this),this.requestAds=function(){this.controller.requestAds()}.bind(this),this.resumeAd=function(){this.controller.resumeAd()}.bind(this),this.setAdBreakReadyListener=function(a){this.controller.setAdBreakReadyListener(a)}.bind(this),this.setContentWithAdTag=function(a,b){this.controller.setContentWithAdTag(a,b)}.bind(this),this.setContentWithAdsResponse=function(a,b){this.controller.setContentWithAdsResponse(a,b)}.bind(this),this.setContentWithAdsRequest=function(a,b){this.controller.setContentWithAdsRequest(a,b)}.bind(this),this.setShowCountdown=function(a){this.controller.setShowCountdown(a)}.bind(this)},w=function(a){this.ima=new v(this,a)};return(a.registerPlugin||a.plugin)("ima",w),v})},{"video.js":86}],89:[function(b,c,d){!function(e,f){"object"==typeof d&&void 0!==c?c.exports=f(b("video.js")):"function"==typeof a&&a.amd?a(["video.js"],f):(e="undefined"!=typeof globalThis?globalThis:e||self,e.videojsLogo=f(e.videojs))}(this,function(a){"use strict";function b(a){return a&&"object"==typeof a&&"default"in a?a:{default:a}}function c(a,b,c){return c={path:b,exports:{},require:function(a,b){return d(a,void 0===b||null===b?c.path:b)}},a(c,c.exports),c.exports}function d(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var e=b(a),f=c(function(a){function b(c,d){return a.exports=b=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},a.exports.default=a.exports,a.exports.__esModule=!0,b(c,d)}a.exports=b,a.exports.default=a.exports,a.exports.__esModule=!0}),g=c(function(a){function b(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,f(a,b)}a.exports=b,a.exports.default=a.exports,a.exports.__esModule=!0}),h=e.default.getPlugin("plugin"),i={image:void 0,url:void 0,position:"top-right",offsetH:0,offsetV:0,width:void 0,height:void 0,padding:5,fadeDelay:5e3,hideOnReady:!1,opacity:1},j=function(a){function b(b,c){var d;return d=a.call(this,b)||this,d.tid=null,d.div=null,d.options=e.default.mergeOptions(i,c),d.player.ready(function(){return d._onPlayerReady()}),d}g(b,a);var c=b.prototype;return c._onPlayerReady=function(){this.player.addClass("vjs-logo"),this.options.image&&(this._setup(),this.options.hideOnReady||this.show())},c._setup=function(){var a=this,b=this.player.el(),c=document.createElement("div");c.classList.add("vjs-logo-content"),c.classList.add("vjs-logo-hide"),c.style.padding=this.options.padding+"px";var d=this.options,e=d.offsetH,f=d.offsetV;switch(this.options.position){case"top-left":c.style.top=f+"px",c.style.left=e+"px";break;case"top-right":c.style.top=f+"px",c.style.right=e+"px";break;case"bottom-left":c.style.bottom=f+"px",c.style.left=e+"px";break;case"bottom-right":c.style.bottom=f+"px",c.style.right=e+"px";break;default:c.style.top=f+"px",c.style.right=e+"px"}this.div=c;var g=document.createElement("img");g.src=this.options.image;var h=this.options,i=h.width,j=h.height,k=h.opacity;if(i&&(g.width=i),j&&(g.height=j),k&&(g.style.opacity=k),this.options.url){var l=document.createElement("a");l.href=this.options.url,l.onclick=function(b){b.preventDefault(),window.open(a.options.url)},l.appendChild(g),c.appendChild(l)}else c.appendChild(g);b.appendChild(c)},c.show=function(){var a=this;this.tid&&(clearTimeout(this.tid),this.tid=null),this.div&&this.div.classList.remove("vjs-logo-hide"),null!==this.options.fadeDelay&&(this.tid=setTimeout(function(){a.hide(),a.tid=null},this.options.fadeDelay))},c.hide=function(){this.div&&this.div.classList.add("vjs-logo-hide")},b}(h);return j.defaultState={},j.VERSION="2.1.6",e.default.registerPlugin("logo",j),j})},{"video.js":86}],90:[function(a,b,c){!function(a){"use strict";a.registerPlugin("suggestedVideoEndcap",function(a){function b(){var b,e,f=a.suggestions,g=document.createDocumentFragment(),h=document.createElement("aside"),i=document.createElement("div"),j=document.createElement("h5"),k=f.length-1>7?7:f.length-1;for(h.className="vjs-suggested-video-endcap",i.className="vjs-suggested-video-endcap-container",j.innerHTML=a.header,j.className="vjs-suggested-video-endcap-header",h.appendChild(j);k>=0;--k)b=document.createElement("a"),b.className="vjs-suggested-video-endcap-link",b.href=f[k].url,b.target=f[k].target||"_self",b.title=f[k].title,e=document.createElement("img"),e.className="vjs-suggested-video-endcap-img",e.src=f[k].image,e.alt=f[k].alt||f[k].title,b.appendChild(e),b.innerHTML+=f[k].title,i.appendChild(b);h.appendChild(i),c=h,g.appendChild(h),d.el().appendChild(g)}a=a||{header:"You may also like…",suggestions:[{title:"",url:"",image:"",alt:"",target:"_self"}]};var c,d=this;d.on("ended",function(){c.classList.add("is-active")}),d.on("play",function(){c.classList.remove("is-active")}),d.ready(function(){b()})})}(window.videojs)},{}],91:[function(a,b,c){"use strict";function d(a){return a&&"object"==typeof a&&"default"in a?a:{default:a}}function e(a,b){function c(){this.constructor=a}p(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function f(a){a.sort(function(a,b){return a.start<b.start?-1:a.start===b.start?0:1})}function g(a){var b=0,c=0,d=0;return a<=0?"00:00:00":a<60?(b=a,"00:00:"+(b=b<10?"0"+b:b)):a<3600?(c=parseInt(""+a/60),c=c<10?"0"+c:c,b=a%60,b=b<10?"0"+b:b,"00:"+c+":"+b):(d=parseInt(""+a/3600),d=d<10?"0"+d:d,c=parseInt(""+a%3600/60),c=c<10?"0"+c:c,b=parseInt(""+a%3600%60%60),b=b<10?"0"+b:b,d+":"+c+":"+b)}function h(a){console.warn("[videojs-thumbnail-sprite] "+a)}function i(a){for(var b=0;b<a.length-1;b++){var c=a[b].start,d=c+a[b].duration,e=a[b+1].start,f=e+a[b+1].duration;if(e<d){var i=c,j=Math.max(d,f);h("Provided thumbnail sprites have overlapping sections among them: ["+g(i)+" ~ "+g(j)+"] Preview images may not match the corresponding point of time correctly.")}}}function j(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.start,e=c.duration,f=c.interval,i=c.width,j=c.height;c.url;d<0&&h("`start` should be zero or positive value: ["+g(d)+" ~ "+g(d+e-1)+"] Preview images may not show as expected"),void 0!==i&&void 0!==j||h("`width` and `height` should be provided: ["+g(d)+" ~ "+g(d+e-1)+"] Preview images may not show as expected"),e%f!=0&&h("`duration` should be multiple of `interval` so that it can fully cover entire duration: ["+g(d)+" ~ "+g(d+e-1)+"] Preview images may not show as expected")}}function k(a,b){Object.keys(b).map(function(c){var d=b[c];""!==d?a.style.setProperty(c,d):a.style.removeProperty(c)})}function l(a,b,c){var d,e=o.default.dom,f=-1,g=-1,h=-1,i=b.progressControl;if(null!==i.seekBar){var j=i.seekBar;if(null!==j.mouseTimeDisplay){var l=j.mouseTimeDisplay;if(null!==l.timeTooltip){var m=l.timeTooltip,n=l.el(),p=m.el();if(f=parseFloat(n.style.left),f=a.duration()*(f/j.currentWidth()),isNaN(f))f=0;else for(var q=0;q<c.length;q++){var r=c[q];if(f<r.start+r.duration){g=q;break}}h=-1!==g?(f-c[g].start)/c[g].interval:f,d=-1!==g?c[g]:c[0];var s=e.createEl("img",{src:d.url}),t=s.naturalWidth,u=s.naturalHeight,v=t/d.width,w=Math.floor(h/v)*-d.height,x=Math.floor(h%v)*-d.width,y=e.getBoundingClientRect(b.el()).top,z=e.getBoundingClientRect(b.el()).top,A=-d.height-Math.max(0,z-y);k(p,{width:d.width+"px",height:d.height+"px","background-image":"url("+d.url+")","background-repeat":"no-repeat","background-position":x+"px "+w+"px","background-size":t+"px "+u+"px;",top:A+"px",color:"#ffffff","text-shadow":"1px 1px #000000",border:"1px 1px #000000",margin:"0 1px"})}}}}function m(a,b){if(void 0!==b.sprites){var c=b.sprites;if(void 0!==a.controlBar){var d=a.controlBar;if(void 0!==d.progressControl){var e=d.progressControl;f(c),i(c),j(c),e.on("mousemove",function(){return l(a,d,c)}),e.on("touchmove",function(){return l(a,d,c)}),a.addClass("vjs-sprite-thumbnails")}}}}Object.defineProperty(c,"__esModule",{value:!0});var n=a("video.js"),o=d(n),p=function(a,b){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},q=o.default.getPlugin("plugin"),r=function(a){function b(b,c){var d=a.call(this,b)||this,e={sprites:[]};return d.options=void 0!==c?c:e,d.player.ready(function(){m(d.player,d.options)}),d}return e(b,a),b}(q);o.default.registerPlugin("thumbnailSprite",r),r||(r={});var s=r;c.default=s},{"video.js":86}],92:[function(a,b,c){!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&"object"==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&c&&"string"!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="../dist/",b(b.s=1)}([function(a,b){a.exports=videojs},function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function g(a,b,c){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(a,b,c){var d=function(a,b){for(;!Object.prototype.hasOwnProperty.call(a,b)&&null!==(a=h(a)););return a}(a,b);if(d){var e=Object.getOwnPropertyDescriptor(d,b);return e.get?e.get.call(c):e.value}})(a,b,c||a)}function h(a){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function i(a,b){return(i=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}c.r(b),c.d(b,"EndCard",function(){return n});var j=c(0),k=c.n(j);c(2);var l={},m=k.a.registerPlugin||k.a.plugin,n=function(a){function b(a,c){var e,g,i;!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),g=this,i=h(b).call(this,a,c),e=!i||"object"!==d(i)&&"function"!=typeof i?f(g):i;var j=f(e);return e.getTitle=e.options_.getTitle,e.next=e.options_.next,e.upNextEvents=new k.a.EventTarget,e.dashOffsetTotal=586,e.dashOffsetStart=293,e.interval=50,e.chunkSize=(e.dashOffsetTotal-e.dashOffsetStart)/(e.options_.timeout/e.interval),a.on("ended",function(b){a.addClass("vjs-upnext--showing"),e.showCard(function(b){a.removeClass("vjs-upnext--showing"),j.el()&&(j.dispose(),b||e.next())})}),a.on("playing",function(){this.upNextEvents.trigger("playing")}.bind(f(e))),e}var c,j,l;return function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&i(a,b)}(b,a),c=b,(j=[{key:"createEl",value:function(){var a,c=g(h(b.prototype),"createEl",this).call(this,"div",{className:"vjs-upnext-content",innerHTML:(a=this.options_,'\n    <div class="vjs-upnext-top">\n      <span class="vjs-upnext-headtext">'.concat(a.headText,'</span>\n      <div class="vjs-upnext-title"></div>\n    </div>\n    <div class="vjs-upnext-autoplay-icon">\n      <svg height="100%" version="1.1" viewbox="0 0 98 98" width="100%">\n        <circle class="vjs-upnext-svg-autoplay-circle" cx="49" cy="49" fill="#000" fill-opacity="0.8" r="48"></circle>\n        <circle class="vjs-upnext-svg-autoplay-ring" cx="-49" cy="49" fill-opacity="0" r="46.5" stroke="#FFFFFF" stroke-width="4" transform="rotate(-90)"></circle>\n        <polygon class="vjs-upnext-svg-autoplay-triangle" fill="#fff" points="32,27 72,49 32,71"></polygon></svg>\n    </div>\n    <span class="vjs-upnext-bottom">\n      <span class="vjs-upnext-cancel">\n        <button class="vjs-upnext-cancel-button" tabindex="0" aria-label="Cancel autoplay">').concat(a.cancelText,"</button>\n      </span>\n    </span>\n  "))});return this.container=c,c.style.display="none",this.autoplayRing=c.getElementsByClassName("vjs-upnext-svg-autoplay-ring")[0],this.title=c.getElementsByClassName("vjs-upnext-title")[0],this.cancelButton=c.getElementsByClassName("vjs-upnext-cancel-button")[0],this.nextButton=c.getElementsByClassName("vjs-upnext-autoplay-icon")[0],this.cancelButton.onclick=function(){this.upNextEvents.trigger("cancel")}.bind(this),this.nextButton.onclick=function(){this.upNextEvents.trigger("next")}.bind(this),c}},{key:"showCard",value:function(a){var b,c,d;this.autoplayRing.setAttribute("stroke-dasharray",this.dashOffsetStart),this.autoplayRing.setAttribute("stroke-dashoffset",-this.dashOffsetStart),this.title.innerHTML=this.getTitle(),this.upNextEvents.one("cancel",function(){clearTimeout(b),a(!0)}),this.upNextEvents.one("playing",function(){clearTimeout(b),a(!0)}),this.upNextEvents.one("next",function(){clearTimeout(b),a(!1)}),this.container.style.display="block",c=(new Date).getTime(),b=setTimeout(function e(){this.options_.timeout-((new Date).getTime()-c)<=0?(clearTimeout(b),a(!1)):(d=Math.max(-this.dashOffsetTotal,this.autoplayRing.getAttribute("stroke-dashoffset")-this.chunkSize),this.autoplayRing.setAttribute("stroke-dashoffset",d),b=setTimeout(e.bind(this),this.interval))}.bind(this),this.interval)}}])&&e(c.prototype,j),l&&e(c,l),b}(k.a.getComponent("Component"));k.a.registerComponent("EndCard",n);var o=function(a){var b=this;this.ready(function(){var c;c=b,k.a.mergeOptions(l,a),c.addClass("vjs-upnext")});var c=a||{},d={next:c.next,getTitle:c.getTitle,timeout:c.timeout||5e3,cancelText:c.cancelText||"Cancel",headText:c.headText||"Up Next"};this.removeChild("endCard"),this.addChild("endCard",d)};m("upnext",o),o.VERSION="__VERSION__",b.default=o},function(a,b,c){}])},{}],93:[function(a,b,c){var d=a("global/window"),e=b.exports={WebVTT:a("./vtt.js"),VTTCue:a("./vttcue.js"),VTTRegion:a("./vttregion.js")};d.vttjs=e,d.WebVTT=e.WebVTT;var f=e.VTTCue,g=e.VTTRegion,h=d.VTTCue,i=d.VTTRegion;e.shim=function(){d.VTTCue=f,d.VTTRegion=g},e.restore=function(){d.VTTCue=h,d.VTTRegion=i},d.VTTCue||e.shim()},{"./vtt.js":94,"./vttcue.js":95,"./vttregion.js":96,"global/window":38}],94:[function(a,b,c){function d(a,b){this.name="ParsingError",this.code=a.code,this.message=b||a.message}function e(a){function b(a,b,c,d){return 3600*(0|a)+60*(0|b)+(0|c)+(0|d)/1e3}var c=a.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return c?c[3]?b(c[1],c[2],c[3].replace(":",""),c[4]):c[1]>59?b(c[1],c[2],0,c[4]):b(0,c[1],c[2],c[4]):null}function f(){this.values=s(null)}function g(a,b,c,d){var e=d?a.split(d):[a];for(var f in e)if("string"==typeof e[f]){var g=e[f].split(c);if(2===g.length){var h=g[0],i=g[1];b(h,i)}}}function h(a,b,c){function h(){var b=e(a);if(null===b)throw new d(d.Errors.BadTimeStamp,"Malformed timestamp: "+k);return a=a.replace(/^[^\sa-zA-Z-]+/,""),b}function i(a,b){var d=new f;g(a,function(a,b){switch(a){case"region":for(var e=c.length-1;e>=0;e--)if(c[e].id===b){d.set(a,c[e].region);break}break;case"vertical":d.alt(a,b,["rl","lr"]);break;case"line":var f=b.split(","),g=f[0];d.integer(a,g),d.percent(a,g)&&d.set("snapToLines",!1),d.alt(a,g,["auto"]),2===f.length&&d.alt("lineAlign",f[1],["start","center","end"]);break;case"position":f=b.split(","),d.percent(a,f[0]),2===f.length&&d.alt("positionAlign",f[1],["start","center","end"]);break;case"size":d.percent(a,b);break;case"align":d.alt(a,b,["start","center","end","left","right"])}},/:/,/\s/),b.region=d.get("region",null),b.vertical=d.get("vertical","");try{b.line=d.get("line","auto")}catch(a){}b.lineAlign=d.get("lineAlign","start"),b.snapToLines=d.get("snapToLines",!0),b.size=d.get("size",100);try{b.align=d.get("align","center")}catch(a){b.align=d.get("align","middle")}try{b.position=d.get("position","auto")}catch(a){b.position=d.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},b.align)}b.positionAlign=d.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},b.align)}function j(){a=a.replace(/^\s+/,"")}var k=a;if(j(),b.startTime=h(),j(),"--\x3e"!==a.substr(0,3))throw new d(d.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+k);a=a.substr(3),j(),b.endTime=h(),j(),i(a,b)}function i(a,b){function c(){function a(a){return b=b.substr(a.length),a}if(!b)return null;var c=b.match(/^([^<]*)(<[^>]*>?)?/);return a(c[1]?c[1]:c[2])}function d(a){return t.innerHTML=a,a=t.textContent,t.textContent="",a}function f(a,b){return!x[b.localName]||x[b.localName]===a.localName}function g(b,c){var d=u[b];if(!d)return null;var e=a.document.createElement(d),f=w[b];return f&&c&&(e[f]=c.trim()),e}for(var h,i=a.document.createElement("div"),j=i,k=[];null!==(h=c());)if("<"!==h[0])j.appendChild(a.document.createTextNode(d(h)));else{if("/"===h[1]){k.length&&k[k.length-1]===h.substr(2).replace(">","")&&(k.pop(),j=j.parentNode);continue}var l,m=e(h.substr(1,h.length-2));if(m){l=a.document.createProcessingInstruction("timestamp",m),j.appendChild(l);continue}var n=h.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!n)continue;if(!(l=g(n[1],n[3])))continue;if(!f(j,l))continue;if(n[2]){var o=n[2].split(".");o.forEach(function(a){var b=/^bg_/.test(a),c=b?a.slice(3):a;if(v.hasOwnProperty(c)){var d=b?"background-color":"color",e=v[c];l.style[d]=e}}),l.className=o.join(" ")}k.push(n[1]),j.appendChild(l),j=l}return i}function j(a){for(var b=0;b<y.length;b++){var c=y[b];if(a>=c[0]&&a<=c[1])return!0}return!1}function k(a){function b(a,b){for(var c=b.childNodes.length-1;c>=0;c--)a.push(b.childNodes[c])}function c(a){if(!a||!a.length)return null;var d=a.pop(),e=d.textContent||d.innerText;if(e){var f=e.match(/^.*(\n|\r)/);return f?(a.length=0,f[0]):e}return"ruby"===d.tagName?c(a):d.childNodes?(b(a,d),c(a)):void 0}var d,e=[],f="";if(!a||!a.childNodes)return"ltr";for(b(e,a);f=c(e);)for(var g=0;g<f.length;g++)if(d=f.charCodeAt(g),j(d))return"rtl";return"ltr"}function l(a){if("number"==typeof a.line&&(a.snapToLines||a.line>=0&&a.line<=100))return a.line;if(!a.track||!a.track.textTrackList||!a.track.textTrackList.mediaElement)return-1;for(var b=a.track,c=b.textTrackList,d=0,e=0;e<c.length&&c[e]!==b;e++)"showing"===c[e].mode&&d++;return-1*++d}function m(){}function n(a,b,c){m.call(this),this.cue=b,this.cueDiv=i(a,b.text);var d={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===b.vertical?"horizontal-tb":"lr"===b.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(d,this.cueDiv),this.div=a.document.createElement("div"),d={direction:k(this.cueDiv),writingMode:""===b.vertical?"horizontal-tb":"lr"===b.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===b.align?"center":b.align,font:c.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(d),this.div.appendChild(this.cueDiv);var e=0;switch(b.positionAlign){case"start":e=b.position;break;case"center":e=b.position-b.size/2;break;case"end":e=b.position-b.size}""===b.vertical?this.applyStyles({left:this.formatStyle(e,"%"),width:this.formatStyle(b.size,"%")}):this.applyStyles({top:this.formatStyle(e,"%"),height:this.formatStyle(b.size,"%")}),this.move=function(a){this.applyStyles({top:this.formatStyle(a.top,"px"),bottom:this.formatStyle(a.bottom,"px"),left:this.formatStyle(a.left,"px"),right:this.formatStyle(a.right,"px"),height:this.formatStyle(a.height,"px"),width:this.formatStyle(a.width,"px")})}}function o(a){var b,c,d,e;if(a.div){c=a.div.offsetHeight,d=a.div.offsetWidth,e=a.div.offsetTop;var f=(f=a.div.childNodes)&&(f=f[0])&&f.getClientRects&&f.getClientRects();a=a.div.getBoundingClientRect(),b=f?Math.max(f[0]&&f[0].height||0,a.height/f.length):0}this.left=a.left,this.right=a.right,this.top=a.top||e,this.height=a.height||c,this.bottom=a.bottom||e+(a.height||c),this.width=a.width||d,this.lineHeight=void 0!==b?b:a.lineHeight}function p(a,b,c,d){function e(a,b){for(var e,f=new o(a),g=1,h=0;h<b.length;h++){for(;a.overlapsOppositeAxis(c,b[h])||a.within(c)&&a.overlapsAny(d);)a.move(b[h]);if(a.within(c))return a;var i=a.intersectPercentage(c);g>i&&(e=new o(a),g=i),a=new o(f)}return e||f}var f=new o(b),g=b.cue,h=l(g),i=[];if(g.snapToLines){var j;switch(g.vertical){case"":i=["+y","-y"],j="height";break;case"rl":i=["+x","-x"],j="width";break;case"lr":i=["-x","+x"],j="width"}var k=f.lineHeight,m=k*Math.round(h),n=c[j]+k,p=i[0];Math.abs(m)>n&&(m=m<0?-1:1,m*=Math.ceil(n/k)*k),h<0&&(m+=""===g.vertical?c.height:c.width,i=i.reverse()),f.move(p,m)}else{var q=f.lineHeight/c.height*100;switch(g.lineAlign){case"center":h-=q/2;break;case"end":h-=q}switch(g.vertical){case"":b.applyStyles({top:b.formatStyle(h,"%")});break;case"rl":b.applyStyles({left:b.formatStyle(h,"%")});break;case"lr":b.applyStyles({right:b.formatStyle(h,"%")})}i=["+y","-x","+x","-y"],f=new o(b)}var r=e(f,i);b.move(r.toCSSCompatValues(c))}function q(){}var r=a("global/document"),s=Object.create||function(){function a(){}return function(b){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return a.prototype=b,new a}}();d.prototype=s(Error.prototype),d.prototype.constructor=d,d.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},f.prototype={set:function(a,b){this.get(a)||""===b||(this.values[a]=b)},get:function(a,b,c){return c?this.has(a)?this.values[a]:b[c]:this.has(a)?this.values[a]:b},has:function(a){return a in this.values},alt:function(a,b,c){for(var d=0;d<c.length;++d)if(b===c[d]){this.set(a,b);break}},integer:function(a,b){/^-?\d+$/.test(b)&&this.set(a,parseInt(b,10))},percent:function(a,b){return!!(b.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(b=parseFloat(b))>=0&&b<=100)&&(this.set(a,b),!0)}};var t=r.createElement&&r.createElement("textarea"),u={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},v={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},w={v:"title",lang:"lang"},x={rt:"ruby"},y=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];m.prototype.applyStyles=function(a,b){b=b||this.div;for(var c in a)a.hasOwnProperty(c)&&(b.style[c]=a[c])},m.prototype.formatStyle=function(a,b){return 0===a?0:a+b},n.prototype=s(m.prototype),n.prototype.constructor=n,o.prototype.move=function(a,b){switch(b=void 0!==b?b:this.lineHeight,a){case"+x":this.left+=b,this.right+=b;break;case"-x":this.left-=b,this.right-=b;break;case"+y":this.top+=b,this.bottom+=b;break;case"-y":this.top-=b,this.bottom-=b}},o.prototype.overlaps=function(a){return this.left<a.right&&this.right>a.left&&this.top<a.bottom&&this.bottom>a.top},o.prototype.overlapsAny=function(a){for(var b=0;b<a.length;b++)if(this.overlaps(a[b]))return!0;return!1},o.prototype.within=function(a){return this.top>=a.top&&this.bottom<=a.bottom&&this.left>=a.left&&this.right<=a.right},o.prototype.overlapsOppositeAxis=function(a,b){switch(b){case"+x":return this.left<a.left;case"-x":return this.right>a.right;case"+y":return this.top<a.top;case"-y":return this.bottom>a.bottom}},o.prototype.intersectPercentage=function(a){return Math.max(0,Math.min(this.right,a.right)-Math.max(this.left,a.left))*Math.max(0,Math.min(this.bottom,a.bottom)-Math.max(this.top,a.top))/(this.height*this.width)},o.prototype.toCSSCompatValues=function(a){return{top:this.top-a.top,bottom:a.bottom-this.bottom,left:this.left-a.left,right:a.right-this.right,height:this.height,width:this.width}},o.getSimpleBoxPosition=function(a){var b=a.div?a.div.offsetHeight:a.tagName?a.offsetHeight:0,c=a.div?a.div.offsetWidth:a.tagName?a.offsetWidth:0,d=a.div?a.div.offsetTop:a.tagName?a.offsetTop:0;return a=a.div?a.div.getBoundingClientRect():a.tagName?a.getBoundingClientRect():a,{left:a.left,right:a.right,top:a.top||d,height:a.height||b,bottom:a.bottom||d+(a.height||b),width:a.width||c}},q.StringDecoder=function(){return{decode:function(a){if(!a)return"";if("string"!=typeof a)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(a))}}},q.convertCueToDOMTree=function(a,b){return a&&b?i(a,b):null},q.processCues=function(a,b,c){function d(a){for(var b=0;b<a.length;b++)if(a[b].hasBeenReset||!a[b].displayState)return!0;return!1}if(!a||!b||!c)return null;for(;c.firstChild;)c.removeChild(c.firstChild);var e=a.document.createElement("div");if(e.style.position="absolute",e.style.left="0",e.style.right="0",e.style.top="0",e.style.bottom="0",e.style.margin="1.5%",c.appendChild(e),d(b)){var f=[],g=o.getSimpleBoxPosition(e),h=Math.round(.05*g.height*100)/100,i={font:h+"px sans-serif"};!function(){for(var c,d,h=0;h<b.length;h++)d=b[h],c=new n(a,d,i),e.appendChild(c.div),p(a,c,g,f),d.displayState=c.div,f.push(o.getSimpleBoxPosition(c))}()}else for(var j=0;j<b.length;j++)e.appendChild(b[j].displayState)},q.Parser=function(a,b,c){c||(c=b,b={}),b||(b={}),this.window=a,this.vttjs=b,this.state="INITIAL",this.buffer="",this.decoder=c||new TextDecoder("utf8"),this.regionList=[]},q.Parser.prototype={reportOrThrowError:function(a){if(!(a instanceof d))throw a;this.onparsingerror&&this.onparsingerror(a)},parse:function(a){function b(){for(var a=k.buffer,b=0;b<a.length&&"\r"!==a[b]&&"\n"!==a[b];)++b;var c=a.substr(0,b);return"\r"===a[b]&&++b,"\n"===a[b]&&++b,k.buffer=a.substr(b),c}function c(a){var b=new f;if(g(a,function(a,c){switch(a){case"id":b.set(a,c);break;case"width":b.percent(a,c);break;case"lines":b.integer(a,c);break;case"regionanchor":case"viewportanchor":var d=c.split(",");if(2!==d.length)break;var e=new f;if(e.percent("x",d[0]),e.percent("y",d[1]),!e.has("x")||!e.has("y"))break;b.set(a+"X",e.get("x")),b.set(a+"Y",e.get("y"));break;case"scroll":b.alt(a,c,["up"])}},/=/,/\s/),b.has("id")){var c=new(k.vttjs.VTTRegion||k.window.VTTRegion);c.width=b.get("width",100),c.lines=b.get("lines",3),c.regionAnchorX=b.get("regionanchorX",0),c.regionAnchorY=b.get("regionanchorY",100),c.viewportAnchorX=b.get("viewportanchorX",0),c.viewportAnchorY=b.get("viewportanchorY",100),c.scroll=b.get("scroll",""),k.onregion&&k.onregion(c),k.regionList.push({id:b.get("id"),region:c})}}function i(a){var b=new f;g(a,function(a,c){switch(a){case"MPEGT":b.integer(a+"S",c);break;case"LOCA":b.set(a+"L",e(c))}},/[^\d]:/,/,/),k.ontimestampmap&&k.ontimestampmap({MPEGTS:b.get("MPEGTS"),LOCAL:b.get("LOCAL")})}function j(a){a.match(/X-TIMESTAMP-MAP/)?g(a,function(a,b){switch(a){case"X-TIMESTAMP-MAP":i(b)}},/=/):g(a,function(a,b){switch(a){case"Region":c(b)}},/:/)}var k=this;a&&(k.buffer+=k.decoder.decode(a,{stream:!0}));try{var l;if("INITIAL"===k.state){if(!/\r\n|\n/.test(k.buffer))return this;l=b();var m=l.match(/^WEBVTT([ \t].*)?$/);if(!m||!m[0])throw new d(d.Errors.BadSignature);k.state="HEADER"}for(var n=!1;k.buffer;){if(!/\r\n|\n/.test(k.buffer))return this;switch(n?n=!1:l=b(),k.state){case"HEADER":/:/.test(l)?j(l):l||(k.state="ID");continue;case"NOTE":l||(k.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(l)){k.state="NOTE";break}if(!l)continue;k.cue=new(k.vttjs.VTTCue||k.window.VTTCue)(0,0,"");try{k.cue.align="center"}catch(a){k.cue.align="middle"}if(k.state="CUE",-1===l.indexOf("--\x3e")){k.cue.id=l;continue}case"CUE":try{h(l,k.cue,k.regionList)}catch(a){k.reportOrThrowError(a),k.cue=null,k.state="BADCUE";continue}k.state="CUETEXT";continue;case"CUETEXT":var o=-1!==l.indexOf("--\x3e");if(!l||o&&(n=!0)){k.oncue&&k.oncue(k.cue),k.cue=null,k.state="ID";continue}k.cue.text&&(k.cue.text+="\n"),k.cue.text+=l.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":l||(k.state="ID");continue}}}catch(a){k.reportOrThrowError(a),"CUETEXT"===k.state&&k.cue&&k.oncue&&k.oncue(k.cue),k.cue=null,k.state="INITIAL"===k.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var a=this;try{if(a.buffer+=a.decoder.decode(),(a.cue||"HEADER"===a.state)&&(a.buffer+="\n\n",a.parse()),"INITIAL"===a.state)throw new d(d.Errors.BadSignature)}catch(b){a.reportOrThrowError(b)}return a.onflush&&a.onflush(),this}},b.exports=q},{"global/document":37}],95:[function(a,b,c){function d(a){return"string"==typeof a&&(!!h[a.toLowerCase()]&&a.toLowerCase())}function e(a){return"string"==typeof a&&(!!i[a.toLowerCase()]&&a.toLowerCase())}function f(a,b,c){this.hasBeenReset=!1;var f="",h=!1,i=a,j=b,k=c,l=null,m="",n=!0,o="auto",p="start",q="auto",r="auto",s=100,t="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return f},set:function(a){f=""+a}},pauseOnExit:{enumerable:!0,get:function(){return h},set:function(a){h=!!a}},startTime:{enumerable:!0,get:function(){return i},set:function(a){if("number"!=typeof a)throw new TypeError("Start time must be set to a number.");i=a,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return j},set:function(a){if("number"!=typeof a)throw new TypeError("End time must be set to a number.");j=a,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return k},set:function(a){k=""+a,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(a){l=a,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return m},set:function(a){var b=d(a);if(!1===b)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");m=b,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return n},set:function(a){n=!!a,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return o},set:function(a){if("number"!=typeof a&&a!==g)throw new SyntaxError("Line: an invalid number or illegal string was specified.");o=a,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return p},set:function(a){var b=e(a);b?(p=b,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return q},set:function(a){if(a<0||a>100)throw new Error("Position must be between 0 and 100.");q=a,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return r},set:function(a){var b=e(a);b?(r=b,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return s},set:function(a){if(a<0||a>100)throw new Error("Size must be between 0 and 100.");s=a,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return t},set:function(a){var b=e(a);if(!b)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");t=b,this.hasBeenReset=!0}}}),this.displayState=void 0}var g="auto",h={"":1,lr:1,rl:1},i={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};f.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},b.exports=f},{}],96:[function(a,b,c){function d(a){return"string"==typeof a&&(!!g[a.toLowerCase()]&&a.toLowerCase())}function e(a){return"number"==typeof a&&a>=0&&a<=100}function f(){var a=100,b=3,c=0,f=100,g=0,h=100,i="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return a},set:function(b){if(!e(b))throw new Error("Width must be between 0 and 100.");a=b}},lines:{enumerable:!0,get:function(){return b},set:function(a){if("number"!=typeof a)throw new TypeError("Lines must be set to a number.");b=a}},regionAnchorY:{enumerable:!0,get:function(){return f},set:function(a){if(!e(a))throw new Error("RegionAnchorX must be between 0 and 100.");f=a}},regionAnchorX:{enumerable:!0,get:function(){return c},set:function(a){if(!e(a))throw new Error("RegionAnchorY must be between 0 and 100.");c=a}},viewportAnchorY:{enumerable:!0,get:function(){return h},set:function(a){if(!e(a))throw new Error("ViewportAnchorY must be between 0 and 100.");h=a}},viewportAnchorX:{enumerable:!0,get:function(){return g},set:function(a){if(!e(a))throw new Error("ViewportAnchorX must be between 0 and 100.");g=a}},scroll:{enumerable:!0,get:function(){return i},set:function(a){var b=d(a);!1===b?console.warn("Scroll: an invalid or illegal string was specified."):i=b}}})}var g={"":!0,up:!0};b.exports=f},{}],97:[function(a,b,c){function d(a){this.options=a||{locator:{}}}function e(a,b,c){function d(b){var d=a[b];!d&&g&&(d=2==a.length?function(c){a(b,c)}:a),e[b]=d&&function(a){d("[xmldom "+b+"]\t"+a+h(c))}||function(){}}if(!a){if(b instanceof f)return b;a=b}var e={},g=a instanceof Function;return c=c||{},d("warning"),d("error"),d("fatalError"),e}function f(){this.cdata=!1}function g(a,b){b.lineNumber=a.lineNumber,b.columnNumber=a.columnNumber}function h(a){if(a)return"\n@"+(a.systemId||"")+"#[line:"+a.lineNumber+",col:"+a.columnNumber+"]"}function i(a,b,c){return"string"==typeof a?a.substr(b,c):a.length>=b+c||b?new java.lang.String(a,b,c)+"":a}function j(a,b){a.currentElement?a.currentElement.appendChild(b):a.doc.appendChild(b)}d.prototype.parseFromString=function(a,b){var c=this.options,d=new m,g=c.domBuilder||new f,h=c.errorHandler,i=c.locator,j=c.xmlns||{},l=/\/x?html?$/.test(b),n=l?k.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return i&&g.setDocumentLocator(i),d.errorHandler=e(h,g,i),d.domBuilder=c.domBuilder||g,l&&(j[""]="http://www.w3.org/1999/xhtml"),j.xml=j.xml||"http://www.w3.org/XML/1998/namespace",a&&"string"==typeof a?d.parse(a,j,n):d.errorHandler.error("invalid doc source"),g.doc},f.prototype={startDocument:function(){this.doc=(new o).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(a,b,c,d){var e=this.doc,f=e.createElementNS(a,c||b),h=d.length;j(this,f),this.currentElement=f,this.locator&&g(this.locator,f);for(var i=0;i<h;i++){var a=d.getURI(i),k=d.getValue(i),c=d.getQName(i),l=e.createAttributeNS(a,c);this.locator&&g(d.getLocator(i),l),l.value=l.nodeValue=k,f.setAttributeNode(l)}},endElement:function(a,b,c){var d=this.currentElement;d.tagName;this.currentElement=d.parentNode},startPrefixMapping:function(a,b){},endPrefixMapping:function(a){},processingInstruction:function(a,b){var c=this.doc.createProcessingInstruction(a,b);this.locator&&g(this.locator,c),j(this,c)},ignorableWhitespace:function(a,b,c){},characters:function(a,b,c){if(a=i.apply(this,arguments)){if(this.cdata)var d=this.doc.createCDATASection(a);else var d=this.doc.createTextNode(a);this.currentElement?this.currentElement.appendChild(d):/^\s*$/.test(a)&&this.doc.appendChild(d),this.locator&&g(this.locator,d)}},skippedEntity:function(a){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(a){(this.locator=a)&&(a.lineNumber=0)},comment:function(a,b,c){a=i.apply(this,arguments);var d=this.doc.createComment(a);this.locator&&g(this.locator,d),j(this,d)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(a,b,c){var d=this.doc.implementation;if(d&&d.createDocumentType){var e=d.createDocumentType(a,b,c);this.locator&&g(this.locator,e),j(this,e)}},warning:function(a){console.warn("[xmldom warning]\t"+a,h(this.locator))},error:function(a){console.error("[xmldom error]\t"+a,h(this.locator))},fatalError:function(a){throw new n(a,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(a){f.prototype[a]=function(){return null}});var k=a("./entities"),l=a("./sax"),m=l.XMLReader,n=l.ParseError,o=c.DOMImplementation=a("./dom").DOMImplementation;c.XMLSerializer=a("./dom").XMLSerializer,c.DOMParser=d,c.__DOMHandler=f},{"./dom":98,"./entities":99,"./sax":100}],98:[function(a,b,c){function d(a,b){for(var c in a)b[c]=a[c]}function e(a,b){function c(){}var e=a.prototype;e instanceof b||(c.prototype=b.prototype,c=new c,d(e,c),a.prototype=e=c),e.constructor!=a&&("function"!=typeof a&&console.error("unknow Class:"+a),e.constructor=a)}function f(a,b){if(b instanceof Error)var c=b;else c=this,Error.call(this,fa[a]),this.message=fa[a],Error.captureStackTrace&&Error.captureStackTrace(this,f);return c.code=a,b&&(this.message=this.message+": "+b),c}function g(){}function h(a,b){this._node=a,this._refresh=b,i(this)}function i(a){var b=a._node._inc||a._node.ownerDocument._inc;if(a._inc!=b){var c=a._refresh(a._node);Q(a,"length",c.length),d(c,a),a._inc=b}}function j(){}function k(a,b){for(var c=a.length;c--;)if(a[c]===b)return c}function l(a,b,c,d){if(d?b[k(b,d)]=c:b[b.length++]=c,a){c.ownerElement=a;var e=a.ownerDocument;e&&(d&&t(e,a,d),s(e,a,c))}}function m(a,b,c){var d=k(b,c);if(!(d>=0))throw f(ha,new Error(a.tagName+"@"+c));for(var e=b.length-1;d<e;)b[d]=b[++d];if(b.length=e,a){var g=a.ownerDocument;g&&(t(g,a,c),c.ownerElement=null)}}function n(a){if(this._features={},a)for(var b in a)this._features=a[b]}function o(){}function p(a){return"<"==a&&"&lt;"||">"==a&&"&gt;"||"&"==a&&"&amp;"||'"'==a&&"&quot;"||"&#"+a.charCodeAt()+";"}function q(a,b){if(b(a))return!0;if(a=a.firstChild)do{if(q(a,b))return!0}while(a=a.nextSibling)}function r(){}function s(a,b,c){a&&a._inc++,"http://www.w3.org/2000/xmlns/"==c.namespaceURI&&(b._nsMap[c.prefix?c.localName:""]=c.value)}function t(a,b,c,d){a&&a._inc++,"http://www.w3.org/2000/xmlns/"==c.namespaceURI&&delete b._nsMap[c.prefix?c.localName:""]}function u(a,b,c){if(a&&a._inc){a._inc++;var d=b.childNodes;if(c)d[d.length++]=c;else{for(var e=b.firstChild,f=0;e;)d[f++]=e,e=e.nextSibling;d.length=f}}}function v(a,b){var c=b.previousSibling,d=b.nextSibling;return c?c.nextSibling=d:a.firstChild=d,d?d.previousSibling=c:a.lastChild=c,u(a.ownerDocument,a),b}function w(a,b,c){var d=b.parentNode;if(d&&d.removeChild(b),b.nodeType===ca){var e=b.firstChild;if(null==e)return b;var f=b.lastChild}else e=f=b;var g=c?c.previousSibling:a.lastChild;e.previousSibling=g,f.nextSibling=c,g?g.nextSibling=e:a.firstChild=e,null==c?a.lastChild=f:c.previousSibling=f;do{e.parentNode=a}while(e!==f&&(e=e.nextSibling));return u(a.ownerDocument||a,a),b.nodeType==ca&&(b.firstChild=b.lastChild=null),b}function x(a,b){var c=b.parentNode;if(c){var d=a.lastChild;c.removeChild(b);var d=a.lastChild}var d=a.lastChild;return b.parentNode=a,b.previousSibling=d,b.nextSibling=null,d?d.nextSibling=b:a.firstChild=b,a.lastChild=b,u(a.ownerDocument,a,b),b}function y(){this._nsMap={}}function z(){}function A(){}function B(){}function C(){}function D(){}function E(){}function F(){}function G(){}function H(){}function I(){}function J(){}function K(){}function L(a,b){var c=[],d=9==this.nodeType&&this.documentElement||this,e=d.prefix,f=d.namespaceURI;if(f&&null==e){var e=d.lookupPrefix(f);if(null==e)var g=[{namespace:f,prefix:null}]}return N(this,c,a,b,g),c.join("")}function M(a,b,c){var d=a.prefix||"",e=a.namespaceURI;if(!d&&!e)return!1;if("xml"===d&&"http://www.w3.org/XML/1998/namespace"===e||"http://www.w3.org/2000/xmlns/"==e)return!1;for(var f=c.length;f--;){var g=c[f];if(g.prefix==d)return g.namespace!=e}return!0}function N(a,b,c,d,e){if(d){if(!(a=d(a)))return;if("string"==typeof a)return void b.push(a)}switch(a.nodeType){case U:e||(e=[]);var f=(e.length,a.attributes),g=f.length,h=a.firstChild,i=a.tagName;c=S===a.namespaceURI||c,b.push("<",i);for(var j=0;j<g;j++){var k=f.item(j);"xmlns"==k.prefix?e.push({prefix:k.localName,namespace:k.value}):"xmlns"==k.nodeName&&e.push({prefix:"",namespace:k.value})}for(var j=0;j<g;j++){var k=f.item(j);if(M(k,c,e)){var l=k.prefix||"",m=k.namespaceURI,n=l?" xmlns:"+l:" xmlns";b.push(n,'="',m,'"'),e.push({prefix:l,namespace:m})}N(k,b,c,d,e)}if(M(a,c,e)){var l=a.prefix||"",m=a.namespaceURI,n=l?" xmlns:"+l:" xmlns";b.push(n,'="',m,'"'),e.push({prefix:l,namespace:m})}if(h||c&&!/^(?:meta|link|img|br|hr|input)$/i.test(i)){if(b.push(">"),c&&/^script$/i.test(i))for(;h;)h.data?b.push(h.data):N(h,b,c,d,e),h=h.nextSibling;else for(;h;)N(h,b,c,d,e),h=h.nextSibling;b.push("</",i,">")}else b.push("/>");return;case aa:case ca:for(var h=a.firstChild;h;)N(h,b,c,d,e),h=h.nextSibling;return;case V:return b.push(" ",a.name,'="',a.value.replace(/[&"]/g,p),'"');case W:return b.push(a.data.replace(/[<&]/g,p).replace(/]]>/g,"]]&gt;"));case X:return b.push("<![CDATA[",a.data,"]]>");case _:return b.push("\x3c!--",a.data,"--\x3e");case ba:var o=a.publicId,q=a.systemId;if(b.push("<!DOCTYPE ",a.name),o)b.push(" PUBLIC ",o),q&&"."!=q&&b.push(" ",q),b.push(">");else if(q&&"."!=q)b.push(" SYSTEM ",q,">");else{var r=a.internalSubset;r&&b.push(" [",r,"]"),b.push(">")}return;case $:return b.push("<?",a.target," ",a.data,"?>");case Y:return b.push("&",a.nodeName,";");default:b.push("??",a.nodeName)}}function O(a,b,c){var d;switch(b.nodeType){case U:d=b.cloneNode(!1),d.ownerDocument=a;case ca:break;case V:c=!0}if(d||(d=b.cloneNode(!1)),d.ownerDocument=a,d.parentNode=null,c)for(var e=b.firstChild;e;)d.appendChild(O(a,e,c)),e=e.nextSibling;return d}function P(a,b,c){var d=new b.constructor;for(var e in b){var f=b[e];"object"!=typeof f&&f!=d[e]&&(d[e]=f)}switch(b.childNodes&&(d.childNodes=new g),d.ownerDocument=a,d.nodeType){case U:var h=b.attributes,i=d.attributes=new j,k=h.length;i._ownerElement=d;for(var l=0;l<k;l++)d.setAttributeNode(P(a,h.item(l),!0));break;case V:c=!0}if(c)for(var m=b.firstChild;m;)d.appendChild(P(a,m,c)),m=m.nextSibling;return d}function Q(a,b,c){a[b]=c}function R(a){switch(a.nodeType){case U:case ca:var b=[];for(a=a.firstChild;a;)7!==a.nodeType&&8!==a.nodeType&&b.push(R(a)),a=a.nextSibling;return b.join("");default:return a.nodeValue}}var S="http://www.w3.org/1999/xhtml",T={},U=T.ELEMENT_NODE=1,V=T.ATTRIBUTE_NODE=2,W=T.TEXT_NODE=3,X=T.CDATA_SECTION_NODE=4,Y=T.ENTITY_REFERENCE_NODE=5,Z=T.ENTITY_NODE=6,$=T.PROCESSING_INSTRUCTION_NODE=7,_=T.COMMENT_NODE=8,aa=T.DOCUMENT_NODE=9,ba=T.DOCUMENT_TYPE_NODE=10,ca=T.DOCUMENT_FRAGMENT_NODE=11,da=T.NOTATION_NODE=12,ea={},fa={},ga=(ea.INDEX_SIZE_ERR=(fa[1]="Index size error",1),ea.DOMSTRING_SIZE_ERR=(fa[2]="DOMString size error",2),ea.HIERARCHY_REQUEST_ERR=(fa[3]="Hierarchy request error",3)),ha=(ea.WRONG_DOCUMENT_ERR=(fa[4]="Wrong document",4),ea.INVALID_CHARACTER_ERR=(fa[5]="Invalid character",5),ea.NO_DATA_ALLOWED_ERR=(fa[6]="No data allowed",6),ea.NO_MODIFICATION_ALLOWED_ERR=(fa[7]="No modification allowed",7),ea.NOT_FOUND_ERR=(fa[8]="Not found",8)),ia=(ea.NOT_SUPPORTED_ERR=(fa[9]="Not supported",9),ea.INUSE_ATTRIBUTE_ERR=(fa[10]="Attribute in use",10));ea.INVALID_STATE_ERR=(fa[11]="Invalid state",11),ea.SYNTAX_ERR=(fa[12]="Syntax error",12),ea.INVALID_MODIFICATION_ERR=(fa[13]="Invalid modification",13),ea.NAMESPACE_ERR=(fa[14]="Invalid namespace",14),ea.INVALID_ACCESS_ERR=(fa[15]="Invalid access",15);f.prototype=Error.prototype,d(ea,f),g.prototype={length:0,item:function(a){return this[a]||null},toString:function(a,b){for(var c=[],d=0;d<this.length;d++)N(this[d],c,a,b);return c.join("")}},h.prototype.item=function(a){return i(this),this[a]},e(h,g),j.prototype={length:0,item:g.prototype.item,getNamedItem:function(a){for(var b=this.length;b--;){var c=this[b];if(c.nodeName==a)return c}},setNamedItem:function(a){var b=a.ownerElement;if(b&&b!=this._ownerElement)throw new f(ia);var c=this.getNamedItem(a.nodeName);return l(this._ownerElement,this,a,c),c},setNamedItemNS:function(a){var b,c=a.ownerElement;if(c&&c!=this._ownerElement)throw new f(ia);return b=this.getNamedItemNS(a.namespaceURI,a.localName),l(this._ownerElement,this,a,b),b},removeNamedItem:function(a){var b=this.getNamedItem(a);return m(this._ownerElement,this,b),b},removeNamedItemNS:function(a,b){var c=this.getNamedItemNS(a,b);return m(this._ownerElement,this,c),c},getNamedItemNS:function(a,b){for(var c=this.length;c--;){var d=this[c];if(d.localName==b&&d.namespaceURI==a)return d}return null}},n.prototype={hasFeature:function(a,b){var c=this._features[a.toLowerCase()];return!(!c||b&&!(b in c))},createDocument:function(a,b,c){var d=new r;if(d.implementation=this,d.childNodes=new g,d.doctype=c,c&&d.appendChild(c),b){var e=d.createElementNS(a,b);d.appendChild(e)}return d},createDocumentType:function(a,b,c){var d=new E;return d.name=a,d.nodeName=a,d.publicId=b,d.systemId=c,d}},o.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(a,b){return w(this,a,b)},replaceChild:function(a,b){this.insertBefore(a,b),b&&this.removeChild(b)},removeChild:function(a){return v(this,a)},appendChild:function(a){return this.insertBefore(a,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(a){return P(this.ownerDocument||this,this,a)},normalize:function(){for(var a=this.firstChild;a;){var b=a.nextSibling;b&&b.nodeType==W&&a.nodeType==W?(this.removeChild(b),a.appendData(b.data)):(a.normalize(),a=b)}},isSupported:function(a,b){return this.ownerDocument.implementation.hasFeature(a,b)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(a){for(var b=this;b;){var c=b._nsMap;if(c)for(var d in c)if(c[d]==a)return d;b=b.nodeType==V?b.ownerDocument:b.parentNode}return null},lookupNamespaceURI:function(a){for(var b=this;b;){var c=b._nsMap;if(c&&a in c)return c[a];b=b.nodeType==V?b.ownerDocument:b.parentNode}return null},isDefaultNamespace:function(a){return null==this.lookupPrefix(a)}},d(T,o),d(T,o.prototype),r.prototype={nodeName:"#document",nodeType:aa,doctype:null,documentElement:null,_inc:1,insertBefore:function(a,b){if(a.nodeType==ca){for(var c=a.firstChild;c;){var d=c.nextSibling;this.insertBefore(c,b),c=d}return a}return null==this.documentElement&&a.nodeType==U&&(this.documentElement=a),w(this,a,b),a.ownerDocument=this,a},removeChild:function(a){return this.documentElement==a&&(this.documentElement=null),v(this,a)},importNode:function(a,b){return O(this,a,b)},getElementById:function(a){var b=null;return q(this.documentElement,function(c){if(c.nodeType==U&&c.getAttribute("id")==a)return b=c,!0}),b},getElementsByClassName:function(a){var b=new RegExp("(^|\\s)"+a+"(\\s|$)");return new h(this,function(a){var c=[];return q(a.documentElement,function(d){d!==a&&d.nodeType==U&&b.test(d.getAttribute("class"))&&c.push(d)}),c})},createElement:function(a){var b=new y;return b.ownerDocument=this,b.nodeName=a,b.tagName=a,b.childNodes=new g,(b.attributes=new j)._ownerElement=b,b},createDocumentFragment:function(){var a=new I;return a.ownerDocument=this,a.childNodes=new g,a},createTextNode:function(a){var b=new B;return b.ownerDocument=this,b.appendData(a),b},createComment:function(a){var b=new C;return b.ownerDocument=this,b.appendData(a),b},createCDATASection:function(a){var b=new D;return b.ownerDocument=this,b.appendData(a),b},createProcessingInstruction:function(a,b){var c=new J;return c.ownerDocument=this,c.tagName=c.target=a,c.nodeValue=c.data=b,c},createAttribute:function(a){var b=new z;return b.ownerDocument=this,b.name=a,b.nodeName=a,b.localName=a,b.specified=!0,b},createEntityReference:function(a){var b=new H;return b.ownerDocument=this,b.nodeName=a,b},createElementNS:function(a,b){var c=new y,d=b.split(":"),e=c.attributes=new j;return c.childNodes=new g,c.ownerDocument=this,c.nodeName=b,c.tagName=b,c.namespaceURI=a,2==d.length?(c.prefix=d[0],c.localName=d[1]):c.localName=b,e._ownerElement=c,c},createAttributeNS:function(a,b){var c=new z,d=b.split(":");return c.ownerDocument=this,c.nodeName=b,c.name=b,c.namespaceURI=a,c.specified=!0,2==d.length?(c.prefix=d[0],c.localName=d[1]):c.localName=b,c}},e(r,o),y.prototype={nodeType:U,hasAttribute:function(a){return null!=this.getAttributeNode(a)},getAttribute:function(a){var b=this.getAttributeNode(a);return b&&b.value||""},getAttributeNode:function(a){return this.attributes.getNamedItem(a)},setAttribute:function(a,b){var c=this.ownerDocument.createAttribute(a);c.value=c.nodeValue=""+b,this.setAttributeNode(c)},removeAttribute:function(a){var b=this.getAttributeNode(a);b&&this.removeAttributeNode(b)},appendChild:function(a){return a.nodeType===ca?this.insertBefore(a,null):x(this,a)},setAttributeNode:function(a){return this.attributes.setNamedItem(a)},setAttributeNodeNS:function(a){return this.attributes.setNamedItemNS(a)},removeAttributeNode:function(a){return this.attributes.removeNamedItem(a.nodeName)},removeAttributeNS:function(a,b){var c=this.getAttributeNodeNS(a,b);c&&this.removeAttributeNode(c)},hasAttributeNS:function(a,b){return null!=this.getAttributeNodeNS(a,b)},getAttributeNS:function(a,b){var c=this.getAttributeNodeNS(a,b);return c&&c.value||""},setAttributeNS:function(a,b,c){var d=this.ownerDocument.createAttributeNS(a,b);d.value=d.nodeValue=""+c,this.setAttributeNode(d)},getAttributeNodeNS:function(a,b){return this.attributes.getNamedItemNS(a,b)},getElementsByTagName:function(a){return new h(this,function(b){var c=[];return q(b,function(d){d===b||d.nodeType!=U||"*"!==a&&d.tagName!=a||c.push(d)}),c})},getElementsByTagNameNS:function(a,b){return new h(this,function(c){var d=[];return q(c,function(e){e===c||e.nodeType!==U||"*"!==a&&e.namespaceURI!==a||"*"!==b&&e.localName!=b||d.push(e)}),d})}},r.prototype.getElementsByTagName=y.prototype.getElementsByTagName,r.prototype.getElementsByTagNameNS=y.prototype.getElementsByTagNameNS,e(y,o),z.prototype.nodeType=V,e(z,o),A.prototype={data:"",substringData:function(a,b){return this.data.substring(a,a+b)},appendData:function(a){a=this.data+a,this.nodeValue=this.data=a,this.length=a.length},insertData:function(a,b){this.replaceData(a,0,b)},appendChild:function(a){throw new Error(fa[ga])},deleteData:function(a,b){this.replaceData(a,b,"")},replaceData:function(a,b,c){c=this.data.substring(0,a)+c+this.data.substring(a+b),this.nodeValue=this.data=c,this.length=c.length}},e(A,o),B.prototype={nodeName:"#text",nodeType:W,splitText:function(a){var b=this.data,c=b.substring(a);b=b.substring(0,a),this.data=this.nodeValue=b,this.length=b.length;var d=this.ownerDocument.createTextNode(c);return this.parentNode&&this.parentNode.insertBefore(d,this.nextSibling),d}},e(B,A),C.prototype={nodeName:"#comment",nodeType:_},e(C,A),D.prototype={nodeName:"#cdata-section",nodeType:X},e(D,A),E.prototype.nodeType=ba,e(E,o),F.prototype.nodeType=da,e(F,o),G.prototype.nodeType=Z,e(G,o),H.prototype.nodeType=Y,e(H,o),I.prototype.nodeName="#document-fragment",I.prototype.nodeType=ca,e(I,o),J.prototype.nodeType=$,e(J,o),K.prototype.serializeToString=function(a,b,c){return L.call(a,b,c)},o.prototype.toString=L;try{Object.defineProperty&&(Object.defineProperty(h.prototype,"length",{get:function(){return i(this),this.$$length}}),Object.defineProperty(o.prototype,"textContent",{get:function(){return R(this)},set:function(a){switch(this.nodeType){case U:case ca:for(;this.firstChild;)this.removeChild(this.firstChild);(a||String(a))&&this.appendChild(this.ownerDocument.createTextNode(a));break;default:this.data=a,this.value=a,this.nodeValue=a}}}),Q=function(a,b,c){a["$$"+b]=c})}catch(a){}c.Node=o,c.DOMException=f,c.DOMImplementation=n,c.XMLSerializer=K},{}],99:[function(a,b,c){c.entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}},{}],100:[function(a,b,c){function d(a,b){this.message=a,this.locator=b,Error.captureStackTrace&&Error.captureStackTrace(this,d)}function e(){}function f(a,b,c,e,f){function l(a){if(a>65535){a-=65536;var b=55296+(a>>10),c=56320+(1023&a);return String.fromCharCode(b,c)}return String.fromCharCode(a)}function p(a){var b=a.slice(1,-1);return b in c?c[b]:"#"===b.charAt(0)?l(parseInt(b.substr(1).replace("x","0x"))):(f.error("entity not found:"+a),a)}function q(b){if(b>y){var c=a.substring(y,b).replace(/&#?\w+;/g,p);v&&r(y),e.characters(c,0,b-y),y=b}}function r(b,c){for(;b>=t&&(c=u.exec(a));)s=c.index,t=s+c[0].length,v.lineNumber++;v.columnNumber=b-s+1}for(var s=0,t=0,u=/.*(?:\r\n?|\n)|.*$/g,v=e.locator,w=[{currentNSMap:b}],x={},y=0;;){try{var z=a.indexOf("<",y);if(z<0){if(!a.substr(y).match(/^\s*$/)){var A=e.doc,B=A.createTextNode(a.substr(y));A.appendChild(B),e.currentElement=B}return}switch(z>y&&q(z),a.charAt(z+1)){case"/":var C=a.indexOf(">",z+3),D=a.substring(z+2,C),E=w.pop();C<0?(D=a.substring(z+2).replace(/[\s<].*/,""),f.error("end tag name: "+D+" is not complete:"+E.tagName),C=z+1+D.length):D.match(/\s</)&&(D=D.replace(/[\s<].*/,""),f.error("end tag name: "+D+" maybe not complete"),C=z+1+D.length);var F=E.localNSMap,G=E.tagName==D;if(G||E.tagName&&E.tagName.toLowerCase()==D.toLowerCase()){if(e.endElement(E.uri,E.localName,D),F)for(var H in F)e.endPrefixMapping(H);G||f.fatalError("end tag name: "+D+" is not match the current start tagName:"+E.tagName)}else w.push(E);C++;break;case"?":v&&r(z),C=n(a,z,e);break;case"!":v&&r(z),C=m(a,z,e,f);break;default:v&&r(z);var I=new o,J=w[w.length-1].currentNSMap,C=h(a,z,I,J,p,f),K=I.length;if(!I.closed&&k(a,C,I.tagName,x)&&(I.closed=!0,c.nbsp||f.warning("unclosed xml attribute")),v&&K){for(var L=g(v,{}),M=0;M<K;M++){var N=I[M];r(N.offset),N.locator=g(v,{})}e.locator=L,i(I,e,J)&&w.push(I),e.locator=v}else i(I,e,J)&&w.push(I);"http://www.w3.org/1999/xhtml"!==I.uri||I.closed?C++:C=j(a,C,I.tagName,p,e)}}catch(a){if(a instanceof d)throw a;f.error("element parse error: "+a),C=-1}C>y?y=C:q(Math.max(z,y)+1)}}function g(a,b){return b.lineNumber=a.lineNumber,b.columnNumber=a.columnNumber,b}function h(a,b,c,d,e,f){function g(a,b,d){a in c.attributeNames&&f.fatalError("Attribute "+a+" redefined"),c.addValue(a,b,d)}for(var h,i,j=++b,k=t;;){var l=a.charAt(j);switch(l){case"=":if(k===u)h=a.slice(b,j),k=w;else{if(k!==v)throw new Error("attribute equal must after attrName");k=w}break;case"'":case'"':if(k===w||k===u){if(k===u&&(f.warning('attribute value must after "="'),h=a.slice(b,j)),b=j+1,!((j=a.indexOf(l,b))>0))throw new Error("attribute value no end '"+l+"' match");i=a.slice(b,j).replace(/&#?\w+;/g,e),g(h,i,b-1),k=y}else{if(k!=x)throw new Error('attribute value must after "="');i=a.slice(b,j).replace(/&#?\w+;/g,e),g(h,i,b),f.warning('attribute "'+h+'" missed start quot('+l+")!!"),b=j+1,k=y}break;case"/":switch(k){case t:c.setTagName(a.slice(b,j));case y:case z:case A:k=A,c.closed=!0;case x:case u:case v:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return f.error("unexpected end of input"),k==t&&c.setTagName(a.slice(b,j)),j;case">":switch(k){case t:c.setTagName(a.slice(b,j));case y:case z:case A:break;case x:case u:i=a.slice(b,j),"/"===i.slice(-1)&&(c.closed=!0,i=i.slice(0,-1));case v:k===v&&(i=h),k==x?(f.warning('attribute "'+i+'" missed quot(")!'),g(h,i.replace(/&#?\w+;/g,e),b)):("http://www.w3.org/1999/xhtml"===d[""]&&i.match(/^(?:disabled|checked|selected)$/i)||f.warning('attribute "'+i+'" missed value!! "'+i+'" instead!!'),g(i,i,b));break;case w:throw new Error("attribute value missed!!")}return j;case"":l=" ";default:if(l<=" ")switch(k){case t:c.setTagName(a.slice(b,j)),k=z;break;case u:h=a.slice(b,j),k=v;break;case x:var i=a.slice(b,j).replace(/&#?\w+;/g,e);f.warning('attribute "'+i+'" missed quot(")!!'),g(h,i,b);case y:k=z}else switch(k){case v:c.tagName;"http://www.w3.org/1999/xhtml"===d[""]&&h.match(/^(?:disabled|checked|selected)$/i)||f.warning('attribute "'+h+'" missed value!! "'+h+'" instead2!!'),g(h,h,b),b=j,k=u;break;case y:f.warning('attribute space is required"'+h+'"!!');case z:k=u,b=j;break;case w:k=x,b=j;break;case A:throw new Error("elements closed character '/' and '>' must be connected to")}}j++}}function i(a,b,c){for(var d=a.tagName,e=null,f=a.length;f--;){var g=a[f],h=g.qName,i=g.value,j=h.indexOf(":");if(j>0)var k=g.prefix=h.slice(0,j),m=h.slice(j+1),n="xmlns"===k&&m;else m=h,k=null,n="xmlns"===h&&"";g.localName=m,!1!==n&&(null==e&&(e={},l(c,c={})),c[n]=e[n]=i,g.uri="http://www.w3.org/2000/xmlns/",b.startPrefixMapping(n,i))}for(var f=a.length;f--;){g=a[f];var k=g.prefix;k&&("xml"===k&&(g.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==k&&(g.uri=c[k||""]))}var j=d.indexOf(":");j>0?(k=a.prefix=d.slice(0,j),m=a.localName=d.slice(j+1)):(k=null,m=a.localName=d);var o=a.uri=c[k||""];if(b.startElement(o,m,d,a),!a.closed)return a.currentNSMap=c,a.localNSMap=e,!0;if(b.endElement(o,m,d),e)for(k in e)b.endPrefixMapping(k)}function j(a,b,c,d,e){if(/^(?:script|textarea)$/i.test(c)){var f=a.indexOf("</"+c+">",b),g=a.substring(b+1,f);if(/[&<]/.test(g))return/^script$/i.test(c)?(e.characters(g,0,g.length),f):(g=g.replace(/&#?\w+;/g,d),e.characters(g,0,g.length),f)}return b+1}function k(a,b,c,d){var e=d[c];return null==e&&(e=a.lastIndexOf("</"+c+">"),e<b&&(e=a.lastIndexOf("</"+c)),d[c]=e),e<b}function l(a,b){for(var c in a)b[c]=a[c]}function m(a,b,c,d){switch(a.charAt(b+2)){case"-":if("-"===a.charAt(b+3)){var e=a.indexOf("--\x3e",b+4);return e>b?(c.comment(a,b+4,e-b-4),e+3):(d.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==a.substr(b+3,6)){var e=a.indexOf("]]>",b+9);return c.startCDATA(),c.characters(a,b+9,e-b-9),c.endCDATA(),e+3}var f=p(a,b),g=f.length;if(g>1&&/!doctype/i.test(f[0][0])){var h=f[1][0],i=!1,j=!1;g>3&&(/^public$/i.test(f[2][0])?(i=f[3][0],j=g>4&&f[4][0]):/^system$/i.test(f[2][0])&&(j=f[3][0]));var k=f[g-1];return c.startDTD(h,i,j),c.endDTD(),k.index+k[0].length}}return-1}function n(a,b,c){var d=a.indexOf("?>",b);if(d){var e=a.substring(b,d).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(e){e[0].length;return c.processingInstruction(e[1],e[2]),d+2}return-1}return-1}function o(){this.attributeNames={}}function p(a,b){var c,d=[],e=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(e.lastIndex=b,e.exec(a);c=e.exec(a);)if(d.push(c),c[1])return d}var q=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+q.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),s=new RegExp("^"+q.source+r.source+"*(?::"+q.source+r.source+"*)?$"),t=0,u=1,v=2,w=3,x=4,y=5,z=6,A=7;d.prototype=new Error,d.prototype.name=d.name,e.prototype={parse:function(a,b,c){var d=this.domBuilder;d.startDocument(),l(b,b={}),f(a,b,c,d,this.errorHandler),d.endDocument()}},o.prototype={setTagName:function(a){if(!s.test(a))throw new Error("invalid tagName:"+a);this.tagName=a},addValue:function(a,b,c){if(!s.test(a))throw new Error("invalid attribute:"+a);this.attributeNames[a]=this.length,this[this.length++]={qName:a,value:b,offset:c}},length:0,getLocalName:function(a){return this[a].localName},getLocator:function(a){return this[a].locator},getQName:function(a){return this[a].qName},getURI:function(a){return this[a].uri},getValue:function(a){return this[a].value}},c.XMLReader=e,c.ParseError=d},{}],101:[function(a,b,c){"use strict";function d(a,b,c){const d=b.seekStep||10;var e={controlBar:{volumePanel:{inline:!0},pictureInPictureToggle:!1,playbackRateMenuButton:!1,subtitlesButton:!1,subsCapsButton:!1,captionsButton:!1,audioTrackButton:!1},textTrackSettings:!1};g.api.base=b.apiBase||"";var i=f.mergeOptions(e,b.core||{});return h(b.analytics)||(i=f.mergeOptions(i,{plugins:{analytics:b.analytics}})),h(b.ads)||(i=f.mergeOptions(i,{plugins:{BeeeXAds:b}})),f(a,i,function(){if(this.beeex&&this.beeex(),void 0!==this.hotkeys&&this.hotkeys(f.mergeOptions({seekStep:d,enableVolumeScroll:!1},b.hotkeys||{})),void 0!==this.thumbnailSprite&&void 0!==b.sprites&&!h(b.sprites)){const a=b.sprites;console.log("spriteOptions",a),this.thumbnailSprite({sprites:a})}if(void 0!==this.logo&&void 0!==b.logo&&!h(b.logo)){const e=b.logo;console.log("logoOptions",e),this.logo(e)}if(void 0!==this.upnext&&void 0!==b.upnext&&!h(b.upnext)){const g=b.upnext;console.log("upnextOptions",g),this.upnext(g)}if(void 0!==b.is_360&&0!==b.is_360&&1==b.is_360&&this.vr({projection:b.projection_type}),void 0!==c&&"function"==typeof c)try{c(this)}catch(a){window.console.error(a)}})}function e(a,b,c){return new d(a,b,c)}a("./styles/beeex.css");const f=a("video.js"),g=a("./utils"),h=a("lodash/isEmpty");window.videojs=f,a("./plugins/agent.js"),a("./plugins/analytics.js"),a("./plugins/beeex.js"),a("./plugins/videojs-cuepoints.js"),a("videojs-contrib-ads"),a("videojs-ima"),a("videojs-thumbnail-sprite"),a("videojs-logo"),a("videojs-upnext-card"),a("videojs-suggestedvideoendcap"),a("./plugins/beeexads"),e.version="2.3.3",e.mergeOptions=f.mergeOptions,window.BeeExPlayer=b.exports=e},{"./plugins/agent.js":102,"./plugins/analytics.js":103,"./plugins/beeex.js":104,"./plugins/beeexads":105,"./plugins/videojs-cuepoints.js":106,"./styles/beeex.css":107,"./utils":108,"lodash/isEmpty":72,"video.js":86,"videojs-contrib-ads":87,"videojs-ima":88,"videojs-logo":89,"videojs-suggestedvideoendcap":90,"videojs-thumbnail-sprite":91,"videojs-upnext-card":92}],102:[function(a,b,c){"use strict";const d=a("video.js"),e=a("ua-parser-js"),f={device:[[/(roku)/i],[e.DEVICE.VENDOR,[e.DEVICE.MODEL,"Roku"],[e.DEVICE.TYPE,e.DEVICE.SMARTTV]]]},g=new e(f);(d.registerPlugin||d.plugin)("agent",function(){const a=g.getResult(),b=(a.browser.name||"unknown").toLowerCase(),c=parseInt(a.browser.version||0),d=(a.os.name||"unknown").toLowerCase(),e=a.os.version||0,f=(a.device.type||"desktop").toLowerCase(),h=(a.device.vendor||"desktop").toLowerCase(),i=(a.device.model||"desktop").toLowerCase(),j=["desktop","smarttv","mobile","tablet","wearable"];return{ua:a.ua,browser:{name:b,version:c},os:{name:d,version:e},device:{type:f,vendor:h,model:i},isDesktop:"desktop"===f,isSmarttv:"smarttv"===f,isMobile:"mobile"===f,isTablet:"tablet"===f,isWearable:"wearable"===f,isDevice:function(a){return void 0!==a&&"string"==typeof a&&-1!==j.indexOf(a)&&(this["is"+a.toLowerCase().charAt(0).toUpperCase()]||!1)}}})},{"ua-parser-js":84,"video.js":86}],103:[function(a,b,c){"use strict";const d=a("video.js"),e=a("lodash/isEmpty"),f=d.registerPlugin||d.plugin,g=a("analytics"),h=a("@analytics/google-analytics"),i=function(a,b){this._event=b.indexevent||"mode",this._finish=b.indexfinish||"complete",this._start=b.indexstart||"start",this._adImpression=b.indexad||"adview",this._impression=b.indeximpression||"page_view",this._browser=b.indexbrowser||"br",this._device=b.indexdevice||"dv",this._seconds=b.indexseconds||"vdp",this.player=a,this.playerId=this.player.id(),this.agent=this.player.agent(),this.bound=!1,this.supportedBrowsers=["chrome","firefox","opera","safari","edge"],this.supportedOS=["windows","mac_os","linux","centos","unbuntu"],this.supportDevices=["desktop","mobile"],this._configs=b,this._data=this._configs.data,this._options=this._configs.options,this._tempData={},this._additionalData=e(this._options.additionalData)?{}:this._options.additionalData,this._fragmentsList=[],this.analyticsAPI=this._options.analyticsEndPoint||"http://dev.clipbucket.vod:4000/api/analytics",void 0!==this._options.GAENABLED&&!0===this._options.GAENABLED&&(this.analytics=g.init({app:this._configs.options.appName||"my-app-name",version:this._configs.options.appVersion||100,plugins:[h.init({trackingId:this._configs.options.GAID||"UA-121991291"})]}));const c=this._options.finishPercentage||90,d=this._options.maximumPlayback||10,f=this._options.maxWaitForBandwidthMS||1e3,i=this._options.duration*(c/100),j=this._options.viewTime||this._options.duration*(this.calculateViewPercentage()/100),k=this._data.object_id+".watch.time",l=this._options.cookieExpiryInDays||3,m=this._data.object_id+".viewed",n=this._data.object_id+".finished";var o=0,p={},q=0,r=null,s=isNaN(parseInt(this.getCookie(k)))?0:parseInt(this.getCookie(k)),t=0;this.impressionHandler=function(){this.addTemporaryData(this._event,this._impression).track()}.bind(this),this.startHandler=function(){this.addTemporaryData(this._event,this._start).track()}.bind(this),this.fragBuffered=function(a,b){var c={length:b.analytics.length,start:b.frag.startPTS||b.frag.start,duration:b.frag.duration,end:b.frag.endPTS||(b.frag.startPTS||b.frag.start)+b.frag.duration,level:b.frag.level},d=this.activeLevel(b.frag.level),e=""+parseInt(d.label);r&&window.clearTimeout(r),void 0===p[e]&&(p[e]=0),p[e]+=c.length,q+=c.length,r=window.setTimeout(this.updateBandwidth,f)}.bind(this),this.playbackHandler=function(){var a=Math.floor(this.player.currentTime(),0);a>t&&(t=a,o+=1,s+=1,this.setCookie(k,s,l),s>=i&&void 0===this.finished&&isNaN(parseInt(this.getCookie(n)))&&(this.addTemporaryData(this._event,this._finish).track(),this.finished=!0,this.setCookie(n,1,l)),s>=j&&void 0===this.viewed&&isNaN(parseInt(this.getCookie(m)))&&(this.addTemporaryData(this._event,"play").addTemporaryData(this._event,"view").track(),this.viewed=!0,this.setCookie(k,0,0),this.setCookie(m,1,l)),o>=d&&this.updatePlayback())}.bind(this),this.updatePlayback=function(){o>5&&(this.addTemporaryData(this._event,"playback").addTemporaryData(this._seconds,o).addTemporaryData("bitrate","-9").track(),o=0)}.bind(this),this.updateBandwidth=function(){e(p)||(r&&window.clearTimeout(r),this.addTemporaryData(this._event,"bandwidth").addTemporaryData("used",p).addTemporaryData("total_used",q).track(),p={},q=0)}.bind(this),this.adsImpressionHandler=function(){var a=this.option("ads");this.addTemporaryData(this._event,this._adImpression),this.addTemporaryData("ad_id",""+(void 0===a.ad_id?"-9":adsOptions.ad_id)),this.track()}.bind(this),this.showLogs=function(a,b){var c=this._configs.logevents||{};void 0!==c.enabled&&!0===c.enabled&&(void 0!==c.id?(document.getElementById(c.id).innerHTML+="<br/>",document.getElementById(c.id).innerHTML+="<b>"+b+"</b>",document.getElementById(c.id).innerHTML+="<br/>",document.getElementById(c.id).innerHTML+=a):b?(console.group(b),console.log(a),console.groupEnd()):console.log(a))}.bind(this),this.adsRequestHandler=function(){var a=this.option("ads");this.addTemporaryData(this._event,"ad_request"),this.addTemporaryData("ad_id",""+(void 0===a.ad_id?"-9":adsOptions.ad_id)),this.track()}.bind(this)};i.prototype.calculateViewPercentage=function(){return 60},i.prototype.getTech=function(){return this.player.tech_},i.prototype.getHlsInstance=function(){return{}},i.prototype.activeLevel=function(a){var b=this.getTech().quality_data.quality;return b.list.filter(function(c){return c.id===(void 0!==a?parseInt(a):b.current)})[0]},i.prototype.addBrowser=function(){return this.addData(this._browser,this.normalizeName(this.agent.browser.name))},i.prototype.addOS=function(){return this.addData("os",this.normalizeName(this.agent.os.name))},i.prototype.addCategories=function(){return this.addData("categories",this.option("categories"))},i.prototype.addDevice=function(){return this.addData(this._device,this.normalizeDevice())},i.prototype.addData=function(a,b){return this._data[a]=b,this},i.prototype.addTemporaryData=function(a,b){return this._tempData[a]=b,this},i.prototype.normalizeName=function(a){return"string"!=typeof a?"":a.toLowerCase().replace(/\ /g,"_").replace(/_{2,}/g,"_")},i.prototype.normalizeDevice=function(){var a;return"tizen"===this.agent.os.name?a="samsung tv":this.agent.isSmarttv?"lg"===this.agent.device.vendor?a="lg tv":"philips"===this.agent.device.vendor?a="philips tv":"apple"===this.agent.device.vendor?a=this.agent.device.model:"google"===this.agent.device.vendor?a=this.agent.device.model:"amazon"===this.agent.device.vendor?a="amazon tv":"roku"===this.agent.device.vendor?a=this.agent.device.model:"desktop"===this.agent.device.vendor&&(a="smart tv"):a=this.agent.device.type,this.normalizeName(a)},i.prototype.track=function(a){if(void 0!==this._options.CustomENABLED&&!0===this._options.CustomENABLED){const b=function(b,c){if(e(this._tempData))c({status:"Insufficient data. Do not proceed with request",statusCode:400});else{const d=new XMLHttpRequest,f=this.option("apiBase")+"/"+(void 0===a?this.option("analyticsEndPoint"):a);var g=this.getData();e(this._tempData)||(g=Object.assign({},g,this._tempData)),this._tempData={},g=Object.assign({},g,this._additionalData);var h=JSON.stringify(g);d.open("POST",f,!0),d.setRequestHeader("Content-Type","application/json;charset=UTF-8");var i=this.getCookie("auth._token.local");void 0!==i&&""!==i&&d.setRequestHeader("Authorization",window.decodeURIComponent(i)),d.onreadystatechange=function(){4===d.readyState&&(d.status>=200&&d.status<300?(this.player.trigger({type:"video-"+g.event,data:g}),b(JSON.parse(d.responseText))):c({status:d.status,statusCode:d.statusText}))}.bind(this);const j=void 0!==g.event?"track["+g.event+"] Request":"track Request";this.showLogs(f,j),this.showLogs(h,j),d.send(h),void 0!==this.analytics&&this.analytics.track(g.event,g)}}.bind(this);return new Promise(b)}},i.prototype.registerEvents=function(){!1===this.bound&&(console.log("Registering statistics events for [%s]",this.player.id()),this.player.one("play",this.impressionHandler),this.player.one("play",this.startHandler),this.player.on("timeupdate",this.playbackHandler),this.player.on("pause",this.updatePlayback),void 0!==this.player.ima&&(console.log("Registering ad events for [%s]",this.player.id()),this.player.on("ads-ad-started",this.adsImpressionHandler),this.player.on("ads-request",this.adsRequestHandler)),this.player.one("dispose",this.unregisterEvents.bind(this)),this.bound=!0)},i.prototype.unregisterEvents=function(){console.log("Unregistering statistics events for [%s]",this.player.id()),this.player.off("timeupdate",this.playbackHandler),this.player.off("pause",this.updatePlayback),this.player.off("dispose",this.unregisterEvents),void 0!==this.player.ima&&(console.log("Unregistering ad events for [%s]",this.player.id()),this.player.off("ads-ad-started",this.adsImpressionHandler),this.player.off("ads-request",this.adsRequestHandler)),this.bound=!1},i.prototype.getConfigs=function(){return this._configs},i.prototype.getOptions=function(){return this._options},i.prototype.option=function(a){return this.getOptions()[a]||null},i.prototype.getData=function(){return this._data},i.prototype.data=function(a){return this.getData()[a]||null},i.prototype.getCookie=function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1);if(-1!=e.indexOf(b))return e.substring(b.length,e.length)}return""},i.prototype.setCookie=function(a,b,c,d){var e=new Date;e.setTime(e.getTime()+24*c*60*60*1e3);var f="expires="+e.toUTCString(),g="path=";void 0==d&&(d="/"),g+=d,document.cookie=a+"="+b+"; "+f+"; "+g},f("analytics",function(a){this.ready(function(){new i(this,a).addCategories().addBrowser().addDevice().addOS().registerEvents()}.bind(this))})},{"@analytics/google-analytics":4,analytics:31,"lodash/isEmpty":72,"video.js":86}],104:[function(a,b,c){(function(c){(function(){"use strict";function d(a){return a&&"object"==typeof a&&"default"in a?a.default:a}function e(){return e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},e.apply(this,arguments)}function f(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}function g(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function h(a,b,c){var d=[];if(a&&a.childIndex_&&Object.keys(a.childIndex_).length)for(var e in a.childIndex_){var f=a.childIndex_[e];if(f&&f.name_==b){var g;c.push((g={parent:a,component:f,index:a.children_.indexOf(f)},g[b]=f,g))}d.push(h(f,b,c))}return{name:b,parent:a,children:d}}function i(a,b){return a=a.map(function(a,c){null!==a&&"object"!=typeof a&&(a={value:a,label:a});var d=!1;return void 0===b&&!0===a.default&&(d=!0,b=c),e({},a,{index:c,default:d})}),{entries:a,selected:a[b||0]}}function j(a,b){return b={exports:{}},a(b,b.exports),b.exports}var k=d(a("video.js")),l=d(a("global/document")),m="2.1";k.getComponent("Component").prototype.findChild=function(a){var b=[];return h(this,a,b),b},window.mobileCheck=function(){var a=!1;return function(b){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4)))&&(a=!0)}(navigator.userAgent||navigator.vendor||window.opera),a};var n=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.title_=c.playerOptions.title||"",d.update(d.title_),d}f(b,a);var c=b.prototype;return c.createEl=function(){var b=a.prototype.createEl.call(this,"div",{className:"vjs-title"});return this.contentEl_=k.dom.createEl("div",{className:"vjs-title-field"}),b.appendChild(this.contentEl_),b},c.update=function(a){a?this.show():this.hide(),this.player_.cache_.title=this.title_,this.title_=a,this.contentEl_.innerHTML=a},b}(k.getComponent("Component")),o=function(a){var b=this.player_.getChild("VideoTitle");if(void 0===a)return b.title_;b.update(a)};k.registerPlugin("title",o),k.registerComponent("VideoTitle",n),k.getComponent("Player").prototype.options_.children.splice(2,0,"VideoTitle");var p=k.getComponent("MenuItem"),q=function(a){function b(b,c){var d;return d=a.call(this,b,e({},c,{selectable:!0}))||this,d.addClass("vjs-context-menu-item"),d.controlText(c.label),d}f(b,a);var c=b.prototype;return c.createEl=function(){for(var b,c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=(b=a.prototype.createEl).call.apply(b,[this].concat(d));return f.insertAdjacentHTML("afterbegin",'<span aria-hidden="true" class="vjs-icon-placeholder '+(this.options_.icon||"")+'"></span>'),f},c.handleClick=function(){this.player_.findChild("ContextMenu")[0].component.hide()},b}(p);k.registerComponent("ContextMenuItem",q);var r=function(a){function b(b){var c;return c=a.call(this,b,{name:"ContextMenuToggleLoop",label:"Loop",icon:"vjs-icon-loop"})||this,c.addClass("vjs-checkbox"),b.on("loadstart",c.update.bind(g(c))),c}f(b,a);var c=b.prototype;return c.update=function(){this.selected(this.player_.loop())},c.handleClick=function(){a.prototype.handleClick.call(this),this.player_.loop(!this.player_.loop()),this.update()},b}(q);k.registerComponent("ContextMenuToggleLoop",r);var s=function(a){function b(b){return a.call(this,b,{name:"AboutThisPlayer",label:"BeeEx Player "+m,icon:"vjs-icon-about"})||this}return f(b,a),b.prototype.handleClick=function(){a.prototype.handleClick.call(this),window.open("https://beeex.ee","_blank")},b}(q);k.registerComponent("AboutThisPlayer",s);var t=k.getComponent("ClickableComponent"),u=function(a){function b(){return a.apply(this,arguments)||this}f(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-close-menu-layer vjs-close-context-menu"},c.handleClick=function(){this.options_.menu.hide()},b}(t);k.registerComponent("CloseContextMenu",u);var v=k.getComponent("Menu"),w=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.addClass("vjs-context-menu"),d.hide(),d.player_.on("contextmenu",d.onContextmenu.bind(g(d))),d}f(b,a);var c=b.prototype;return c.createEl=function(){for(var b,c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=(b=a.prototype.createEl).call.apply(b,[this].concat(d)),g=new u(this.player_,{menu:this});return f.insertBefore(g.el_,f.firstElementChild),f},c.show=function(b,c){a.prototype.show.call(this),this.el_.style.top=c+"px",this.el_.style.left=b+"px"},c.onContextmenu=function(a){a.preventDefault();var b=this.player_.el().getBoundingClientRect(),c=a.pageX,d=a.pageY;if(d>b.y&&d-b.height<b.y&&c>b.x&&c-b.width<b.x){var e=c-b.x,f=d-b.y;this.show(e,f)}else this.hide()},c.handleClick=function(a){(a.button||0===a.button)&&2!==a.button&&this.hide()},b}(v);w.prototype.options_={children:["ContextMenuToggleLoop","AboutThisPlayer"]},k.registerComponent("ContextMenu",w),k.getComponent("Player").prototype.options_.children.push("ContextMenu");var x=k.getComponent("ClickableComponent"),y=function(a){function b(){return a.apply(this,arguments)||this}f(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-close-menu-layer vjs-close-setting-menu"},c.handleClick=function(){this.options_.menu.menuButton_.hideMenu()},b}(x);k.registerComponent("CloseSettingMenu",y);var z=k.getComponent("Menu"),A=function(a){function b(b,c){var d;return d=a.call(this,b,e({},c,{name:"SettingMenu"}))||this,d.addClass("vjs-setting-menu"),setTimeout(d.reset.bind(g(d)),0),d}f(b,a);var c=b.prototype;return c.reset=function(){if(this.contentEl_){this.removeStyle();var a=this.contentEl_,b=a.offsetWidth,c=a.offsetHeight;this.origin={children:this.children().slice(0),width:b,height:c},this.resize({width:b,height:c}),this.addClass("vjs-setting-menu-ready")}},c.createEl=function(){var b=a.prototype.createEl.call(this),c=new y(this.player_,{menu:this});return b.insertBefore(c.el_,b.firstElementChild),b},c.update=function(a){var b=this;void 0===a&&(a=[]),this.children().slice(0).forEach(function(a){b.removeChild(a)}),a.forEach(function(a){b.addChild(a)})},c.resize=function(a){var b=a.width,c=a.height;this.contentEl_.style.width=b+"px",this.contentEl_.style.height=c+"px"},c.restore=function(){this.resize(this.origin),this.update(this.origin.children)},c.removeStyle=function(){this.contentEl_.removeAttribute("style")},c.hide=function(){},b}(z);k.registerComponent("SettingMenu",A);var B=k.getComponent("MenuItem"),C=function(a){function b(b,c){var d;return d=a.call(this,b,k.mergeOptions({selectable:!1},c))||this,d.menu=c.menu,d}return f(b,a),b}(B);k.registerComponent("SettingMenuItem",C);var D=function(a){function b(){return a.apply(this,arguments)||this}f(b,a);var c=b.prototype;return c.createEl=function(){var a=this.options_;return k.dom.createEl("li",{className:"vjs-menu-item vjs-setting-onoff-item",innerHTML:'\n        <div class="vjs-icon-placeholder '+(this.options_.icon||"")+'"></div>\n        <div>'+this.localize(a.label)+'</div>\n        <div class="vjs-spacer"></div>\n        <div>\n          <div class="vjs-onoff-button"></div>\n        </div>\n      '})},c.update=function(a){this.active=void 0===a?!this.active:a,this.active?this.addClass("vjs-active"):this.removeClass("vjs-active")},c.handleClick=function(){this.update()},c.selected=function(){},b}(C);k.registerComponent("SettingOnOffItem",D);var E=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.addChild("Component",{},0),d.addClass("vjs-settings-sub-menu-item"),d.addClass("vjs-settings-sub-menu-title"),d}return f(b,a),b.prototype.handleClick=function(){this.options_.menu.restore()},b}(C);k.registerComponent("SettingSubOptionTitle",E);var F=function(a){function b(b,c){var d;if(d=a.call(this,b,c)||this,d.selectable=!0,e(g(d),c),d.addChild("Component",{},0),d.addClass("vjs-settings-sub-menu-item"),d.addClass("vjs-settings-sub-menu-option"),"1080p"===d.label||"1440p"===d.label){var f=document.createElement("sup");f.innerHTML="HD",f.classList.add("swatch-color"),d.el_.appendChild(f)}else if("2160p"===d.label){var f=document.createElement("sup");f.innerHTML="4K",f.classList.add("swatch-color"),d.el_.appendChild(f)}return d.update(),d}f(b,a);var c=b.prototype;return c.update=function(){this.selected(this.value===this.parent.selected.value)},c.handleClick=function(){this.parent.onChange(this.options_),this.options_.menu.menuButton_.hideMenu()},c.restore=function(){this.menu.restore()},b}(C);k.registerComponent("SettingSubOptionItem",F);var G=k.getComponent("SettingMenu"),H=function(a){function b(b){return a.call(this,b,{name:"SettingMenuTemp"})||this}return f(b,a),b}(G),I=function(a,b){var c=new H(a);c.update(b),a.addChild(c);var d=c.contentEl_.getBoundingClientRect();return c.update(),c.dispose(),a.removeChild(c),d},J=function(a){function b(b,c){var d;return void 0===c&&(c={}),d=a.call(this,b,c)||this,d.setEntries(d.options_.entries),d.entries.length||d.hide(),d}f(b,a);var c=b.prototype;return c.createEl=function(){var a=this.options_,b=a.icon,c=a.label,d=k.dom.createEl("li",{className:"vjs-menu-item vjs-setting-menu-item",innerHTML:'\n        <div class="vjs-icon-placeholder '+(b||"")+'"></div>\n        <div class="vjs-setting-menu-label">'+this.localize(c)+'</div>\n        <div class="vjs-spacer"></div>\n      '});return this.selectedValueEl=k.dom.createEl("div",{className:"vjs-setting-menu-value"}),d.appendChild(this.selectedValueEl),d},c.setEntries=function(a,b){var c=this;void 0===a&&(a=[]),e(this,i(a,b)),this.updateSelectedValue();var d=k.getComponent(this.name_+"Child")||F;this.subMenuItems=this.entries.map(function(a,b){var e=a.label,f=a.value;return new d(c.player_,{index:b,label:e,value:f,parent:c,menu:c.menu})}),this.subMenuItems.splice(0,0,new E(this.player_,{label:this.options_.label,menu:this.menu}))},c.handleClick=function(){var a=I(this.player_,this.subMenuItems);this.menu.update(this.subMenuItems),this.menu.resize(a)},c.select=function(a){this.selected=this.entries[a]},c.update=function(){this.updateSelectedValue(),this.subMenuItems.forEach(function(a){a.update&&a.update()})},c.onChange=function(a){var b=a.index;this.select(b),this.update(b)},c.updateSelectedValue=function(){this.selected&&(this.selectedValueEl.innerHTML=this.localize(this.selected.label))},c.show=function(){a.prototype.show.call(this),this.menu.reset()},b}(C);k.registerComponent("SettingOptionItem",J);var K=function(a){function b(b,c){var d;return d=a.call(this,b,e({},c,{label:"Playback speed",icon:"vjs-icon-slow-motion-video",entries:[.25,.5,.75,{label:"Normal",value:1,default:!0},1.25,1.5,1.75,2]}))||this,d.addClass("vjs-setting-playback-rate"),b.on("ratechange",function(){for(var a=b.playbackRate(),c=3,e=0;e<d.entries.length;e++)d.entries[e].value===a&&(c=e);c>-1&&(d.select(c),d.update(c))}),d}return f(b,a),b.prototype.onChange=function(a){var b=a.value;this.player_.playbackRate(b)},b}(J);k.registerComponent("PlaybackRateSettingItem",K);var L=k.getComponent("MenuButton"),M=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,b.addChild(d.menu),d.removeChild(d.menu),d}f(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-setting-button "+a.prototype.buildCSSClass.call(this)},c.buildWrapperCSSClass=function(){return"vjs-setting-button "+a.prototype.buildWrapperCSSClass.call(this)},c.createMenu=function(){var a=new A(this.player_,{menuButton:this}),b=this.options_.entries||[],c=function(a,b,c){var d=a[b];a[b]=a[c],a[c]=d};return b.length>=4&&"SubtitleSettingMenuItem"==b[3]&&c(b,1,3),b.forEach(function(b){a.addChild(b,{menu:a})}),a},c.hideMenu=function(){this.unpressButton(),this.el_.blur()},c.unpressButton=function(){a.prototype.unpressButton.call(this),this.player_.removeClass("vjs-keep-control-showing"),this.menu.restore(),this.player_.el_.firstElementChild.style.pointerEvents="auto"},c.handleClick=function(){var a=this;this.player_.addClass("vjs-keep-control-showing"),this.buttonPressed_?this.unpressButton():(this.pressButton(),this.player_.el_.firstElementChild.style.pointerEvents="none"),this.off(document.body,"click",this.hideMenu),setTimeout(function(){a.one(document.body,"click",a.hideMenu)},0)},b}(L);M.prototype.controlText_="Settings",M.prototype.options_={entries:["PlaybackRateSettingItem"]},k.registerComponent("SettingMenuButton",M);var N=k.getComponent("Component"),O=k.getComponent("ControlBar"),P=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.addClass("vjs-control-separator"),d.addClass(c.className||""),d}return f(b,a),b}(N);k.registerComponent("ControlSeparator",P),k.hook("beforesetup",function(a,b){var c=O.prototype.options_.children.slice(0),d=c.indexOf("CustomControlSpacer");return d>-1&&(O.prototype.options_.children=[{name:"ControlSeparator",className:"top",children:[]},{name:"ControlSeparator",className:"middle",children:c.splice(0,d+1)},{name:"ControlSeparator",className:"bottom",children:c}]),b}),k.hook("setup",function(a){a.options_.mobileView;window.isMobileView=window.mobileCheck(),window.isMobileView&&(a.controlBar.hide(),a.one("playing",function(){var b=["mouseover","userinactive","touchstart"];a.one(b,function c(){a.off(b,c),a.controlBar.show()}),a.one("touchend",function(){a.userActive(!0)})}),a.addClass("vjs-mobile-view"))});var Q=("undefined"!=typeof window?window:void 0!==c||"undefined"!=typeof self&&self,j(function(a){!function(b,c){"undefined"!=typeof window&&window.videojs?c(window.videojs):a.exports&&(a.exports=c(k))}(0,function(a){"undefined"!=typeof window&&(window.videojs_hotkeys={version:"0.2.26"});var b=function(b){function c(a){return 32===a.which||179===a.which}function d(a){return 37===a.which||177===a.which}function e(a){return 39===a.which||176===a.which}function f(a){return 38===a.which}function g(a){return 40===a.which}function h(a){return 77===a.which}function i(a){return 70===a.which}function j(a){return"function"==typeof y?y(a):y}function k(a){null!=a&&"function"==typeof a.then&&a.then(null,function(a){})}var l=this,m=l.el(),n=document,o={volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!1,enableHoverScroll:!1,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,captureDocumentHotkeys:!1,documentHotkeysFocusElementFilter:function(){return!1},enableModifiersForNumbers:!0,enableInactiveFocus:!0,skipInitialFocus:!1,playPauseKey:c,rewindKey:d,forwardKey:e,volumeUpKey:f,volumeDownKey:g,muteKey:h,fullscreenKey:i,customKeys:{}},p=1,q=2,r=3,s=4,t=5,u=6,v=7,w=a.mergeOptions||a.util.mergeOptions;b=w(o,b||{});var x=b.volumeStep,y=b.seekStep,z=b.enableMute,A=b.enableVolumeScroll,B=b.enableHoverScroll,C=b.enableFullscreen,D=b.enableNumbers,E=b.enableJogStyle,F=b.alwaysCaptureHotkeys,G=b.captureDocumentHotkeys,H=b.documentHotkeysFocusElementFilter,I=b.enableModifiersForNumbers,J=b.enableInactiveFocus,K=b.skipInitialFocus,L=a.VERSION;m.hasAttribute("tabIndex")||m.setAttribute("tabIndex","-1"),m.style.outline="none",!F&&l.autoplay()||K||l.one("play",function(){m.focus()}),J&&l.on("userinactive",function(){var a=function(){clearTimeout(b)},b=setTimeout(function(){l.off("useractive",a);var b=n.activeElement,c=m.querySelector(".vjs-control-bar");b&&b.parentElement==c&&m.focus()},10);l.one("useractive",a)}),l.on("play",function(){var a=m.querySelector(".iframeblocker");a&&""===a.style.display&&(a.style.display="block",a.style.bottom="39px")});var M=function(a){var c,d,e=a.which,f=a.preventDefault.bind(a),g=l.duration();if(l.controls()){var h=n.activeElement;if(F||G&&H(h)||h==m||h==m.querySelector(".vjs-tech")||h==m.querySelector(".vjs-control-bar")||h==m.querySelector(".iframeblocker"))switch(R(a,l)){case p:f(),F&&a.stopPropagation(),l.paused()?k(l.play()):l.pause();break;case q:c=!l.paused(),f(),c&&l.pause(),d=l.currentTime()-j(a),d<=0&&(d=0),l.currentTime(d),c&&k(l.play());break;case r:c=!l.paused(),f(),c&&l.pause(),d=l.currentTime()+j(a),d>=g&&(d=c?g-.001:g),l.currentTime(d),c&&k(l.play());break;case t:f(),E?(d=l.currentTime()-1,l.currentTime()<=1&&(d=0),l.currentTime(d)):l.volume(l.volume()-x);break;case s:f(),E?(d=l.currentTime()+1,d>=g&&(d=g),l.currentTime(d)):l.volume(l.volume()+x);break;case u:z&&l.muted(!l.muted());break;case v:C&&(l.isFullscreen()?l.exitFullscreen():l.requestFullscreen());break;default:if((e>47&&e<59||e>95&&e<106)&&(I||!(a.metaKey||a.ctrlKey||a.altKey))&&D){var i=48;e>95&&(i=96);var o=e-i;f(),l.currentTime(l.duration()*o*.1)}for(var w in b.customKeys){var y=b.customKeys[w];y&&y.key&&y.handler&&y.key(a)&&(f(),y.handler(l,b,a))}}}},N=function(a){if(null!=L&&L<="7.1.0"&&l.controls()){var b=a.relatedTarget||a.toElement||n.activeElement;b!=m&&b!=m.querySelector(".vjs-tech")&&b!=m.querySelector(".iframeblocker")||C&&(l.isFullscreen()?l.exitFullscreen():l.requestFullscreen())}},O=!1,P=m.querySelector(".vjs-volume-menu-button")||m.querySelector(".vjs-volume-panel");null!=P&&(P.onmouseover=function(){O=!0},P.onmouseout=function(){O=!1});var Q=function(a){if(B)var b=0;else var b=n.activeElement;if(l.controls()&&(F||b==m||b==m.querySelector(".vjs-tech")||b==m.querySelector(".iframeblocker")||b==m.querySelector(".vjs-control-bar")||O)&&A){a=window.event||a;var c=Math.max(-1,Math.min(1,a.wheelDelta||-a.detail));a.preventDefault(),1==c?l.volume(l.volume()+x):-1==c&&l.volume(l.volume()-x)}},R=function(a,c){return b.playPauseKey(a,c)?p:b.rewindKey(a,c)?q:b.forwardKey(a,c)?r:b.volumeUpKey(a,c)?s:b.volumeDownKey(a,c)?t:b.muteKey(a,c)?u:b.fullscreenKey(a,c)?v:void 0};return l.on("keydown",M),l.on("dblclick",N),l.on("mousewheel",Q),l.on("DOMMouseScroll",Q),G&&document.addEventListener("keydown",function(a){M(a)}),this};(a.registerPlugin||a.plugin)("hotkeys",b)})}),k.getComponent("ClickableComponent")),R=function(a){function b(b,c){var d;return d=a.call(this,b,e({name:"ExitPipButton"},c))||this,d.addClass("vjs-exit-pip-button"),d.el_.querySelector(".vjs-icon-placeholder").innerHTML="&#10005;",d}return f(b,a),b.prototype.handleClick=function(){this.options_.parentPlayer.pictureInPicture().exit()},b}(Q);R.prototype.controlText_="Exit Pictutre In Pictutre",k.registerComponent("ExitPipButton",R);var S=k.getComponent("Component"),T=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,b.addChild(new R(b,{parentPlayer:c.parentPlayer})),d.addChild(b),c.wrapper||(d.addClass("vjs-pip-player-wrapper"),document.body.appendChild(d.el_)),d}return f(b,a),b.prototype.createEl=function(){return this.options_.wrapper?this.options_.wrapper:a.prototype.createEl.call(this)},b}(S);k.registerComponent("PipPlayerWrapper",T);var U=k.getComponent("Button"),V=function(a){function b(b,c){var d;return d=a.call(this,b,c)||this,d.el_.querySelector(".vjs-icon-placeholder").className+=" vjs-icon-picture-in-picture",d}f(b,a);var c=b.prototype;return c.buildCSSClass=function(){return"vjs-pip-button "+a.prototype.buildCSSClass.call(this)},c.handleClick=function(){for(var b,c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];(b=a.prototype.handleClick).call.apply(b,[this].concat(d)),this.player_.pictureInPicture().toggle()},b}(U);V.prototype.controlText_="Miniplayer (i)",k.registerComponent("PipButton",V),k.hook("setup",function(a){/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)||window!=window.top||a.controlBar.addChild(new V(a),{},a.controlBar.children_.length-1)});var W=function(a){function b(b,c){var d;return void 0===c&&(c={}),d=a.call(this,b,c)||this,d.cache_={},d.pipPlayer=null,d.options_=c,d.parentPlayer=b,d}f(b,a);var c=b.prototype;return c.toggle=function(){this.pipPlayer?this.exit():this.init()},c.init=function(){this.pipPlayer||(this.handleOriginPlayer(),this.createPipPlayer())},c.createPipPlayer=function(){var a=this.parentPlayer,b=this.options_,c=a.id_+"-pip-player",d=k.dom.createEl("video",{id:c,className:"vjs-pip-player"});document.body.appendChild(d);var f=e({},a.options_,a.cache_,{autoplay:!0,muted:a.muted()}),g=this.pipPlayer=k(d,f);this.wrapper=new T(g,e({},b,{parentPlayer:a})),this.updatePosition(e({},this.cache_,b)),g.ready(function(){g.currentTime(a.currentTime()),g.play()}),b.draggable},c.handleOriginPlayer=function(){var a=this,b=this.parentPlayer;b.pause(),b.hasStarted(!1),b.controls(!1),b.addClass("vjs-pip-player-enabled"),b.one("play",function(){a.exit()})},c.exit=function(){var a=this.parentPlayer,b=this.pipPlayer,c=this.wrapper;a&&(a.controls(!0),a.removeClass("vjs-pip-player-enabled"),a.paused()&&a.play(),b&&(b.ended()||a.currentTime(b.currentTime()))),b&&(b.dispose(),c.dispose()),this.pipPlayer=null},c.dispose=function(){this.parentPlayer=null},c.updatePosition=function(a){var b=a.x,c=a.y;void 0!==b&&void 0!==c&&(this.wrapper.el_.style.bottom=c+"px",this.wrapper.el_.style.left=b+"px")},c.draggable=function(a){var b,c,d=this,e=function(e){e.preventDefault(),d.cache_.x=Math.max(0,Math.min(window.innerWidth-a.offsetWidth,e.clientX-b)),d.cache_.y=Math.max(0,Math.min(window.innerHeight-a.offsetHeight,window.innerHeight-e.clientY-a.offsetHeight+c)),d.updatePosition(d.cache_)};a.addEventListener("mousedown",function(a){a.preventDefault(),b=a.offsetX,c=a.offsetY;var d=function a(){window.removeEventListener("mousemove",a)};window.addEventListener("mousemove",e),window.addEventListener("mousemove",d),window.addEventListener("mouseup",function a(b){window.removeEventListener("mouseup",a),window.removeEventListener("mousemove",e),window.removeEventListener("mousemove",d)})});var f=function(){var b=d.cache_,c=b.x,e=b.y;d.updatePosition({x:Math.min(c,window.innerWidth-a.offsetWidth),y:Math.min(e,window.innerHeight-a.offsetHeight)})};window.addEventListener("resize",f),this.pipPlayer.on("dispose",function(){window.removeEventListener("resize",f)})},b}(k.getPlugin("plugin"));k.registerPlugin("pictureInPicture",W);var X=function(){function a(a,b){this.values=a.slice(0),this.index_=b||0,this.loop_=!0}var b=a.prototype;return b.index=function(a){if(void 0===a)return this.index_;this.index_=Math.max(0,Math.min(a,this.values.length-1))},b.loop=function(a){if(void 0===a)return this.loop_;this.loop_=!!a},b.calc=function(a){var b=this.index_+a,c=this.values.length;return this.loop_?(c+b)%c:Math.max(0,Math.min(b,c-1))},b.step=function(a){return this.index_=this.calc(a),this.values[this.index_]},b.current=function(){return this.values[this.index_]},b.next=function(){return this.step(1)},b.prev=function(){return this.step(-1)},b.ended=function(){return this.index_===this.values.length-1},a}(),Y=k.getComponent("SettingOptionItem"),Z=function(a){function b(b,c){var d;return d=a.call(this,b,e({},c,{name:"QualitySettingItem",label:"Quality",icon:"vjs-icon-hd",entries:b.options_.quality||[]}))||this,d.addClass("vjs-setting-quality"),b.on("quality",function(a,c){var e=c.map(function(a,b){return a.value=b,a});d.setEntries(e,b.qualities.index()),d.show()}),b.on("qualitychange",function(a,b){var c=b.index;d.select(c),d.update(c)}),d}return f(b,a),b.prototype.onChange=function(a){var b=a.value;this.player_.qualities.pick(b)},b}(Y);k.getComponent("SettingMenuButton").prototype.options_.entries.push("QualitySettingItem"),k.registerComponent("QualitySettingItem",Z);var $=function(a){function b(b,c,d){var e;return void 0===d&&(d=0),e=a.call(this,c,d)||this,e.player_=b,e.pick(d,!0),e}return f(b,a),b.prototype.pick=function(a,b){var c=this;void 0!==a&&this.index(a);var d=this.player_,f=this.current(),g=d.ended()?0:d.currentTime();!b&&g&&d.one("loadedmetadata",function(){d.one("canplaythrough",function(){d.currentTime(g)}),d.play()}),d.src(f.sources),d.trigger("qualitychange",e({},f,{index:this.index()})),d.one("loadedmetadata",function(){var b,e=d.controlBar.children_[d.controlBar.children_.length-3];a>=0&&a<c.values.length&&(b=c.values[a].label),"2160p"==b?(e.el_.classList.add("uhd-quality-badge"),e.el_.classList.remove("hd-quality-badge")):"1080p"==b?(e.el_.classList.add("hd-quality-badge"),e.el_.classList.remove("uhd-quality-badge")):(e.el_.classList.remove("hd-quality-badge"),e.el_.classList.remove("uhd-quality-badge"))})},b}(X),_=function(a,b){var c=this.player_;c.qualities=new $(c,a,b),c.trigger("quality",a)};k.registerPlugin("setQualities",_),k.hook("setup",function(a){var b=a.options_.qualities;if(b&&b.length){var c=b.findIndex(function(a){return a.default});a.setQualities(b,c)}});var aa=videojs.getComponent("SettingOptionItem"),ba=videojs.getComponent("SettingSubOptionItem"),ca=function(a){function b(b,c){var d;if(null==b.qualities)return d=a.call(this,b,e({},c))||this,g(d);for(var f=[],h=0;h<b.qualities.values.length;h++){var i=b.qualities.values[h],j={};j.label=i.label,j.value=i.sources[0].src,i.default&&(j.default=!0),f.push(j)}return d=a.call(this,b,e({},c,{name:"QualityMenuItem",label:"Quality",icon:"vjs-icon-hd",entries:f}))||this,d.addClass("vjs-setting-quality"),g(d)}return f(b,a),b.prototype.onChange=function(b){a.prototype.onChange.call(this,b),this.player_.qualities.pick(b.index),this.player_.play()},b}(aa),da=function(a){function b(){return a.apply(this,arguments)||this}return f(b,a),b.prototype.handleClick=function(){"Auto"!==this.value?a.prototype.handleClick.call(this):this.restore()},b}(ba);videojs.getComponent("SettingMenuButton").prototype.options_.entries.push("QualityMenuItem"),videojs.registerComponent("QualityMenuItem",ca),videojs.registerComponent("QualityMenuItemChild",da);var ea=k.getComponent("SettingOptionItem"),fa=function(a){function b(b,c){var d,f="Subtitles/CC";return void 0!=b.options_.subtitles&&(f="Subtitles/CC ("+b.options_.subtitles.length+")"),d=a.call(this,b,e({},c,{name:"SubtitleSettingMenuItem",label:f,icon:"vjs-icon-subtitles",entries:b.options_.subtitles||[]}))||this,d.addClass("vjs-setting-subtitles"),b.on("subtitles",function(a,b){var c=!0,f=b.map(function(a,b){return c=!c||!a.default,e({},a,{value:b})});d.setEntries([].concat(f,[{label:"Off",value:-1,default:c}])),d.show()}),b.on("subtitlechange",function(a,b){var c=b.index;-1===c&&(c=d.entries.length-1),d.select(c),d.update(c)}),d}return f(b,a),b.prototype.onChange=function(a){var b=a.value;this.player_.subtitles().pick(b)},b}(ea);k.getComponent("SettingMenuButton").prototype.options_.entries.push("SubtitleSettingMenuItem"),k.registerComponent("SubtitleSettingMenuItem",fa);var ga=function(a){function b(b,c){var d;d=a.call(this,b,c)||this,d.flag=null,d.track=null;var e,f=function(){clearTimeout(e);var a=d.values(),c=d.showing(),f=c.label||c.id||-1;e=setTimeout(function(){d.flag!==f&&(d.flag=f,b.trigger("subtitlechange",{index:a.indexOf(c),label:c.label||""}))},10)};return b.textTracks().on("change",f),b.on("dispose",function(){b.textTracks().off("change",f)}),d}f(b,a);var c=b.prototype;return c.values=function(){for(var a=this.player.textTracks(),b=[],c=0;c<a.length;c++)"subtitles"!==a[c].kind&&"captions"!==a[c].kind||b.push(a[c]);return b},c.showing=function(){for(var a=this.player.textTracks(),b=0;b<a.length;b++)if("showing"===a[b].mode)return a[b];return{}},c.load=function(a){void 0===a&&(a=[]);var b=this.player;if(a&&a.length){var c=-1,d=[],f=a.map(function(a,f){var g=e({},a),h=!0,i=b.addRemoteTextTrack(e({},g,{default:!1}),h);return i.track.mode="hidden",d.push(i),-1===c&&!0===g.default?c=f:g.default=!1,g});-1!==c&&(this.flag=f[c].label,this.track=d[c].track,this.track.mode="showing"),b.trigger("subtitles",f)}return this},c.loadInside=function(a){return void 0===a&&(a=[]),this.player.trigger("subtitles",b),this},c.remove=function(){var a=this;return this.values().forEach(function(b){a.player.removeRemoteTextTrack(b)}),this},c.pick=function(a){var b=this.values(),c=b[a];if(c){null!=this.track&&(this.track.mode="disabled"),this.track=c,c.mode="showing";for(var d=this.player.textTracks(),e=0;e<d.length;e++){var f=d[e];"subtitles"!=f.kind&&"captions"!==f.kind||f.language!=c.language?f.mode="disabled":f.mode="showing"}}else{null!=this.track&&(this.track.mode="disabled");for(var g=this.player.textTracks(),e=0;e<g.length;e++){var f=g[e];"subtitles"!=f.kind&&"captions"!==f.kind||(f.mode="disabled")}}return this},b}(k.getPlugin("plugin"));k.hook("setup",function(a){a.ready(function(){var b=a.options_.subtitles;b&&b.length&&a.subtitles().load(b)})}),k.registerPlugin("subtitles",ga);var ha=(j(function(a,b){!function(b,c){a.exports=c(k,l)}(0,function(a,b){function c(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}function d(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}a=a&&a.hasOwnProperty("default")?a.default:a,b=b&&b.hasOwnProperty("default")?b.default:b;var e=function c(d){var e=this;if(a.browser.IS_IE8){e=b.createElement("custom");for(var f in c.prototype)"constructor"!==f&&(e[f]=c.prototype[f])}return e.id=d.id,e.label=e.id,e.width=d.width,e.height=d.height,e.bitrate=d.bandwidth,e.enabled_=d.enabled,Object.defineProperty(e,"enabled",{get:function(){return e.enabled_()},set:function(a){e.enabled_(a)}}),e},f=function(f){function g(){var c;c=f.call(this)||this;var e=d(d(c));if(a.browser.IS_IE8){e=b.createElement("custom");for(var h in g.prototype)"constructor"!==h&&(e[h]=g.prototype[h])}return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get:function(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get:function(){return e.levels_.length}}),e||d(c)}c(g,f);var h=g.prototype;return h.addQualityLevel=function(a){var b=this.getQualityLevelById(a.id);if(b)return b;var c=this.levels_.length;return b=new e(a),""+c in this||Object.defineProperty(this,c,{get:function(){return this.levels_[c]}}),this.levels_.push(b),this.trigger({qualityLevel:b,type:"addqualitylevel"}),b},h.removeQualityLevel=function(a){for(var b=null,c=0,d=this.length;c<d;c++)if(this[c]===a){b=this.levels_.splice(c,1)[0],this.selectedIndex_===c?this.selectedIndex_=-1:this.selectedIndex_>c&&this.selectedIndex_--;break}return b&&this.trigger({qualityLevel:a,type:"removequalitylevel"}),b},h.getQualityLevelById=function(a){for(var b=0,c=this.length;b<c;b++){var d=this[b];if(d.id===a)return d}return null},h.dispose=function(){this.selectedIndex_=-1,this.levels_.length=0},g}(a.EventTarget);f.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(var g in f.prototype.allowedEvents_)f.prototype["on"+g]=null;var h="2.3.3",i=a.registerPlugin||a.plugin,j=function(a,b){var c=a.qualityLevels,d=new f,e=function b(){d.dispose(),a.qualityLevels=c,a.off("dispose",b)};return a.on("dispose",e),a.qualityLevels=function(){return d},a.qualityLevels.VERSION=h,d},k=function(b){return j(this,a.mergeOptions({},b))};return i("qualityLevels",k),k.VERSION=h,k})}),k.getComponent("SettingOptionItem")),ia=function(a){function b(b,c){var d;d=a.call(this,b,e({},c,{name:"AudioTrackSettingItem",label:"Audio",icon:"vjs-icon-audiotrack"}))||this,d.addClass("vjs-setting-audio");var f,h=function(a){"hls-audio-change"===a.name?(clearTimeout(f),f=setTimeout(d.handleAudioChangeEvent.bind(g(d)),10)):"hls-alternate-audio"===a.name&&d.onAlternateAudio()};return b.ready(function(){b.tech_.on("usage",h)}),b.on("dispose",function(){b.tech_.off("usage",h)}),b.on("audiochange",function(a,b){if(void 0!=b){var c=b.index;d.select(c),d.update(c)}}),b.on("loadstart",function(){d.hide()}),d}f(b,a);var c=b.prototype;return c.onChange=function(a){var b=a.value;this.player_.audio().pick(b)},c.onAlternateAudio=function(){var a=this,b=this.player_.audio().values(),c=b.map(function(b,c){var d=b.id,e=b.kind,f=b.label,g=b.language;return{label:a.localize(f),value:c,id:d,kind:e,language:g,index:c,track:b}});this.player_.trigger("before-audio-setup",c),this.setEntries(c),this.show(),this.player_.trigger("audio",c)},c.handleAudioChangeEvent=function(){var a=this,b=this.player_.audio().values(),c=b.reduce(function(b,c,d){return c.enabled&&(b=a.entries[d]),b},{});this.player_.trigger("audiochange",c)},b}(ha);k.getComponent("SettingMenuButton").prototype.options_.entries.push("AudioTrackSettingItem"),k.registerComponent("AudioTrackSettingItem",ia);var ja=function(a){function b(b,c){var d;return void 0===c&&(c={}),d=a.call(this,b,c)||this,d.track=d.enabled(),b.on("audiochange",function(a,b){if(void 0!=b){var c=b.index;d.track=d.values()[c]}}),d}f(b,a);var c=b.prototype;return c.values=function(){for(var a=this.player.audioTracks(),b=[],c=0;c<a.length;c++)b.push(a[c]);return b},c.enabled=function(){for(var a=this.player.audioTracks(),b=0;b<a.length;b++)if(a[b].enabled)return a[b]},c.pick=function(a){var b=this.values(),c=b[a];c&&(this.track.enabled=!1,this.track=c,c.enabled=!0)},b}(k.getPlugin("plugin"));k.registerPlugin("audio",ja);var ka="";try{ka=localStorage&&localStorage.getItem("vjs-plus-log")}catch(a){}var la=function(){return"normal"===ka||k.browser.IE_VERSION?console.info.bind(console,"[VJS Plus]:"):ka?console.info.bind(console,"%c[VJS Plus]:","font-weight: bold; color:#2196F3;"):function(){}}(),ma=k.getComponent("SettingOptionItem"),na=function(a){function b(b,c){var d;return d=a.call(this,b,e({},c,{name:"QualityHlsSettingItem",label:"Quality",icon:"vjs-icon-hd"}))||this,d.addClass("vjs-setting-quality"),d.levels=[],d.handleAllLevelsAdded(),d}f(b,a);var c=b.prototype;return c.handleAllLevelsAdded=function(){var a=this,c=this.player_;if(!c.qualityLevels)return la("plugin videojs-contrib-quality-levels do not exsits"),!1;var d,e=c.qualityLevels(),f=[];e.on("addqualitylevel",function(b){var e=b.qualityLevel;clearTimeout(d),f.push(e);var g=function(){a.levels=f.slice(0),c.trigger("before-quality-setup",{levels:a.levels}),a.onAllLevelsAdded(),f=[]};d=setTimeout(g,10)}),c.on("loadedmetadata",function(a){for(var d=window.selectedIndex,f=document.getElementsByClassName("vjs-setting-menu-value"),g=0,h=0|f.length;g<h;g=g+1|0){if(f[g].textContent.indexOf("Auto")>=0){var i=void 0,j=e[d];if(void 0===j)return;i=void 0!==j.height?c.localize(j.height+"p"):b.prototype.toKbps(j.bitrate)+" kbps",f[g].innerHTML="Auto "+i}}}),e.on("change",function(){for(var a=window.selectedIndex=e.selectedIndex,d=document.getElementsByClassName("vjs-setting-menu-value"),f=0,g=0|d.length;f<g;f=f+1|0){if(d[f].textContent.indexOf("Auto")>=0){var h=void 0,i=e[a];h=void 0!==i.height?c.localize(i.height+"p"):b.prototype.toKbps(i.bitrate)+" kbps",d[f].innerHTML="Auto "+h}}var j=c.controlBar.children_[c.controlBar.children_.length-3];e[a].height>=2160?(j.el_.classList.add("uhd-quality-badge"),j.el_.classList.remove("hd-quality-badge")):e[a].height>=1080?(j.el_.classList.add("hd-quality-badge"),j.el_.classList.remove("uhd-quality-badge")):(j.el_.classList.remove("hd-quality-badge"),j.el_.classList.remove("uhd-quality-badge"))})},c.toKbps=function(a){return Math.floor(a/1e3)},c.onAllLevelsAdded=function(){var a=this,b=[].concat(this.levels.map(function(b){var c,d;return void 0!==b.height?(c=b.height,d=a.localize(b.height+"p")):(c=b.bitrate,d=a.toKbps(b.bitrate)+" kbps"),{label:d,value:c,default:!1}}).sort(function(a,b){return b.value-a.value}),[{label:"Auto",value:"auto",default:!0}]);this.levels.length>1?(this.setEntries(b,b.length-1),this.show(),this.player_.trigger("hls-quality",this.levels)):this.hide()},c.onChange=function(b){var c=this,d=b.value;a.prototype.onChange.call(this,b),this.levels.forEach(function(a){a.enabled=a.height===d||"auto"===d}),this.player_.trigger("hls-qualitychange",this.entries.reduce(function(a,b,f){if(b.value===d){var g={};c.levels.forEach(function(a){a.height===d&&(g=a)}),a=e({index:f,level:g},b)}return a},{}))},b}(ma);k.getComponent("SettingMenuButton").prototype.options_.entries.push("QualityHlsSettingItem"),k.registerComponent("QualityHlsSettingItem",na);var oa,pa=k.getPlugin("plugin"),qa={},ra=-1;k.addLanguage("en",{Play:"Play (k)",Pause:"Pause (k)",Mute:"Mute (m)",Unmute:"Unmute (m)",Fullscreen:"Full screen (f)","Non-Fullscreen":"Exit full screen (f)","Exit Picture-in-Picture":"Exit Miniplayer (i)","Picture-in-Picture":"Miniplayer (i)"});var sa=function(a){function b(c,d){var e;return e=a.call(this,c)||this,e.options=k.mergeOptions(qa,d),window.isMobileView?e.player.addChild("SettingMenuButton",{},c.children_.length-2):e.player.controlBar.addChild("SettingMenuButton",{},c.controlBar.children_.length-2),e.player.on("subtitles",function(a,b){for(var c=0;c<b.length;c++){b[c].default&&(ra=c)}-1==ra&&b.length>0&&(ra=0)}),e.player.ready(function(){if(e.player.addClass("vjs-beeex"),window.isMobileView){var a=!1;return c.on(["waiting","pause"],function(){a=!1}),c.on("playing",function(){a=!0}),void c.bigPlayButton.el().addEventListener("touchend",function(b){a?c.pause():c.play()})}e.addHotkeys(c),e.player.on("qualitychange",function(a,b){var d=c.controlBar.children_[c.controlBar.children_.length-3];b.label.indexOf("2160")>=0?(d.el_.classList.add("uhd-quality-badge"),d.el_.classList.remove("hd-quality-badge")):b.label.indexOf("1080")>=0?(d.el_.classList.add("hd-quality-badge"),d.el_.classList.remove("uhd-quality-badge")):(d.el_.classList.remove("hd-quality-badge"),d.el_.classList.remove("uhd-quality-badge"))}),e.player.on(["play","pause"],function(a){c.seeking()||(this.controlBar.playToggle.removeAttribute("title"),this.bigPlayButton.el_.classList.remove("bezel-icon-hide"),this.bigPlayButton.el_.classList.add("bezel-icon-show"),setTimeout(function(){c.bigPlayButton.el_.classList.remove("bezel-icon-show"),c.bigPlayButton.el_.classList.add("bezel-icon-hide")},550))})}),e.player.on("loadeddata",function(a){for(var d=[],e=c.textTracks(),f=0;f<e.length;f++){var g=e[f];if("subtitles"===g.kind||"captions"===g.kind){var h={};h.kind=g.kind,h.label=g.label,h.language=g.language,h.mode=g.mode,h.cues=g.cues,d.push(h)}}d.length>0&&(c.subtitles().load(d),b.prototype.showSubtitle.call(this,c))}),e}f(b,a);var c=b.prototype;return c.addHotkeys=function(a){a.hotkeys({playPauseKey:function(a,b){return 75===a.which||32===a.which},muteKey:function(a,b){return"m"===a.key&&(b.bigPlayButton.el_.classList.remove("bezel-icon-hide"),b.bigPlayButton.el_.classList.add("bezel-icon-show"),b.muted()?b.bigPlayButton.el_.classList.add("volume-icon-show"):b.bigPlayButton.el_.classList.add("mute-icon-show"),setTimeout(function(){b.bigPlayButton.el_.classList.remove("bezel-icon-show"),b.bigPlayButton.el_.classList.remove("volume-icon-show"),b.bigPlayButton.el_.classList.remove("mute-icon-show"),b.bigPlayButton.el_.classList.add("bezel-icon-hide")},550)),77===a.which},rewindKey:function(a,b){return 37===a.which&&(b.bigPlayButton.el_.classList.remove("bezel-icon-hide"),b.bigPlayButton.el_.classList.add("bezel-icon-show"),b.bigPlayButton.el_.classList.add("rewind-icon-show"),setTimeout(function(){b.bigPlayButton.el_.classList.remove("bezel-icon-show"),b.bigPlayButton.el_.classList.remove("rewind-icon-show"),b.bigPlayButton.el_.classList.add("bezel-icon-hide")},550)),37===a.which},forwardKey:function(a,b){return 39===a.which&&(b.bigPlayButton.el_.classList.remove("bezel-icon-hide"),b.bigPlayButton.el_.classList.add("bezel-icon-show"),b.bigPlayButton.el_.classList.add("forward-icon-show"),setTimeout(function(){b.bigPlayButton.el_.classList.remove("bezel-icon-show"),b.bigPlayButton.el_.classList.remove("forward-icon-show"),b.bigPlayButton.el_.classList.add("bezel-icon-hide")},550)),39===a.which},volumeUpKey:function(a,b){return 38===a.which&&(b.bigPlayButton.el_.classList.remove("bezel-icon-hide"),b.bigPlayButton.el_.classList.add("bezel-icon-show"),b.bigPlayButton.el_.classList.add("volume-icon-show"),setTimeout(function(){b.bigPlayButton.el_.classList.remove("bezel-icon-show"),b.bigPlayButton.el_.classList.remove("volume-icon-show"),b.bigPlayButton.el_.classList.add("bezel-icon-hide")},550)),38===a.which},volumeDownKey:function(a,b){return 40===a.which&&(b.bigPlayButton.el_.classList.remove("bezel-icon-hide"),b.bigPlayButton.el_.classList.add("bezel-icon-show"),b.bigPlayButton.el_.classList.add("volume-down-icon-show"),setTimeout(function(){b.bigPlayButton.el_.classList.remove("bezel-icon-show"),b.bigPlayButton.el_.classList.remove("volume-down-icon-show"),b.bigPlayButton.el_.classList.add("bezel-icon-hide")},550)),40===a.which},customKeys:{cKey:{key:function(a){return 67===a.which},handler:function(a,b,c){"vjs-subtitle-control vjs-control vjs-button vjs-off"==oa.className?a.subtitles().pick(ra):a.subtitles().pick(-1),a.bigPlayButton.el_.classList.remove("bezel-icon-hide"),a.bigPlayButton.el_.classList.add("bezel-icon-show"),a.bigPlayButton.el_.classList.add("subtitle-icon-show"),setTimeout(function(){a.bigPlayButton.el_.classList.remove("bezel-icon-show"),a.bigPlayButton.el_.classList.remove("volume-icon-show"),a.bigPlayButton.el_.classList.remove("subtitle-icon-show"),a.bigPlayButton.el_.classList.add("bezel-icon-hide")},550)}},tKey:{key:function(a){return 84===a.which},handler:function(a,b,c){"vjs-expand-control vjs-control vjs-button vjs-off"==expandControlContainer.className?"function"==typeof onPlayerExpand&&(onPlayerExpand(),expandControlText.innerHTML="Default view (t)",expandControlContainer.className="vjs-expand-control vjs-control vjs-button vjs-on"):"function"==typeof onPlayerCollapse&&(onPlayerCollapse(),expandControlText.innerHTML="Cinema mode (t)",expandControlContainer.className="vjs-expand-control vjs-control vjs-button vjs-off")}}}});var b=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);a.el_.addEventListener("keydown",function(c){if(73===c.keyCode)if(b)a.isInPictureInPicture()?a.exitPictureInPicture():a.requestPictureInPicture();else{if(window!=window.top)return;a.pictureInPicture().toggle()}})},c.showSubtitle=function(a){oa=document.createElement("button"),oa.className="vjs-subtitle-control vjs-control vjs-button vjs-on";var b=document.createElement("span");b.className="vjs-icon-placeholder",oa.appendChild(b);var c=document.createElement("span");c.className="vjs-control-text",c.innerHTML="Subtitles/closed captions (c)",oa.appendChild(c),oa.addEventListener("click",function(b){"vjs-subtitle-control vjs-control vjs-button vjs-off"==oa.className?a.subtitles().pick(ra):a.subtitles().pick(-1)}),a.controlBar.el().insertBefore(oa,a.controlBar.audioTrackButton.el().nextSibling),a.on("subtitlechange",function(a,b){b.index<0?oa.className="vjs-subtitle-control vjs-control vjs-button vjs-off":(oa.className="vjs-subtitle-control vjs-control vjs-button vjs-on",ra=b.index)})},b}(pa);sa.defaultState={},sa.VERSION=m,k.registerPlugin("beeex",sa),b.exports=sa}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"global/document":37,"video.js":86}],105:[function(a,b,c){"use strict";const d=a("video.js"),e=a("lodash/isEmpty"),f=a("../utils"),g=d.registerPlugin||d.plugin;console.log("ads plugin loaded");const h=function(a,b){this.player=a,this.configs=b;if(this.adTagUrl=b.ads.ad_tag,void 0!==window.google&&void 0!==window.google.ima&&void 0!==this.player.ima){const c=d.mergeOptions({},b.ads);if(!e(c)){const g=f.fetchImaOptions(c);e(g.adTagUrl)&&e(g.adsResponse)||(g.debug=b.debug||!1,this.player.ima(g))}}d.log("ads loaded in our plugin.")};g("BeeeXAds",function(a){this.ready(function(){this.beeexads=new h(this,a)})})},{"../utils":108,"lodash/isEmpty":72,"video.js":86}],106:[function(a,b,c){function d(a,b){this.player=a;var c=b||{};this.namespace=c.namespace||"",this.start=c.start||0,this.end=c.end||-1,this.startFn=c.onStart||function(){},this.endFn=c.onEnd||function(){},this.params=c.params||{},this.fired=!1}function e(a){var b=this;b.cuepoints=b.cuepoints||{},b.cuepoints.init=function(){b.cuepoints.instances=[]},b.cuepoints.destroy=function(){for(var a=0,c=b.cuepoints.instances.length;c>a;a++)b.cuepoints.instances[a].destroy(),b.cuepoints.instances[a]=null;b.cuepoints.instances=null},b.cuepoints._addCuepoint=function(a){var c=new d(b,a);return c.activate(),b.cuepoints.instances.push(c),c},b.addCuepoint=function(a){return b.cuepoints._addCuepoint(a)},b.destroyCuepoints=function(){return b.cuepoints.destroy()},b.cuepoints.init(a)}d.prototype._process=function(){if(this.player.currentTime()>=this.start&&(this.end<0||this.player.currentTime()<this.end)){if(this.fired)return;this.fired=!0,this._start()}else{if(!this.fired)return;this.fired=!1,this._end()}},d.prototype.start=0,d.prototype.end=-1,d.prototype._start=function(){this.startFn.call(this,this.params)},d.prototype._end=function(){this.endFn.call(this,this.params)},d.prototype.activate=function(){var a=this;this.processHandler=function(){a._process()},this.player.on("timeupdate",this.processHandler)},d.prototype.suspend=function(){this.fired=!1,this.player.off("timeupdate",this.processHandler)},d.prototype.destroy=function(){this.player.off("timeupdate",this.processHandler)},videojs.plugin("cuepoints",e)},{}],107:[function(a,b,c){var d="@charset \"UTF-8\";/*! @name videojs-beeex @version 2.0.0 @license UNLICENSED */:root{--play-progress:rgb(46, 144, 255);--bar-height:3.5em;--bar-padding:1.5em;--bar-width:var(--bar-height);--icon-size:calc(var(--bar-height) * 0.5);--primary-color:rgb(46, 144, 255);--big-button-border:rgb(46, 144, 255)}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-modal-dialog,.vjs-button>.vjs-icon-placeholder:before,.vjs-modal-dialog .vjs-modal-dialog-content{position:absolute;top:0;left:0;width:100%;height:100%}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.vjs-button>.vjs-icon-placeholder:before{text-align:center}@font-face{font-family:VideoJS;src:url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABDkAAsAAAAAG6gAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAPgAAAFZRiV3hY21hcAAAAYQAAADaAAADPv749/pnbHlmAAACYAAAC3AAABHQZg6OcWhlYWQAAA3QAAAAKwAAADYZw251aGhlYQAADfwAAAAdAAAAJA+RCLFobXR4AAAOHAAAABMAAACM744AAGxvY2EAAA4wAAAASAAAAEhF6kqubWF4cAAADngAAAAfAAAAIAE0AIFuYW1lAAAOmAAAASUAAAIK1cf1oHBvc3QAAA/AAAABJAAAAdPExYuNeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGS7wTiBgZWBgaWQ5RkDA8MvCM0cwxDOeI6BgYmBlZkBKwhIc01hcPjI+FGJHcRdyA4RZgQRADK3CxEAAHic7dFZbsMgAEXRS0ycyZnnOeG7y+qC8pU1dHusIOXxuoxaOlwZYWQB0Aea4quIEN4E9LzKbKjzDeM6H/mua6Lmc/p8yhg0lvdYx15ZG8uOLQOGjMp3EzqmzJizYMmKNRu27Nhz4MiJMxeu3Ljz4Ekqm7T8P52G8PP3lnTOVk++Z6iN6QZzNN1F7ptuN7eGOjDUoaGODHVsuvU8MdTO9Hd5aqgzQ50b6sJQl4a6MtS1oW4MdWuoO0PdG+rBUI+GejLUs6FeDPVqqDdDvRvqw1CfhpqM9At0iFLaAAB4nJ1YDXBTVRZ+5/22TUlJ8we0pHlJm7RJf5O8F2j6EymlSPkpxaL8U2xpa3DKj0CBhc2IW4eWKSokIoLsuMqssM64f+jA4HSdWXXXscBq67IOs3FXZ1ZYWVyRFdo899yXtIBQZ90k7717zz3v3HPPOfd854YCCj9cL9dL0RQFOqCbGJnrHb5EayiKIWN8iA/hWBblo6hUWm8TtCDwE80WMJus/irwyxOdxeB0MDb14VNJHnXYoLLSl6FfCUYO9nYPTA8Epg9090LprfbBbZ2hY0UlJUXHQp3/vtWkS6EBv8+rPMq5u9692f/dNxJNiqwC1xPE9TCUgCsSdQWgE3XQD25lkG4CN2xmTcOXWBOyser6RN6KnGbKSbmQ3+d0OI1m2W8QzLLkI2sykrWAgJJEtA8vGGW/2Q+CmT3n8zS9wZwu2DCvtuZKZN3xkrLh36yCZuUomQSqGpY8t/25VfHVhw8z4ebGBtfLb0ya9PCaDc+8dGTvk2dsh6z7WzvowlXKUSWo9MJ15a3KrEP2loOr2Ojhw6iW6hf2BDdEccQvZGpaAy7YovSwq8kr7HGllxpd71rkS6G0Sf11sl9OvMK1+jwPPODxjUwkOim9CU3ix1wNjXDfmJSEn618Bs6lpWwUpU+8PCqLMY650zjq8VhCIP17NEKTx3eaLL+s5Pi6yJWaWjTHLR1jYzPSV9VF/6Ojdb/1kO3Mk3uhHC0x6gc1BjlKQ+nQFxTYdaJkZ7ySVxLBbhR1dsboNXp1tCYKW2LRaEzpYcIx2BKNxaL0ZaUnSqfFoiNhHKR/GkX6PWUSAaJelQaqZL1EpoHNsajSEyPSoJ9IjhIxTdjHLmwZvhRDOiFTY/YeQnvrVZmiTQtGncECXtFTBZLOVwwMRgoXHAkXzMzPn1nAJJ8jYSbMDaqN2waGLzNhih/bZynUBMpIWSg7VYi7DRx2m8ALkIdRCJwI6ArJx2EI8kaDWeTQKeAFk9fjl/1AvwktjQ1P7NjyMGQyfd4vjipX6M/i52D7Cq80kqlcxEcGXRr/FEcgs0u5uGgB4VWuMFfpdn2Re6Hi3PqzmxWKsz6+ae2Pn9hXXw/fqM859UiGC0oKYYILJBqJrsn1Z1E5qOs9rQCiUQRREjm8yJcbHF5cUJufX1vAHlefw0XgUoboS3ETfQlTxBC4SOtuE8VPRJTBSCQSjZCpk7Gqzu+masaZ2y7Zjehho4F3g82BNDkAHpORG4+OCS+f6JTPmtRn/PH1kch6d04sp7AQb25aQ/pqUyXeQ8vrebG8OYQdXOQ+585u0sdW9rqalzRURiJ+9F4MweRFrKUjl1GUYhH1A27WOHw5cTFSFPMo9EeUIGnQTZHIaJ7AHLaOKsOODaNF9jkBjYG2QEsQ2xjMUAx2bBEbeTBWMHwskBjngq56S/yfgkBnWBa4K9sqKtq2t1UI8S9He5XuBRbawAdatrQEAi30Aks2+LM8WeCbalVZkWNylvJ+dqJnzVb+OHlSoKW8nPCP7Rd+CcZ2DdWAGqJ2CBFOphgywFFCFBNtfAbGtNPBCwxvygHeYMZMY9ZboBqwq/pVrsbgN5tkv152ODlbMfiqwGMBgxa4Exz3QhovRIUp6acqZmQzRq0ypDXS2TPLT02YIkQETnOE445oOGxOmXAqUJNNG7XgupMjPq2ua9asrj5yY/yuKteO1Kx0YNJTufrirLe1mZnat7OL6rnUdCWenpW6I8mAnbsY8KWs1PuSovCW9A/Z25PQ24a7cNOqgmTkLmBMgh4THgc4b9k2IVv1/g/F5nGljwPLfOgHAzJzh45V/4+WenTzmMtR5Z7us2Tys909UHqrPY7KbckoxRvRHhmVc3cJGE97uml0R1S0jdULVl7EvZtDFVBF35N9cEdjpgmAiOlFZ+Dtoh93+D3zzHr8RRNZQhnCNMNbcegOvpEwZoL+06cJQ07h+th3fZ/7PVbVC6ngTAV/KoLFuO6+2KFcU651gEb5ugPSIb1D+Xp8V4+k3sEIGnw5mYe4If4k1lFYr6SCzmM2EQ8iWtmwjnBI9kTwe1TlfAmXh7H02by9fW2gsjKwtv0aaURKil4OdV7rDL1MXIFNrhdxohcZXYTnq47WisrKitaObbf5+yvkLi5J6lCNZZ+B6GC38VNBZBDidSS/+mSvh6s+srgC8pyKMvDtt+de3c9fU76ZPfuM8ud4Kv0fyP/LqfepMT/3oZxSqpZaTa1DaQYLY8TFsHYbWYsPoRhRWfL5eSSQbhUGgGC3YLbVMk6PitTFNGpAsNrC6D1VNBKgBHMejaiuRWEWGgsSDBTJjqWIl8kJLlsaLJ2tXDr6xGfT85bM2Q06a46x2HTgvdnV8z5YDy/27J4zt6x2VtkzjoYpkq36kaBr4eQSg7tyiVweWubXZugtadl58ydapfbORfKsDTuZ0OBgx4cfdjCf5tbWNITnL120fdOi1RV1C3uKGzNdwYLcMvZ3BxoPyTOCD1XvXTp7U10gWCVmTV9b3r2z0SkGWovb2hp9I89O8a2smlyaO8muMU+dRmtzp60IzAoFpjLr1n388boLyf0dRvxhsHZ0qbWqDkwqvvpkj4l0fY6EIXRi5sQSrAvsVYwXRy4qJ2EVtD1AN7a0HWth9ymvL1xc3WTUKK/TAHA/bXDVtVWfOMfuGxGZv4Ln/jVr9jc3j1yMv0tndmyt9Vq88Y9gH1wtLX3KWjot5++jWHgAoZZkQ14wGQ20Fli71UmKJAy4xKMSTGbVdybW7FDDAut9XpD5AzWrYO7zQ8qffqF8+Ynd/clrHcdyxGy3a/3+mfNnzC/cBsveTjnTvXf1o6vzOlZw7WtqtdmPK/Errz/6NNtD72zmNOZfbmYdTGHfoofqI79Oc+R2n1lrnL6pOm0Up7kwxhTW12Amm7WYkXR2qYrF2AmgmbAsxZjwy1xpg/m1Je2vrp8v/nz2xpmlBg4E9hrMU341wVpTOh/OfmGvAnra8q6uctr60ZQHV3Q+WMQJykMj8ZsWn2QBOmmHMB+m5pDIpTFonYigiaKAhGEiAHF7EliVnQkjoLVIMPtJpBKHYd3A8GYH9jJzrWwmHx5Qjp7vDAX0suGRym1vtm/9W1/HyR8vczfMs6Sk8DSv855/5dlX9oQq52hT8syyp2rx5Id17IAyAM3wIjQPMOHzytEB64q6D5zT91yNbnx3V/nqnd017S9Y0605k3izoXLpsxde2n38yoOV9s1LcjwzNjbdX6asnBVaBj/6/DwKwPkpcqbDG7BnsXoSqWnUAmottYF6jMSdVyYZh3zVXCjwTiwwHH6sGuRiEHQGzuRX6whZkp123oy1BWE2mEfJ/tvIRtM4ZM5bDXiMsPMaAKOTyc5uL57rqyyc5y5JE5pm1i2S2iUX0CcaQ6lC6Zog7JqSqZmYlosl2K6pwNA84zRnQW6SaALYZQGW5lhCtU/W34N6o+bKfZ8cf3/Cl/+iTX3wBzpOY4mRkeNf3rptycGSshQWgGbYt5jFc2e0+DglIrwl6DVWQ7BuwaJ3Xk1J4VL5urnLl/Wf+gHU/hZoZdKNym6lG+I34FaNeZKcSpJIo2IeCVvpdsDGfKvzJnAwmeD37Ow65ZWwSowpgwX5T69s/rB55dP5BcpgDKFV8p7q2sn/1uc93bVzT/w6UrCqDTWvfCq/oCD/qZXNoUj8BL5Kp6GU017frfNXkAtiiyf/SOCEeLqnd8R/Ql9GlCRfctS6k5chvIBuQ1zCCjoCHL2DHNHIXxMJ3kQeO8lbsUXONeSfA5EjcG6/E+KdhN4bP04vBhdi883+BFBzQbxFbvZzQeY9LNBZc0FNfn5NwfDn6rCTnTw6R8o+gfpf5hCom33cRuiTlss3KHmZjD+BPN+5gXuA2ziS/Q73mLxUkpbKN/eqwz5uK0X9F3h2d1V4nGNgZGBgAOJd776+iue3+crAzc4AAje5Bfcg0xz9YHEOBiYQBQA8FQlFAHicY2BkYGBnAAGOPgaG//85+hkYGVCBMgBGGwNYAAAAeJxjYGBgYB8EmKOPgQEAQ04BfgAAAAAAAA4AaAB+AMwA4AECAUIBbAGYAcICGAJYArQC4AMwA7AD3gQwBJYE3AUkBWYFigYgBmYGtAbqB1gIEghYCG4IhAi2COh4nGNgZGBgUGYoZWBnAAEmIOYCQgaG/2A+AwAYCQG2AHicXZBNaoNAGIZfE5PQCKFQ2lUps2oXBfOzzAESyDKBQJdGR2NQR3QSSE/QE/QEPUUPUHqsvsrXjTMw83zPvPMNCuAWP3DQDAejdm1GjzwS7pMmwi75XngAD4/CQ/oX4TFe4Qt7uMMbOzjuDc0EmXCP/C7cJ38Iu+RP4QEe8CU8pP8WHmOPX2EPz87TPo202ey2OjlnQSXV/6arOjWFmvszMWtd6CqwOlKHq6ovycLaWMWVydXKFFZnmVFlZU46tP7R2nI5ncbi/dDkfDtFBA2DDXbYkhKc+V0Bqs5Zt9JM1HQGBRTm/EezTmZNKtpcAMs9Yu6AK9caF76zoLWIWcfMGOSkVduvSWechqZsz040Ib2PY3urxBJTzriT95lipz+TN1fmAAAAeJxtkMl2wjAMRfOAhABlKm2h80C3+ajgCKKDY6cegP59TYBzukAL+z1Zsq8ctaJTTKPrsUQLbXQQI0EXKXroY4AbDDHCGBNMcYsZ7nCPB8yxwCOe8IwXvOIN7/jAJ76wxHfUqWX+OzgumWAjJMV17i0Ndlr6irLKO+qftdT7i6y4uFSUvCknay+lFYZIZaQcmfH/xIFdYn98bqhra1aKTM/6lWMnyaYirx1rFUQZFBkb2zJUtoXeJCeg0WnLtHeSFc3OtrnozNwqi0TkSpBMDB1nSde5oJXW23hTS2/T0LilglXX7dmFVxLnq5U0vYATHFk3zX3BOisoQHNDFDeZnqKDy9hRNawN7Vh727hFzcJ5c8TILrKZfH7tIPxAFP0BpLeJPA==) format(\"woff\");font-weight:400;font-style:normal}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-play-control .vjs-icon-placeholder,.vjs-icon-play{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-play-control .vjs-icon-placeholder:before,.vjs-icon-play:before{content:\"\\f101\"}.vjs-icon-play-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-play-circle:before{content:\"\\f102\"}.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder,.vjs-icon-pause{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder:before,.vjs-icon-pause:before{content:\"\\f103\"}.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder,.vjs-icon-volume-mute{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder:before,.vjs-icon-volume-mute:before{content:\"\\f104\"}.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder,.vjs-icon-volume-low{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder:before,.vjs-icon-volume-low:before{content:\"\\f105\"}.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder,.vjs-icon-volume-mid{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder:before,.vjs-icon-volume-mid:before{content:\"\\f106\"}.video-js .vjs-mute-control .vjs-icon-placeholder,.vjs-icon-volume-high{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control .vjs-icon-placeholder:before,.vjs-icon-volume-high:before{content:\"\\f107\"}.video-js .vjs-fullscreen-control .vjs-icon-placeholder,.vjs-icon-fullscreen-enter{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-fullscreen-control .vjs-icon-placeholder:before,.vjs-icon-fullscreen-enter:before{content:\"\\f108\"}.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder,.vjs-icon-fullscreen-exit{font-family:VideoJS;font-weight:400;font-style:normal}.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder:before,.vjs-icon-fullscreen-exit:before{content:\"\\f109\"}.vjs-icon-square{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-square:before{content:\"\\f10a\"}.vjs-icon-spinner{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-spinner:before{content:\"\\f10b\"}.video-js .vjs-subs-caps-button .vjs-icon-placeholder,.video-js .vjs-subtitles-button .vjs-icon-placeholder,.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder,.vjs-icon-subtitles{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js .vjs-subtitles-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder:before,.vjs-icon-subtitles:before{content:\"\\f10c\"}.video-js .vjs-captions-button .vjs-icon-placeholder,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder,.vjs-icon-captions{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-captions-button .vjs-icon-placeholder:before,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder:before,.vjs-icon-captions:before{content:\"\\f10d\"}.video-js .vjs-chapters-button .vjs-icon-placeholder,.vjs-icon-chapters{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-chapters-button .vjs-icon-placeholder:before,.vjs-icon-chapters:before{content:\"\\f10e\"}.vjs-icon-share{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-share:before{content:\"\\f10f\"}.vjs-icon-cog{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-cog:before{content:\"\\f110\"}.video-js .vjs-play-progress,.video-js .vjs-volume-level,.vjs-icon-circle,.vjs-seek-to-live-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-progress:before,.video-js .vjs-volume-level:before,.vjs-icon-circle:before,.vjs-seek-to-live-control .vjs-icon-placeholder:before{content:\"\\f111\"}.vjs-icon-circle-outline{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-outline:before{content:\"\\f112\"}.vjs-icon-circle-inner-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-inner-circle:before{content:\"\\f113\"}.vjs-icon-hd{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-hd:before{content:\"\\f114\"}.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder,.vjs-icon-cancel{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder:before,.vjs-icon-cancel:before{content:\"\\f115\"}.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder,.vjs-icon-replay{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder:before,.vjs-icon-replay:before{content:\"\\f116\"}.vjs-icon-facebook{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-facebook:before{content:\"\\f117\"}.vjs-icon-gplus{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-gplus:before{content:\"\\f118\"}.vjs-icon-linkedin{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-linkedin:before{content:\"\\f119\"}.vjs-icon-twitter{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-twitter:before{content:\"\\f11a\"}.vjs-icon-tumblr{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-tumblr:before{content:\"\\f11b\"}.vjs-icon-pinterest{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-pinterest:before{content:\"\\f11c\"}.video-js .vjs-descriptions-button .vjs-icon-placeholder,.vjs-icon-audio-description{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-descriptions-button .vjs-icon-placeholder:before,.vjs-icon-audio-description:before{content:\"\\f11d\"}.video-js .vjs-audio-button .vjs-icon-placeholder,.vjs-icon-audio{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-audio-button .vjs-icon-placeholder:before,.vjs-icon-audio:before{content:\"\\f11e\"}.vjs-icon-next-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-next-item:before{content:\"\\f11f\"}.vjs-icon-previous-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-previous-item:before{content:\"\\f120\"}.video-js .vjs-picture-in-picture-control .vjs-icon-placeholder,.vjs-icon-picture-in-picture-enter{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-picture-in-picture-control .vjs-icon-placeholder:before,.vjs-icon-picture-in-picture-enter:before{content:\"\\f121\"}.video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder,.vjs-icon-picture-in-picture-exit{font-family:VideoJS;font-weight:400;font-style:normal}.video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder:before,.vjs-icon-picture-in-picture-exit:before{content:\"\\f122\"}.video-js{display:block;vertical-align:top;box-sizing:border-box;color:#fff;background-color:#000;position:relative;padding:0;font-size:10px;line-height:1;font-weight:400;font-style:normal;font-family:Arial,Helvetica,sans-serif;word-break:initial}.video-js:-moz-full-screen{position:absolute}.video-js:-webkit-full-screen{width:100%!important;height:100%!important}.video-js[tabindex=\"-1\"]{outline:0}.video-js *,.video-js :after,.video-js :before{box-sizing:inherit}.video-js ul{font-family:inherit;font-size:inherit;line-height:inherit;list-style-position:outside;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.video-js.vjs-1-1,.video-js.vjs-16-9,.video-js.vjs-4-3,.video-js.vjs-9-16,.video-js.vjs-fluid{width:100%;max-width:100%;height:0}.video-js.vjs-16-9{padding-top:56.25%}.video-js.vjs-4-3{padding-top:75%}.video-js.vjs-9-16{padding-top:177.7777777778%}.video-js.vjs-1-1{padding-top:100%}.video-js.vjs-fill{width:100%;height:100%}.video-js .vjs-tech{position:absolute;top:0;left:0;width:100%;height:100%}body.vjs-full-window{padding:0;margin:0;height:100%}.vjs-full-window .video-js.vjs-fullscreen{position:fixed;overflow:hidden;z-index:1000;left:0;top:0;bottom:0;right:0}.video-js.vjs-fullscreen:not(.vjs-ios-native-fs){width:100%!important;height:100%!important;padding-top:0!important}.video-js.vjs-fullscreen.vjs-user-inactive{cursor:none}.vjs-hidden{display:none!important}.vjs-disabled{opacity:.5;cursor:default}.video-js .vjs-offscreen{height:1px;left:-9999px;position:absolute;top:0;width:1px}.vjs-lock-showing{display:block!important;opacity:1!important;visibility:visible!important}.vjs-no-js{padding:20px;color:#fff;background-color:#000;font-size:18px;font-family:Arial,Helvetica,sans-serif;text-align:center;width:300px;height:150px;margin:0 auto}.vjs-no-js a,.vjs-no-js a:visited{color:#66a8cc}.video-js .vjs-big-play-button{font-size:3em;line-height:1.5em;height:1.63332em;width:3em;display:block;position:absolute;top:10px;left:10px;padding:0;cursor:pointer;opacity:1;border:.06666em solid #fff;background-color:#2b333f;background-color:rgba(43,51,63,.7);border-radius:.3em;transition:all .4s}.vjs-big-play-centered .vjs-big-play-button{top:50%;left:50%;margin-top:-.81666em;margin-left:-1.5em}.video-js .vjs-big-play-button:focus,.video-js:hover .vjs-big-play-button{border-color:#fff;background-color:#73859f;background-color:rgba(115,133,159,.5);transition:all 0s}.vjs-controls-disabled .vjs-big-play-button,.vjs-error .vjs-big-play-button,.vjs-has-started .vjs-big-play-button,.vjs-using-native-controls .vjs-big-play-button{display:none}.vjs-has-started.vjs-paused.vjs-show-big-play-button-on-pause .vjs-big-play-button{display:block}.video-js button{background:0 0;border:none;color:inherit;display:inline-block;font-size:inherit;line-height:inherit;text-transform:none;text-decoration:none;transition:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.vjs-control .vjs-button{width:100%;height:100%}.video-js .vjs-control.vjs-close-button{cursor:pointer;height:3em;position:absolute;right:0;top:.5em;z-index:2}.video-js .vjs-modal-dialog{background:rgba(0,0,0,.8);background:linear-gradient(180deg,rgba(0,0,0,.8),rgba(255,255,255,0));overflow:auto}.video-js .vjs-modal-dialog>*{box-sizing:border-box}.vjs-modal-dialog .vjs-modal-dialog-content{font-size:1.2em;line-height:1.5;padding:20px 24px;z-index:1}.vjs-menu-button{cursor:pointer}.vjs-menu-button.vjs-disabled{cursor:default}.vjs-workinghover .vjs-menu-button.vjs-disabled:hover .vjs-menu{display:none}.vjs-menu .vjs-menu-content{display:block;padding:0;margin:0;font-family:Arial,Helvetica,sans-serif;overflow:auto}.vjs-menu .vjs-menu-content>*{box-sizing:border-box}.vjs-scrubbing .vjs-control.vjs-menu-button:hover .vjs-menu{display:none}.vjs-menu li{list-style:none;margin:0;padding:.2em 0;line-height:1.4em;font-size:1.2em;text-align:center;text-transform:lowercase}.js-focus-visible .vjs-menu li.vjs-menu-item:hover,.vjs-menu li.vjs-menu-item:focus,.vjs-menu li.vjs-menu-item:hover{background-color:#73859f;background-color:rgba(115,133,159,.5)}.js-focus-visible .vjs-menu li.vjs-selected:hover,.vjs-menu li.vjs-selected,.vjs-menu li.vjs-selected:focus,.vjs-menu li.vjs-selected:hover{background-color:#fff;color:#2b333f}.js-focus-visible .vjs-menu :not(.vjs-selected):focus:not(.focus-visible),.video-js .vjs-menu :not(.vjs-selected):focus:not(:focus-visible){background:0 0}.vjs-menu li.vjs-menu-title{text-align:center;text-transform:uppercase;font-size:1em;line-height:2em;padding:0;margin:0 0 .3em 0;font-weight:700;cursor:default}.vjs-menu-button-popup .vjs-menu{display:none;position:absolute;bottom:0;width:10em;left:-3em;height:0;margin-bottom:1.5em;border-top-color:rgba(43,51,63,.7)}.vjs-menu-button-popup .vjs-menu .vjs-menu-content{background-color:#2b333f;background-color:rgba(43,51,63,.7);position:absolute;width:100%;bottom:1.5em;max-height:15em}.vjs-layout-tiny .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-x-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:5em}.vjs-layout-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:10em}.vjs-layout-medium .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:14em}.vjs-layout-huge .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-x-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:25em}.vjs-menu-button-popup .vjs-menu.vjs-lock-showing,.vjs-workinghover .vjs-menu-button-popup.vjs-hover .vjs-menu{display:block}.video-js .vjs-menu-button-inline{transition:all .4s;overflow:hidden}.video-js .vjs-menu-button-inline:before{width:2.222222222em}.video-js .vjs-menu-button-inline.vjs-slider-active,.video-js .vjs-menu-button-inline:focus,.video-js .vjs-menu-button-inline:hover,.video-js.vjs-no-flex .vjs-menu-button-inline{width:12em}.vjs-menu-button-inline .vjs-menu{opacity:0;height:100%;width:auto;position:absolute;left:4em;top:0;padding:0;margin:0;transition:all .4s}.vjs-menu-button-inline.vjs-slider-active .vjs-menu,.vjs-menu-button-inline:focus .vjs-menu,.vjs-menu-button-inline:hover .vjs-menu{display:block;opacity:1}.vjs-no-flex .vjs-menu-button-inline .vjs-menu{display:block;opacity:1;position:relative;width:auto}.vjs-no-flex .vjs-menu-button-inline.vjs-slider-active .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:focus .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:hover .vjs-menu{width:auto}.vjs-menu-button-inline .vjs-menu-content{width:auto;height:100%;margin:0;overflow:hidden}.video-js .vjs-control-bar{display:none;width:100%;position:absolute;bottom:0;left:0;right:0;height:3em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.vjs-has-started .vjs-control-bar{display:flex;visibility:visible;opacity:1;transition:visibility .1s,opacity .1s}.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{visibility:visible;opacity:0;transition:visibility 1s,opacity 1s}.vjs-controls-disabled .vjs-control-bar,.vjs-error .vjs-control-bar,.vjs-using-native-controls .vjs-control-bar{display:none!important}.vjs-audio.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{opacity:1;visibility:visible}.vjs-has-started.vjs-no-flex .vjs-control-bar{display:table}.video-js .vjs-control{position:relative;text-align:center;margin:0;padding:0;height:100%;width:4em;flex:none}.vjs-button>.vjs-icon-placeholder:before{font-size:1.8em;line-height:1.67}.vjs-button>.vjs-icon-placeholder{display:block}.video-js .vjs-control:focus,.video-js .vjs-control:focus:before,.video-js .vjs-control:hover:before{text-shadow:0 0 1em #fff}.video-js .vjs-control-text{border:0;clip:rect(0 0 0 0);height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.vjs-no-flex .vjs-control{display:table-cell;vertical-align:middle}.video-js .vjs-custom-control-spacer{display:none}.video-js .vjs-progress-control{cursor:pointer;flex:auto;display:flex;align-items:center;min-width:4em;touch-action:none}.video-js .vjs-progress-control.disabled{cursor:default}.vjs-live .vjs-progress-control{display:none}.vjs-liveui .vjs-progress-control{display:flex;align-items:center}.vjs-no-flex .vjs-progress-control{width:auto}.video-js .vjs-progress-holder{flex:auto;transition:all .2s;height:.3em}.video-js .vjs-progress-control .vjs-progress-holder{margin:0 10px}.video-js .vjs-progress-control:hover .vjs-progress-holder{font-size:1.6666666667em}.video-js .vjs-progress-control:hover .vjs-progress-holder.disabled{font-size:1em}.video-js .vjs-progress-holder .vjs-load-progress,.video-js .vjs-progress-holder .vjs-load-progress div,.video-js .vjs-progress-holder .vjs-play-progress{position:absolute;display:block;height:100%;margin:0;padding:0;width:0}.video-js .vjs-play-progress{background-color:#fff}.video-js .vjs-play-progress:before{font-size:.9em;position:absolute;right:-.5em;top:-.3333333333em;z-index:1}.video-js .vjs-load-progress{background:rgba(115,133,159,.5)}.video-js .vjs-load-progress div{background:rgba(115,133,159,.75)}.video-js .vjs-time-tooltip{background-color:#fff;background-color:rgba(255,255,255,.8);border-radius:.3em;color:#000;float:right;font-family:Arial,Helvetica,sans-serif;font-size:1em;padding:6px 8px 8px 8px;pointer-events:none;position:absolute;top:-3.4em;visibility:hidden;z-index:1}.video-js .vjs-progress-holder:focus .vjs-time-tooltip{display:none}.video-js .vjs-progress-control:hover .vjs-progress-holder:focus .vjs-time-tooltip,.video-js .vjs-progress-control:hover .vjs-time-tooltip{display:block;font-size:.6em;visibility:visible}.video-js .vjs-progress-control.disabled:hover .vjs-time-tooltip{font-size:1em}.video-js .vjs-progress-control .vjs-mouse-display{display:none;position:absolute;width:1px;height:100%;background-color:#000;z-index:1}.vjs-no-flex .vjs-progress-control .vjs-mouse-display{z-index:0}.video-js .vjs-progress-control:hover .vjs-mouse-display{display:block}.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display{visibility:hidden;opacity:0;transition:visibility 1s,opacity 1s}.video-js.vjs-user-inactive.vjs-no-flex .vjs-progress-control .vjs-mouse-display{display:none}.vjs-mouse-display .vjs-time-tooltip{color:#fff;background-color:#000;background-color:rgba(0,0,0,.8)}.video-js .vjs-slider{position:relative;cursor:pointer;padding:0;margin:0 .45em 0 .45em;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#73859f;background-color:rgba(115,133,159,.5)}.video-js .vjs-slider.disabled{cursor:default}.video-js .vjs-slider:focus{text-shadow:0 0 1em #fff;box-shadow:0 0 1em #fff}.video-js .vjs-mute-control{cursor:pointer;flex:none}.video-js .vjs-volume-control{cursor:pointer;margin-right:1em;display:flex}.video-js .vjs-volume-control.vjs-volume-horizontal{width:5em}.video-js .vjs-volume-panel .vjs-volume-control{visibility:visible;opacity:0;width:1px;height:1px;margin-left:-1px}.video-js .vjs-volume-panel{transition:width 1s}.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active,.video-js .vjs-volume-panel .vjs-volume-control:active,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control,.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control,.video-js .vjs-volume-panel:active .vjs-volume-control,.video-js .vjs-volume-panel:focus .vjs-volume-control{visibility:visible;opacity:1;position:relative;transition:visibility .1s,opacity .1s,height .1s,width .1s,left 0s,top 0s}.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-horizontal,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-horizontal{width:5em;height:3em;margin-right:0}.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-vertical,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-vertical,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-vertical{left:-3.5em;transition:left 0s}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:active{width:10em;transition:width .1s}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-mute-toggle-only{width:4em}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{height:8em;width:3em;left:-3000em;transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s}.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{width:5em;height:3em;visibility:visible;opacity:1;position:relative;transition:none}.video-js.vjs-no-flex .vjs-volume-control.vjs-volume-vertical,.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{position:absolute;bottom:3em;left:.5em}.video-js .vjs-volume-panel{display:flex}.video-js .vjs-volume-bar{margin:1.35em .45em}.vjs-volume-bar.vjs-slider-horizontal{width:5em;height:.3em}.vjs-volume-bar.vjs-slider-vertical{width:.3em;height:5em;margin:1.35em auto}.video-js .vjs-volume-level{position:absolute;bottom:0;left:0;background-color:#fff}.video-js .vjs-volume-level:before{position:absolute;font-size:.9em;z-index:1}.vjs-slider-vertical .vjs-volume-level{width:.3em}.vjs-slider-vertical .vjs-volume-level:before{top:-.5em;left:-.3em;z-index:1}.vjs-slider-horizontal .vjs-volume-level{height:.3em}.vjs-slider-horizontal .vjs-volume-level:before{top:-.3em;right:-.5em}.video-js .vjs-volume-panel.vjs-volume-panel-vertical{width:4em}.vjs-volume-bar.vjs-slider-vertical .vjs-volume-level{height:100%}.vjs-volume-bar.vjs-slider-horizontal .vjs-volume-level{width:100%}.video-js .vjs-volume-vertical{width:3em;height:8em;bottom:8em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.video-js .vjs-volume-horizontal .vjs-menu{left:-2em}.video-js .vjs-volume-tooltip{background-color:#fff;background-color:rgba(255,255,255,.8);border-radius:.3em;color:#000;float:right;font-family:Arial,Helvetica,sans-serif;font-size:1em;padding:6px 8px 8px 8px;pointer-events:none;position:absolute;top:-3.4em;visibility:hidden;z-index:1}.video-js .vjs-volume-control:hover .vjs-progress-holder:focus .vjs-volume-tooltip,.video-js .vjs-volume-control:hover .vjs-volume-tooltip{display:block;font-size:1em;visibility:visible}.video-js .vjs-volume-vertical:hover .vjs-progress-holder:focus .vjs-volume-tooltip,.video-js .vjs-volume-vertical:hover .vjs-volume-tooltip{left:1em;top:-12px}.video-js .vjs-volume-control.disabled:hover .vjs-volume-tooltip{font-size:1em}.video-js .vjs-volume-control .vjs-mouse-display{display:none;position:absolute;width:100%;height:1px;background-color:#000;z-index:1}.video-js .vjs-volume-horizontal .vjs-mouse-display{width:1px;height:100%}.vjs-no-flex .vjs-volume-control .vjs-mouse-display{z-index:0}.video-js .vjs-volume-control:hover .vjs-mouse-display{display:block}.video-js.vjs-user-inactive .vjs-volume-control .vjs-mouse-display{visibility:hidden;opacity:0;transition:visibility 1s,opacity 1s}.video-js.vjs-user-inactive.vjs-no-flex .vjs-volume-control .vjs-mouse-display{display:none}.vjs-mouse-display .vjs-volume-tooltip{color:#fff;background-color:#000;background-color:rgba(0,0,0,.8)}.vjs-poster{display:inline-block;vertical-align:middle;background-repeat:no-repeat;background-position:50% 50%;background-size:contain;background-color:#000;cursor:pointer;margin:0;padding:0;position:absolute;top:0;right:0;bottom:0;left:0;height:100%}.vjs-has-started .vjs-poster{display:none}.vjs-audio.vjs-has-started .vjs-poster{display:block}.vjs-using-native-controls .vjs-poster{display:none}.video-js .vjs-live-control{display:flex;align-items:flex-start;flex:auto;font-size:1em;line-height:3em}.vjs-no-flex .vjs-live-control{display:table-cell;width:auto;text-align:left}.video-js.vjs-liveui .vjs-live-control,.video-js:not(.vjs-live) .vjs-live-control{display:none}.video-js .vjs-seek-to-live-control{align-items:center;cursor:pointer;flex:none;display:inline-flex;height:100%;padding-left:.5em;padding-right:.5em;font-size:1em;line-height:3em;width:auto;min-width:4em}.vjs-no-flex .vjs-seek-to-live-control{display:table-cell;width:auto;text-align:left}.video-js.vjs-live:not(.vjs-liveui) .vjs-seek-to-live-control,.video-js:not(.vjs-live) .vjs-seek-to-live-control{display:none}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge{cursor:auto}.vjs-seek-to-live-control .vjs-icon-placeholder{margin-right:.5em;color:#888}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge .vjs-icon-placeholder{color:red}.video-js .vjs-time-control{flex:none;font-size:1em;line-height:3em;min-width:2em;width:auto;padding-left:1em;padding-right:1em}.vjs-live .vjs-time-control{display:none}.video-js .vjs-current-time,.vjs-no-flex .vjs-current-time{display:none}.video-js .vjs-duration,.vjs-no-flex .vjs-duration{display:none}.vjs-time-divider{display:none;line-height:3em}.vjs-live .vjs-time-divider{display:none}.video-js .vjs-play-control{cursor:pointer}.video-js .vjs-play-control .vjs-icon-placeholder{flex:none}.vjs-text-track-display{position:absolute;bottom:3em;left:0;right:0;top:0;pointer-events:none}.video-js.vjs-user-inactive.vjs-playing .vjs-text-track-display{bottom:1em}.video-js .vjs-text-track{font-size:1.4em;text-align:center;margin-bottom:.1em}.vjs-subtitles{color:#fff}.vjs-captions{color:#fc6}.vjs-tt-cue{display:block}video::-webkit-media-text-track-display{transform:translateY(-3em)}.video-js.vjs-user-inactive.vjs-playing video::-webkit-media-text-track-display{transform:translateY(-1.5em)}.video-js .vjs-picture-in-picture-control{cursor:pointer;flex:none}.video-js .vjs-fullscreen-control{cursor:pointer;flex:none}.vjs-playback-rate .vjs-playback-rate-value,.vjs-playback-rate>.vjs-menu-button{position:absolute;top:0;left:0;width:100%;height:100%}.vjs-playback-rate .vjs-playback-rate-value{pointer-events:none;font-size:1.5em;line-height:2;text-align:center}.vjs-playback-rate .vjs-menu{width:4em;left:0}.vjs-error .vjs-error-display .vjs-modal-dialog-content{font-size:1.4em;text-align:center}.vjs-error .vjs-error-display:before{color:#fff;content:\"X\";font-family:Arial,Helvetica,sans-serif;font-size:4em;left:0;line-height:1;margin-top:-.5em;position:absolute;text-shadow:.05em .05em .1em #000;text-align:center;top:50%;vertical-align:middle;width:100%}.vjs-loading-spinner{display:none;position:absolute;top:50%;left:50%;margin:-25px 0 0 -25px;opacity:.85;text-align:left;border:6px solid rgba(43,51,63,.7);box-sizing:border-box;background-clip:padding-box;width:50px;height:50px;border-radius:25px;visibility:hidden}.vjs-seeking .vjs-loading-spinner,.vjs-waiting .vjs-loading-spinner{display:block;-webkit-animation:vjs-spinner-show 0s linear .3s forwards;animation:vjs-spinner-show 0s linear .3s forwards}.vjs-loading-spinner:after,.vjs-loading-spinner:before{content:\"\";position:absolute;margin:-6px;box-sizing:inherit;width:inherit;height:inherit;border-radius:inherit;opacity:1;border:inherit;border-color:transparent;border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:before{-webkit-animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite;animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite}.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:before{border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:after{border-top-color:#fff;-webkit-animation-delay:.44s;animation-delay:.44s}@keyframes vjs-spinner-show{to{visibility:visible}}@-webkit-keyframes vjs-spinner-show{to{visibility:visible}}@keyframes vjs-spinner-spin{100%{transform:rotate(360deg)}}@-webkit-keyframes vjs-spinner-spin{100%{-webkit-transform:rotate(360deg)}}@keyframes vjs-spinner-fade{0%{border-top-color:#73859f}20%{border-top-color:#73859f}35%{border-top-color:#fff}60%{border-top-color:#73859f}100%{border-top-color:#73859f}}@-webkit-keyframes vjs-spinner-fade{0%{border-top-color:#73859f}20%{border-top-color:#73859f}35%{border-top-color:#fff}60%{border-top-color:#73859f}100%{border-top-color:#73859f}}.vjs-chapters-button .vjs-menu ul{width:24em}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-.1em}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:\"\";font-size:1.5em;line-height:inherit}.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-.1em}.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:\" \";font-size:1.5em;line-height:inherit}.video-js.vjs-layout-small .vjs-audio-button,.video-js.vjs-layout-small .vjs-captions-button,.video-js.vjs-layout-small .vjs-chapters-button,.video-js.vjs-layout-small .vjs-current-time,.video-js.vjs-layout-small .vjs-descriptions-button,.video-js.vjs-layout-small .vjs-duration,.video-js.vjs-layout-small .vjs-playback-rate,.video-js.vjs-layout-small .vjs-remaining-time,.video-js.vjs-layout-small .vjs-subtitles-button,.video-js.vjs-layout-small .vjs-time-divider,.video-js.vjs-layout-small .vjs-volume-control,.video-js.vjs-layout-tiny .vjs-audio-button,.video-js.vjs-layout-tiny .vjs-captions-button,.video-js.vjs-layout-tiny .vjs-chapters-button,.video-js.vjs-layout-tiny .vjs-current-time,.video-js.vjs-layout-tiny .vjs-descriptions-button,.video-js.vjs-layout-tiny .vjs-duration,.video-js.vjs-layout-tiny .vjs-playback-rate,.video-js.vjs-layout-tiny .vjs-remaining-time,.video-js.vjs-layout-tiny .vjs-subtitles-button,.video-js.vjs-layout-tiny .vjs-time-divider,.video-js.vjs-layout-tiny .vjs-volume-control,.video-js.vjs-layout-x-small .vjs-audio-button,.video-js.vjs-layout-x-small .vjs-captions-button,.video-js.vjs-layout-x-small .vjs-chapters-button,.video-js.vjs-layout-x-small .vjs-current-time,.video-js.vjs-layout-x-small .vjs-descriptions-button,.video-js.vjs-layout-x-small .vjs-duration,.video-js.vjs-layout-x-small .vjs-playback-rate,.video-js.vjs-layout-x-small .vjs-remaining-time,.video-js.vjs-layout-x-small .vjs-subtitles-button,.video-js.vjs-layout-x-small .vjs-time-divider,.video-js.vjs-layout-x-small .vjs-volume-control{display:none!important}.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover{width:auto;width:initial}.video-js.vjs-layout-tiny .vjs-subs-caps-button,.video-js.vjs-layout-x-small:not(.vjs-live) .vjs-subs-caps-button,.video-js.vjs-layout-x-small:not(.vjs-liveui) .vjs-subs-caps-button{display:none}.video-js.vjs-layout-tiny .vjs-custom-control-spacer,.video-js.vjs-layout-x-small.vjs-liveui .vjs-custom-control-spacer{flex:auto;display:block}.video-js.vjs-layout-tiny.vjs-no-flex .vjs-custom-control-spacer,.video-js.vjs-layout-x-small.vjs-liveui.vjs-no-flex .vjs-custom-control-spacer{width:auto}.video-js.vjs-layout-tiny .vjs-progress-control,.video-js.vjs-layout-x-small.vjs-liveui .vjs-progress-control{display:none}.vjs-modal-dialog.vjs-text-track-settings{background-color:#2b333f;background-color:rgba(43,51,63,.75);color:#fff;height:70%}.vjs-text-track-settings .vjs-modal-dialog-content{display:table}.vjs-text-track-settings .vjs-track-settings-colors,.vjs-text-track-settings .vjs-track-settings-controls,.vjs-text-track-settings .vjs-track-settings-font{display:table-cell}.vjs-text-track-settings .vjs-track-settings-controls{text-align:right;vertical-align:bottom}@supports (display:grid){.vjs-text-track-settings .vjs-modal-dialog-content{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr;padding:20px 24px 0 24px}.vjs-track-settings-controls .vjs-default-button{margin-bottom:20px}.vjs-text-track-settings .vjs-track-settings-controls{grid-column:1/-1}.vjs-layout-small .vjs-text-track-settings .vjs-modal-dialog-content,.vjs-layout-tiny .vjs-text-track-settings .vjs-modal-dialog-content,.vjs-layout-x-small .vjs-text-track-settings .vjs-modal-dialog-content{grid-template-columns:1fr}}.vjs-track-setting>select{margin-right:1em;margin-bottom:.5em}.vjs-text-track-settings fieldset{margin:5px;padding:3px;border:none}.vjs-text-track-settings fieldset span{display:inline-block}.vjs-text-track-settings fieldset span>select{max-width:7.3em}.vjs-text-track-settings legend{color:#fff;margin:0 0 5px 0}.vjs-text-track-settings .vjs-label{position:absolute;clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px);display:block;margin:0 0 5px 0;padding:0;border:0;height:1px;width:1px;overflow:hidden}.vjs-track-settings-controls button:active,.vjs-track-settings-controls button:focus{outline-style:solid;outline-width:medium;background-image:linear-gradient(0deg,#fff 88%,#73859f 100%)}.vjs-track-settings-controls button:hover{color:rgba(43,51,63,.75)}.vjs-track-settings-controls button{background-color:#fff;background-image:linear-gradient(-180deg,#fff 88%,#73859f 100%);color:#2b333f;cursor:pointer;border-radius:2px}.vjs-track-settings-controls .vjs-default-button{margin-right:1em}@media print{.video-js>:not(.vjs-tech):not(.vjs-poster){visibility:hidden}}.vjs-resize-manager{position:absolute;top:0;left:0;width:100%;height:100%;border:none;z-index:-1000}.js-focus-visible .video-js :focus:not(.focus-visible){outline:0}.video-js :focus:not(:focus-visible){outline:0}.ima-ad-container{top:0;position:absolute;display:none;width:100%;height:100%}.video-js.vjs-playing .bumpable-ima-ad-container{margin-top:-4em}.video-js.vjs-user-inactive.vjs-playing .bumpable-ima-ad-container{margin-top:0}.video-js.vjs-paused .bumpable-ima-ad-container,.video-js.vjs-playing:hover .bumpable-ima-ad-container,.video-js.vjs-user-active.vjs-playing .bumpable-ima-ad-container{margin-top:-4em}.ima-controls-div{bottom:0;height:1.4em;position:absolute;overflow:hidden;display:none;opacity:1;background-color:rgba(7,20,30,.7);background:-moz-linear-gradient(bottom,rgba(7,20,30,.7) 0,rgba(7,20,30,0) 100%);background:-webkit-gradient(linear,left bottom,left top,color-stop(0,rgba(7,20,30,.7)),color-stop(100%,rgba(7,20,30,0)));background:-webkit-linear-gradient(bottom,rgba(7,20,30,.7) 0,rgba(7,20,30,0) 100%);background:-o-linear-gradient(bottom,rgba(7,20,30,.7) 0,rgba(7,20,30,0) 100%);background:-ms-linear-gradient(bottom,rgba(7,20,30,.7) 0,rgba(7,20,30,0) 100%);background:linear-gradient(to top,rgba(7,20,30,.7) 0,rgba(7,20,30,0) 100%)}.ima-controls-div.ima-controls-div-showing{height:3.7em}.ima-countdown-div{height:1em;color:#fff;text-shadow:0 0 .2em #000;cursor:default}.ima-seek-bar-div{top:1.2em;height:.3em;position:absolute;background:rgba(255,255,255,.4)}.ima-progress-div{width:0;height:.3em;background-color:#ecc546}.ima-fullscreen-div,.ima-mute-div,.ima-play-pause-div,.ima-slider-div{width:2.33em;height:1.33em;top:.733em;left:0;position:absolute;color:#ccc;font-size:1.5em;line-height:2;text-align:center;font-family:VideoJS;cursor:pointer}.ima-mute-div{left:auto;right:5.667em}.ima-slider-div{left:auto;right:2.33em;width:3.33em;height:.667em;top:1.33em;background-color:#555}.ima-slider-level-div{width:100%;height:.667em;background-color:#ecc546}.ima-fullscreen-div{left:auto;right:0}.ima-playing:before{content:\"\\00f103\"}.ima-paused:before{content:\"\\00f101\"}.ima-paused:hover:before,.ima-playing:hover:before{text-shadow:0 0 1em #fff}.ima-non-muted:before{content:\"\\00f107\"}.ima-muted:before{content:\"\\00f104\"}.ima-muted:hover:before,.ima-non-muted:hover:before{text-shadow:0 0 1em #fff}.ima-non-fullscreen:before{content:\"\\00f108\"}.ima-fullscreen:before{content:\"\\00f109\"}.ima-fullscreen:hover:before,.ima-non-fullscreen:hover:before{text-shadow:0 0 1em #fff}.vjs-suggested-video-endcap{background:rgba(0,0,0,.7);display:none;height:95%;left:0;overflow:hidden;padding:20px;position:absolute;right:0;top:0;width:100%}.vjs-suggested-video-endcap.is-active{display:block}.vjs-suggested-video-endcap-container{-webkit-align-content:center;align-content:center;-webkit-align-items:baseline;align-items:baseline;display:-webkit-flex;display:-ms-flex;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-justify-content:center;justify-content:center}.vjs-suggested-video-endcap-header{font:700 16px/1 Arial,sans-serif;margin:0 auto 20px;text-align:center}.vjs-suggested-video-endcap-link{font:400 18px/1 Arial,sans-serif;margin-bottom:20px;margin-right:20px;position:relative;width:23%}.vjs-suggested-video-endcap-link:last-of-type,.vjs-suggested-video-endcap-link:nth-of-type(4n){margin-right:0}.vjs-suggested-video-endcap-img{height:auto;margin-bottom:5px;width:100%}.video-js .vjs-big-vr-play-button{width:100px;height:100px;background-image:url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='360' height='360' viewBox='0 0 360 360'%3E%3Cpath fill='%23FFF' d='M334.883 275.78l-6.374-36.198-6.375-36.2-28.16 23.62-28.164 23.62 25.837 9.41C266.247 296.544 224 320.5 176.25 320.5c-77.47 0-140.5-63.03-140.5-140.5 0-77.472 63.03-140.5 140.5-140.5 53.428 0 99.98 29.978 123.733 73.993l13.304-6.923C287.025 57.76 235.45 24.5 176.25 24.5c-85.743 0-155.5 69.757-155.5 155.5 0 85.742 69.757 155.5 155.5 155.5 54.253 0 102.09-27.94 129.922-70.177l28.71 10.457z'/%3E%3Cpath fill='%23FFF' d='M314.492 175.167c-12.98 0-23.54-10.56-23.54-23.54s10.56-23.54 23.54-23.54c12.98 0 23.54 10.56 23.54 23.54s-10.56 23.54-23.54 23.54zm0-38.08c-8.018 0-14.54 6.522-14.54 14.54s6.522 14.54 14.54 14.54c8.017 0 14.54-6.522 14.54-14.54s-6.523-14.54-14.54-14.54z'/%3E%3Cg fill='%23FFF'%3E%3Cpath d='M88.76 173.102h9.395c4.74-.042 8.495-1.27 11.268-3.682 2.77-2.412 4.157-5.903 4.157-10.474 0-4.4-1.153-7.817-3.46-10.25-2.307-2.434-5.83-3.65-10.568-3.65-4.147 0-7.554 1.195-10.22 3.585-2.666 2.392-4 5.514-4 9.364H69.908c0-4.74 1.26-9.055 3.776-12.95 2.518-3.892 6.03-6.928 10.537-9.108 4.508-2.18 9.554-3.27 15.14-3.27 9.225 0 16.472 2.318 21.74 6.952 5.27 4.634 7.903 11.077 7.903 19.33 0 4.147-1.323 8.05-3.967 11.71-2.646 3.66-6.062 6.422-10.252 8.284 5.078 1.736 8.94 4.465 11.584 8.19s3.968 8.166 3.968 13.33c0 8.294-2.847 14.895-8.538 19.804s-13.17 7.363-22.438 7.363c-8.887 0-16.166-2.37-21.836-7.11-5.67-4.74-8.506-11.045-8.506-18.916h15.425c0 4.062 1.365 7.363 4.094 9.902 2.73 2.54 6.4 3.81 11.014 3.81 4.782 0 8.55-1.27 11.3-3.81s4.126-6.22 4.126-11.045c0-4.865-1.44-8.61-4.316-11.235-2.878-2.623-7.152-3.936-12.822-3.936H88.76V173.1zM187.598 133.493v12.76h-1.904c-8.633.126-15.53 2.497-20.693 7.108-5.162 4.614-8.23 11.152-9.203 19.615 4.95-5.205 11.277-7.808 18.98-7.808 8.166 0 14.608 2.878 19.328 8.633 4.718 5.755 7.077 13.182 7.077 22.28 0 9.395-2.76 17.002-8.284 22.82-5.52 5.818-12.77 8.73-21.74 8.73-9.226 0-16.705-3.407-22.44-10.222-5.733-6.812-8.6-15.742-8.6-26.787v-5.267c0-16.208 3.945-28.903 11.84-38.086 7.89-9.182 19.242-13.774 34.054-13.774h1.586zM171.03 177.61c-3.386 0-6.485.95-9.3 2.855-2.814 1.904-4.877 4.443-6.188 7.617v4.697c0 6.854 1.438 12.304 4.316 16.345 2.877 4.04 6.602 6.062 11.172 6.062s8.188-1.715 10.854-5.143 4-7.934 4-13.52-1.355-10.135-4.063-13.648c-2.708-3.51-6.304-5.267-10.79-5.267zM271.136 187.447c0 13.29-2.486 23.307-7.46 30.057s-12.535 10.125-22.69 10.125c-9.988 0-17.51-3.292-22.566-9.872-5.058-6.58-7.65-16.323-7.776-29.23V172.53c0-13.287 2.485-23.252 7.458-29.896 4.973-6.643 12.558-9.966 22.757-9.966 10.112 0 17.655 3.237 22.63 9.712 4.97 6.475 7.52 16.166 7.647 29.072v15.995zm-15.425-17.265c0-8.674-1.185-15.033-3.554-19.075-2.37-4.04-6.137-6.062-11.3-6.062-5.035 0-8.738 1.915-11.107 5.745-2.37 3.83-3.62 9.807-3.746 17.932v20.948c0 8.633 1.206 15.064 3.618 19.297s6.2 6.348 11.362 6.348c4.95 0 8.61-1.957 10.98-5.87 2.37-3.915 3.62-10.04 3.746-18.378v-20.885z'/%3E%3C/g%3E%3C/svg%3E\");background-size:contain;background-color:rgba(0,0,0,.5)}.video-js .vjs-big-vr-play-button .vjs-icon-placeholder{display:none}:hover.video-js .vjs-big-vr-play-button{-webkit-transition:border-color .4s,outline .4s,background-color .4s;-moz-transition:border-color .4s,outline .4s,background-color .4s;-ms-transition:border-color .4s,outline .4s,background-color .4s;-o-transition:border-color .4s,outline .4s,background-color .4s;transition:border-color .4s,outline .4s,background-color .4s}.video-js .vjs-big-vr-play-button::before{content:\"\"}.video-js canvas{cursor:move}.video-js .vjs-button-vr .vjs-icon-placeholder{height:30px;width:30px;display:inline-block;background:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMjAuNzQgNkgzLjIxQzIuNTUgNiAyIDYuNTcgMiA3LjI4djEwLjQ0YzAgLjcuNTUgMS4yOCAxLjIzIDEuMjhoNC43OWMuNTIgMCAuOTYtLjMzIDEuMTQtLjc5bDEuNC0zLjQ4Yy4yMy0uNTkuNzktMS4wMSAxLjQ0LTEuMDFzMS4yMS40MiAxLjQ1IDEuMDFsMS4zOSAzLjQ4Yy4xOS40Ni42My43OSAxLjExLjc5aDQuNzljLjcxIDAgMS4yNi0uNTcgMS4yNi0xLjI4VjcuMjhjMC0uNy0uNTUtMS4yOC0xLjI2LTEuMjh6TTcuNSAxNC42MmMtMS4xNyAwLTIuMTMtLjk1LTIuMTMtMi4xMiAwLTEuMTcuOTYtMi4xMyAyLjEzLTIuMTMgMS4xOCAwIDIuMTIuOTYgMi4xMiAyLjEzcy0uOTUgMi4xMi0yLjEyIDIuMTJ6bTkgMGMtMS4xNyAwLTIuMTMtLjk1LTIuMTMtMi4xMiAwLTEuMTcuOTYtMi4xMyAyLjEzLTIuMTNzMi4xMi45NiAyLjEyIDIuMTMtLjk1IDIuMTItMi4xMiAyLjEyeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgyNHYyNEgwVjB6Ii8+Cjwvc3ZnPgo=) no-repeat left center}/*! @name videojs-logo @version 2.1.6 @license MIT */.video-js.vjs-logo{display:block}.video-js.vjs-logo .vjs-logo-content{position:absolute;opacity:1;transition:visibility 2s,opacity 2s}.video-js.vjs-logo .vjs-logo-content.vjs-logo-hide{visibility:hidden;opacity:0}.video-js .vjs-upnext-content{font-size:1.8em;font-family:\"Helvetica Neue\",Helvetica,Arial,sans-serif;pointer-events:auto;position:absolute;top:0;bottom:0;background:rgba(0,0,0,.6);width:100%;-webkit-transition:opacity .1s;-moz-transition:opacity .1s;-o-transition:opacity .1s;transition:opacity .1s}.video-js .vjs-upnext-top{width:100%;position:absolute;margin-left:auto;margin-right:auto;bottom:50%;margin-bottom:60px}.video-js .vjs-upnext-bottom{width:100%;position:absolute;margin-left:auto;margin-right:auto;top:50%;margin-top:52px}.video-js .vjs-upnext-cancel{display:block;float:none;text-align:center}.video-js .vjs-upnext-headtext{display:block;font-size:14px;text-align:center;padding-bottom:7px}.video-js .vjs-upnext-title{display:block;padding:10px 10px 2px;text-align:center;font-size:22px;font-weight:600;overflow:hidden;white-space:nowrap;word-wrap:normal;-o-text-overflow:ellipsis;text-overflow:ellipsis}.video-js .vjs-upnext-cancel-button{cursor:pointer;display:inline-block;float:none;padding:10px!important;font-size:16px!important;border:none}.video-js .vjs-upnext-cancel-button,.video-js .vjs-upnext-cancel-button:focus{outline:0}.video-js .vjs-upnext-cancel-button:hover{background-color:rgba(255,255,255,.25);border-radius:2px}.video-js.vjs-no-flex .vjs-upnext-content{padding-bottom:1em}.video-js .vjs-upnext-autoplay-icon{position:absolute;top:50%;left:50%;width:98px;height:98px;margin:-49px 0 0 -49px;-moz-transition:all .1s cubic-bezier(.4,0,1,1);-webkit-transition:all .1s cubic-bezier(.4,0,1,1);transition:all .1s cubic-bezier(.4,0,1,1);cursor:pointer}.video-js.vjs-upnext--showing{pointer-events:none}@-webkit-keyframes ytp-bezel-fadeout{0%{opacity:1}to{opacity:0;-webkit-transform:scale(2);transform:scale(2)}}@keyframes ytp-bezel-fadeout{0%{opacity:1}to{opacity:0;-webkit-transform:scale(2);transform:scale(2)}}@font-face{font-family:videojs-extend-icons;src:url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAZwAAsAAAAABiQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIFx2NtYXAAAAFoAAAAVAAAAFQXVtKKZ2FzcAAAAbwAAAAIAAAACAAAABBnbHlmAAABxAAAAXwAAAF8N8/aOmhlYWQAAANAAAAANgAAADYW1wqxaGhlYQAAA3gAAAAkAAAAJAdVA8lobXR4AAADnAAAACAAAAAgFgACHGxvY2EAAAO8AAAAEgAAABIBeAEqbWF4cAAAA9AAAAAgAAAAIAALADZuYW1lAAAD8AAAAl4AAAJeAg5g6XBvc3QAAAZQAAAAIAAAACAAAwAAAAMDmgGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6QMDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADgAAAAKAAgAAgACAAEAIOkD//3//wAAAAAAIOkA//3//wAB/+MXBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAgCr/+sDVQOVABkAMwAAATUHFzUyFx4BFxYVFAYHFz4BNTQnLgEnJiMRIicuAScmNTQ2NycOARUUFx4BFxYzFTcnFQIAq6s1Ly5GFBQPDz4ZHBobXT4+RzUvLkYUFA8PPhkcGhtdPj5Hq6sDFYCqq4AUFEYuLzUgPRo/KFwyRz4+XRsa/asUFEYuLzUgPRo/KFwyRz4+XRsagKqrgAAAAAIAgAAVA4ADawAJABMAAAEhFTcnFSERMzUBITUHFzUhESMVASsBqqur/gBWAar+VqurAgBWApWAq6uA/wCq/laAq6uAAQCqAAIAbQCmA5MC2gADAAcAACUhESEBIREhA5P82gMm/SsChP18pgI0/h0BkgAAAgCEANIDfAKuAAMABwAAJSERIQEhESEDfP0IAvj9ZwI6/cbSAdz+hAEdAAABAAAAAQAAEkPKiV8PPPUACwQAAAAAANoSYxoAAAAA2hJjGgAA/+sDkwOVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOTAAEAAAAAAAAAAAAAAAAAAAAIBAAAAAAAAAAAAAAAAgAAAAQAAKsEAACABAAAbQQAAIQAAAAAAAoAFAAeAG4AkgCoAL4AAAABAAAACAA0AAIAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEAGQAAAAEAAAAAAAIABwECAAEAAAAAAAMAGQBsAAEAAAAAAAQAGQEXAAEAAAAAAAUACwBLAAEAAAAAAAYAGQC3AAEAAAAAAAoAGgFiAAMAAQQJAAEAMgAZAAMAAQQJAAIADgEJAAMAAQQJAAMAMgCFAAMAAQQJAAQAMgEwAAMAAQQJAAUAFgBWAAMAAQQJAAYAMgDQAAMAAQQJAAoANAF8ZmlsdGVyYnlwYXNzLXBsYXllci1pY29ucwBmAGkAbAB0AGUAcgBiAHkAcABhAHMAcwAtAHAAbABhAHkAZQByAC0AaQBjAG8AbgBzVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwZmlsdGVyYnlwYXNzLXBsYXllci1pY29ucwBmAGkAbAB0AGUAcgBiAHkAcABhAHMAcwAtAHAAbABhAHkAZQByAC0AaQBjAG8AbgBzZmlsdGVyYnlwYXNzLXBsYXllci1pY29ucwBmAGkAbAB0AGUAcgBiAHkAcABhAHMAcwAtAHAAbABhAHkAZQByAC0AaQBjAG8AbgBzUmVndWxhcgBSAGUAZwB1AGwAYQByZmlsdGVyYnlwYXNzLXBsYXllci1pY29ucwBmAGkAbAB0AGUAcgBiAHkAcABhAHMAcwAtAHAAbABhAHkAZQByAC0AaQBjAG8AbgBzRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==) format('woff');font-weight:400;font-style:normal;font-display:block}.video-js{font-size:12px}.video-js.vjs-fullscreen{font-size:17px}.video-js.vjs-fullscreen .vjs-control-bar{font-size:109%;padding:44px 24px 0}.vjs-menu .vjs-menu-content{font-family:Roboto,Arial,Helvetica,sans-serif}.video-js .vjs-big-play-button,.vjs-big-play-centered .vjs-big-play-button{top:50%;left:50%;width:1.4em;height:1.4em;margin-top:-.7em;margin-left:-.7em;font-size:7em;line-height:1.34em;color:var(--primary-color);border:none;border-radius:50%;outline:0}.video-js .vjs-big-play-button:focus,.video-js .vjs-big-play-button:hover,.video-js:hover .vjs-big-play-button{border:none;color:var(--big-button-border);border-color:var(--big-button-border);background-color:#2b333f;background-color:rgba(43,51,63,.5);transition:all 0s}.vjs-mobile-view.video-js.vjs-has-started .vjs-big-play-button{width:56px;height:56px;margin-left:-26px;margin-top:-26px;font-size:5em;line-height:60px;background:0 0;-webkit-animation:none;animation:none;pointer-events:auto}.vjs-mobile-view.video-js.vjs-has-started .vjs-big-play-button:focus,.vjs-mobile-view.video-js.vjs-has-started .vjs-big-play-button:hover,.vjs-mobile-view.video-js.vjs-has-started:hover .vjs-big-play-button{background:0 0}.vjs-mobile-view.video-js.vjs-has-started .vjs-big-play-button .vjs-icon-placeholder{width:48px;height:48px;margin:8px}.vjs-mobile-view.video-js.vjs-has-started.vjs-paused .vjs-big-play-button .vjs-icon-placeholder,.vjs-mobile-view.video-js.vjs-has-started.vjs-playing .vjs-big-play-button .vjs-icon-placeholder{background-image:none}.vjs-mobile-view.video-js.vjs-has-started .vjs-big-play-button .vjs-icon-placeholder::before{content:\"\\f103\"}.vjs-mobile-view.video-js.vjs-has-started.vjs-paused .vjs-big-play-button .vjs-icon-placeholder::before{content:\"\\f101\"}.vjs-mobile-view.video-js.vjs-has-started.vjs-user-active .vjs-big-play-button{display:block}.vjs-mobile-view.video-js.vjs-has-started.vjs-user-inactive .vjs-big-play-button{display:none}.vjs-mobile-view.video-js.vjs-has-started.vjs-paused .vjs-big-play-button,.vjs-mobile-view.video-js.vjs-has-started.vjs-paused div.vjs-setting-button,.vjs-mobile-view.video-js.vjs-has-started.vjs-user-active div.vjs-setting-button{display:block}.vjs-mobile-view.video-js.vjs-waiting .vjs-big-play-button{display:none!important}.video-js.vjs-has-started.vjs-playing.vjs-user-inactive{cursor:none}.video-js.vjs-has-started .vjs-big-play-button{width:52px;height:52px;z-index:19;margin-left:-26px;margin-top:-26px;border:0;background:rgba(0,0,0,.5);-webkit-animation:ytp-bezel-fadeout .5s linear 1 normal forwards;animation:ytp-bezel-fadeout .5s linear 1 normal forwards;pointer-events:none}.video-js.vjs-has-started .vjs-big-play-button .vjs-icon-placeholder::before{content:\"\"}.video-js.vjs-has-started .vjs-big-play-button:focus,.video-js.vjs-has-started .vjs-big-play-button:hover,.video-js.vjs-has-started:hover .vjs-big-play-button{background:rgba(0,0,0,.5);background-image:none}.vjs-has-started .vjs-big-play-button.bezel-icon-show{display:block;opacity:1}.vjs-has-started .vjs-big-play-button.bezel-icon-hide{display:none}.video-js.vjs-has-started .vjs-big-play-button .vjs-icon-placeholder{height:42px;margin-left:7px;display:block;fill:#fff;background-size:contain;background-repeat:no-repeat}.video-js.vjs-has-started.vjs-playing .vjs-big-play-button .vjs-icon-placeholder{margin-left:7px;background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' height='100%25' viewBox='0 0 36 36' width='100%25'%3E%3Cpath fill='%23fff' d='M 12,26 18.5,22 18.5,14 12,10 z M 18.5,22 25,18 25,18 18.5,14 z' id='vidl-id-99'%3E%3C/path%3E%3C/svg%3E\")}.video-js.vjs-has-started.vjs-paused .vjs-big-play-button .vjs-icon-placeholder{margin-left:4px;background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' height='100%25' viewBox='0 0 36 36' width='100%25'%3E%3Cpath fill='%23fff' d='M 12,26 16,26 16,10 12,10 z M 21,26 25,26 25,10 21,10 z' id='vidl-id-74'%3E%3C/path%3E%3C/svg%3E\")}.video-js.vjs-has-started .vjs-big-play-button.volume-icon-show .vjs-icon-placeholder{background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' height='100%25' viewBox='0 0 36 36' width='100%25'%3E%3Cstyle%3E .vidl-svg-shadow %7B stroke: %23000; stroke-opacity: .15; stroke-width: 2px; fill: none; %7D .vidl-svg-fill %7B fill: %23fff; %7D %3C/style%3E%3Cuse class='vidl-svg-shadow' xlink:href='%23vidl-id-71'%3E%3C/use%3E%3Cpath d='M8,21 L12,21 L17,26 L17,10 L12,15 L8,15 L8,21 Z M19,14 L19,22 C20.48,21.32 21.5,19.77 21.5,18 C21.5,16.26 20.48,14.74 19,14 Z M19,11.29 C21.89,12.15 24,14.83 24,18 C24,21.17 21.89,23.85 19,24.71 L19,26.77 C23.01,25.86 26,22.28 26,18 C26,13.72 23.01,10.14 19,9.23 L19,11.29 Z' fill='%23fff' id='vidl-id-71'%3E%3C/path%3E%3C/svg%3E\")}.video-js.vjs-has-started .vjs-big-play-button.volume-down-icon-show .vjs-icon-placeholder{background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' height='100%25' viewBox='0 0 36 36' width='100%25'%3E%3Cstyle%3E .vidl-svg-shadow %7B stroke: %23000; stroke-opacity: .15; stroke-width: 2px; fill: none; %7D .vidl-svg-fill %7B fill: %23fff; %7D %3C/style%3E%3Cuse class='vidl-svg-shadow' xlink:href='%23vidl-id-637'%3E%3C/use%3E%3Cpath d='M8,21 L12,21 L17,26 L17,10 L12,15 L8,15 L8,21 Z M19,14 L19,22 C20.48,21.32 21.5,19.77 21.5,18 C21.5,16.26 20.48,14.74 19,14 Z' fill='%23fff' id='vidl-id-637'%3E%3C/path%3E%3C/svg%3E\")}.video-js.vjs-has-started .vjs-big-play-button.mute-icon-show .vjs-icon-placeholder{background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' height='100%25' viewBox='0 0 36 36' width='100%25'%3E%3Cstyle%3E .vidl-svg-shadow %7B stroke: %23000; stroke-opacity: .15; stroke-width: 2px; fill: none; %7D .vidl-svg-fill %7B fill: %23fff; %7D %3C/style%3E%3Cuse class='vidl-svg-shadow' xlink:href='%23vidl-id-90'%3E%3C/use%3E%3Cpath class='vidl-svg-fill' d='m 21.48,17.98 c 0,-1.77 -1.02,-3.29 -2.5,-4.03 v 2.21 l 2.45,2.45 c .03,-0.2 .05,-0.41 .05,-0.63 z m 2.5,0 c 0,.94 -0.2,1.82 -0.54,2.64 l 1.51,1.51 c .66,-1.24 1.03,-2.65 1.03,-4.15 0,-4.28 -2.99,-7.86 -7,-8.76 v 2.05 c 2.89,.86 5,3.54 5,6.71 z M 9.25,8.98 l -1.27,1.26 4.72,4.73 H 7.98 v 6 H 11.98 l 5,5 v -6.73 l 4.25,4.25 c -0.67,.52 -1.42,.93 -2.25,1.18 v 2.06 c 1.38,-0.31 2.63,-0.95 3.69,-1.81 l 2.04,2.05 1.27,-1.27 -9,-9 -7.72,-7.72 z m 7.72,.99 -2.09,2.08 2.09,2.09 V 9.98 z' id='vidl-id-90'%3E%3C/path%3E%3C/svg%3E\")}.video-js.vjs-has-started .vjs-big-play-button.subtitle-icon-show .vjs-icon-placeholder{background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' height='100%25' viewBox='0 0 36 36' width='100%25'%3E%3Cstyle%3E .vidl-svg-shadow %7B stroke: %23000; stroke-opacity: .15; stroke-width: 2px; fill: none; %7D .vidl-svg-fill %7B fill: %23fff; %7D %3C/style%3E%3Cuse class='vidl-svg-shadow' xlink:href='%23vidl-id-380'%3E%3C/use%3E%3Cpath d='M11,11 C9.9,11 9,11.9 9,13 L9,23 C9,24.1 9.9,25 11,25 L25,25 C26.1,25 27,24.1 27,23 L27,13 C27,11.9 26.1,11 25,11 L11,11 Z M11,17 L14,17 L14,19 L11,19 L11,17 L11,17 Z M20,23 L11,23 L11,21 L20,21 L20,23 L20,23 Z M25,23 L22,23 L22,21 L25,21 L25,23 L25,23 Z M25,19 L16,19 L16,17 L25,17 L25,19 L25,19 Z' fill='%23fff' id='vidl-id-380'%3E%3C/path%3E%3C/svg%3E\")}.video-js.vjs-has-started .vjs-big-play-button.rewind-icon-show .vjs-icon-placeholder{background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' height='100%25' viewBox='0 0 36 36' width='100%25'%3E%3Cstyle%3E .vidl-svg-shadow %7B stroke: %23000; stroke-opacity: .15; stroke-width: 2px; fill: none; %7D .vidl-svg-fill %7B fill: %23fff; %7D %3C/style%3E%3Cuse class='vidl-svg-shadow' xlink:href='%23vidl-id-517'%3E%3C/use%3E%3Cpath class='vidl-svg-fill' d='M 18,11 V 7 l -5,5 5,5 v -4 c 3.3,0 6,2.7 6,6 0,3.3 -2.7,6 -6,6 -3.3,0 -6,-2.7 -6,-6 h -2 c 0,4.4 3.6,8 8,8 4.4,0 8,-3.6 8,-8 0,-4.4 -3.6,-8 -8,-8 z m -1.3,8.9 .2,-2.2 h 2.4 v .7 h -1.7 l -0.1,.9 c 0,0 .1,0 .1,-0.1 0,-0.1 .1,0 .1,-0.1 0,-0.1 .1,0 .2,0 h .2 c .2,0 .4,0 .5,.1 .1,.1 .3,.2 .4,.3 .1,.1 .2,.3 .3,.5 .1,.2 .1,.4 .1,.6 0,.2 0,.4 -0.1,.5 -0.1,.1 -0.1,.3 -0.3,.5 -0.2,.2 -0.3,.2 -0.4,.3 C 18.5,22 18.2,22 18,22 17.8,22 17.6,22 17.5,21.9 17.4,21.8 17.2,21.8 17,21.7 16.8,21.6 16.8,21.5 16.7,21.3 16.6,21.1 16.6,21 16.6,20.8 h .8 c 0,.2 .1,.3 .2,.4 .1,.1 .2,.1 .4,.1 .1,0 .2,0 .3,-0.1 L 18.5,21 c 0,0 .1,-0.2 .1,-0.3 v -0.6 l -0.1,-0.2 -0.2,-0.2 c 0,0 -0.2,-0.1 -0.3,-0.1 h -0.2 c 0,0 -0.1,0 -0.2,.1 -0.1,.1 -0.1,0 -0.1,.1 0,.1 -0.1,.1 -0.1,.1 h -0.7 z' id='vidl-id-517'%3E%3C/path%3E%3C/svg%3E\")}.video-js.vjs-has-started .vjs-big-play-button.forward-icon-show .vjs-icon-placeholder{background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' height='100%25' viewBox='0 0 36 36' width='100%25'%3E%3Cstyle%3E .vidl-svg-shadow %7B stroke: %23000; stroke-opacity: .15; stroke-width: 2px; fill: none; %7D .vidl-svg-fill %7B fill: %23fff; %7D %3C/style%3E%3Cuse class='vidl-svg-shadow' xlink:href='%23vidl-id-577'%3E%3C/use%3E%3Cpath class='vidl-svg-fill' d='m 10,19 c 0,4.4 3.6,8 8,8 4.4,0 8,-3.6 8,-8 h -2 c 0,3.3 -2.7,6 -6,6 -3.3,0 -6,-2.7 -6,-6 0,-3.3 2.7,-6 6,-6 v 4 l 5,-5 -5,-5 v 4 c -4.4,0 -8,3.6 -8,8 z m 6.7,.9 .2,-2.2 h 2.4 v .7 h -1.7 l -0.1,.9 c 0,0 .1,0 .1,-0.1 0,-0.1 .1,0 .1,-0.1 0,-0.1 .1,0 .2,0 h .2 c .2,0 .4,0 .5,.1 .1,.1 .3,.2 .4,.3 .1,.1 .2,.3 .3,.5 .1,.2 .1,.4 .1,.6 0,.2 0,.4 -0.1,.5 -0.1,.1 -0.1,.3 -0.3,.5 -0.2,.2 -0.3,.2 -0.5,.3 C 18.3,22 18.1,22 17.9,22 17.7,22 17.5,22 17.4,21.9 17.3,21.8 17.1,21.8 16.9,21.7 16.7,21.6 16.7,21.5 16.6,21.3 16.5,21.1 16.5,21 16.5,20.8 h .8 c 0,.2 .1,.3 .2,.4 .1,.1 .2,.1 .4,.1 .1,0 .2,0 .3,-0.1 L 18.4,21 c 0,0 .1,-0.2 .1,-0.3 v -0.6 l -0.1,-0.2 -0.2,-0.2 c 0,0 -0.2,-0.1 -0.3,-0.1 h -0.2 c 0,0 -0.1,0 -0.2,.1 -0.1,.1 -0.1,0 -0.1,.1 0,.1 -0.1,.1 -0.1,.1 h -0.6 z' id='vidl-id-577'%3E%3C/path%3E%3C/svg%3E\")}.video-js .vjs-control{width:3em}.video-js .vjs-play-control{width:3.833em}.video-js .vjs-control-bar{background-color:transparent;height:98px;padding:62px 12px 0;background-repeat:repeat-x;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==);background-position:bottom;transition:opacity .25s cubic-bezier(0,0,.2,1)}.video-js .vjs-control:focus,.video-js .vjs-control:focus::before,.video-js .vjs-control:hover::before{text-shadow:none;outline:0}.video-js .vjs-volume-level::before{font-size:1.25em}.vjs-slider-horizontal .vjs-volume-level::before{top:-.4em}.vjs-slider-horizontal .vjs-volume-level,.vjs-volume-bar.vjs-slider-horizontal{height:.25em}.video-js .vjs-volume-bar{margin:1.35em .1em}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:active{width:9em}.video-js .vjs-audio-button,.video-js .vjs-captions-button,.video-js .vjs-chapters-button,.video-js .vjs-playback-rate,.video-js .vjs-subs-caps-button{display:none}.video-js .vjs-control-bar .vjs-button .vjs-control-text{visibility:hidden;clip:auto;width:auto;height:25px;line-height:25px;padding:0 10px;color:#fff;top:-39px;left:-8px;border-radius:2px;background-color:rgba(28,28,28,.9);white-space:nowrap;position:absolute;z-index:1}.video-js .vjs-control-bar .vjs-picture-in-picture-control .vjs-control-text{left:-38px}.video-js .vjs-control-bar .vjs-play-control .vjs-control-text{left:0}.video-js .vjs-control-bar .vjs-volume-panel .vjs-mute-control .vjs-control-text{left:-18px}.video-js .vjs-control-bar .vjs-volume-panel .vjs-mute-control.vjs-vol-0 .vjs-control-text{left:-25px}.video-js .vjs-control-bar .vjs-subtitle-control .vjs-control-text{left:-64px}.video-js .vjs-control-bar .vjs-setting-button .vjs-control-text{left:-14px}.video-js .vjs-control-bar .vjs-pip-button .vjs-control-text{left:-24px}.video-js .vjs-control-bar .vjs-expand-control .vjs-control-text{left:-41px}.video-js .vjs-control-bar .vjs-expand-control.vjs-on .vjs-control-text{left:-35px}.video-js .vjs-control-bar .vjs-fullscreen-control .vjs-control-text{left:-59px}.video-js.vjs-fullscreen .vjs-control-bar .vjs-fullscreen-control .vjs-control-text{left:-110px}.video-js .vjs-control-bar .vjs-button:hover .vjs-control-text{visibility:visible}.video-js .vjs-progress-control{position:absolute;top:auto;left:0;margin:0;padding-top:1.083em;width:100%;height:1.333em;-webkit-transform:translate(0,-100%);transform:translate(0,-100%)}.video-js .vjs-progress-control .vjs-progress-holder{margin:0 12px}.video-js.vjs-fullscreen .vjs-progress-control .vjs-progress-holder{margin:0 24px}.video-js .vjs-progress-holder{height:.3em}.video-js .vjs-play-progress{background-color:var(--play-progress)}.video-js .vjs-play-progress::before{display:none;color:var(--play-progress)}.vjs-progress-holder,.vjs-progress-holder .vjs-load-progress,.vjs-progress-holder .vjs-load-progress .vjs-control-text div,.vjs-progress-holder .vjs-load-progress div,.vjs-progress-holder .vjs-mouse-display,.vjs-progress-holder .vjs-play-progress{border-radius:100px}.video-js .vjs-progress-control:hover .vjs-progress-holder .vjs-play-progress::before{display:block;font-size:.7em}.video-js .vjs-load-progress,.video-js .vjs-load-progress div{background-color:rgba(255,255,255,.4)}.video-js .vjs-slider{background-color:rgba(255,255,255,.2)}.video-js .vjs-fullscreen-control::before,.video-js .vjs-play-control::before{font-size:2.3em;line-height:1.33}.video-js .vjs-time-tooltip{font-family:Roboto,Arial,Helvetica,sans-serif;padding:6px 8px;border-radius:.167em}.vjs-mouse-display{top:-10px}.video-js .vjs-progress-control:hover .vjs-play-progress.vjs-slider-bar .vjs-time-tooltip,.video-js .vjs-progress-control:hover .vjs-progress-holder:focus .vjs-play-progress.vjs-slider-bar .vjs-time-tooltip{display:none;visibility:hidden}.vjs-mobile-view.video-js .vjs-control-bar{padding:50px 12px 0}.vjs-mobile-view.video-js .vjs-control-bar .vjs-expand-control,.vjs-mobile-view.video-js .vjs-control-bar .vjs-picture-in-picture-control,.vjs-mobile-view.video-js .vjs-control-bar .vjs-pip-button,.vjs-mobile-view.video-js .vjs-control-bar .vjs-play-control,.vjs-mobile-view.video-js .vjs-control-bar .vjs-remaining-time,.vjs-mobile-view.video-js .vjs-control-bar .vjs-subtitle-control,.vjs-mobile-view.video-js .vjs-control-bar .vjs-volume-panel,.vjs-mobile-view.video-js div.vjs-setting-button{display:none}.vjs-mobile-view.video-js .vjs-progress-control{position:relative;padding-top:0;width:100%;height:100%;-webkit-transform:none;transform:none}.vjs-mobile-view.video-js .vjs-time-control{line-height:48px}.vjs-mobile-view.video-js .vjs-current-time{color:#fff}.vjs-mobile-view.video-js .vjs-duration,.vjs-mobile-view.video-js .vjs-time-divider{color:#fff;opacity:.7}.vjs-mobile-view.video-js .vjs-duration{padding-right:.306em}.vjs-mobile-view.video-js .vjs-progress-holder{height:.167em}.vjs-mobile-view.video-js .vjs-play-progress::before{display:block;font-size:1.3em;top:-.417em}.vjs-mobile-view.video-js .vjs-progress-control:hover .vjs-progress-holder .vjs-play-progress::before{display:inherit;font-size:inherit}.vjs-mobile-view.video-js div.vjs-setting-button{position:absolute;top:3px;right:3px;height:48px;width:48px}.vjs-mobile-view.video-js .vjs-setting-button .vjs-setting-button{height:48px;width:48px}.vjs-mobile-view.video-js .vjs-setting-button .vjs-icon-placeholder{height:48px}.vjs-mobile-view.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-current-time,.vjs-mobile-view.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-duration,.vjs-mobile-view.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-time-divider,.vjs-mobile-view.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-current-time,.vjs-mobile-view.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-duration,.vjs-mobile-view.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-time-divider,.vjs-mobile-view.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-current-time,.vjs-mobile-view.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-duration,.vjs-mobile-view.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-time-divider{display:block}.vjs-mobile-view.video-js .vjs-menu{font-size:14px;text-shadow:none}.vjs-mobile-view.video-js .vjs-menu.vjs-setting-menu{position:fixed;width:100%;height:100%;max-height:none;bottom:0;right:0}.vjs-mobile-view.video-js .vjs-setting-menu .vjs-menu-content{position:absolute;bottom:0;width:100%!important;color:#333;background-color:#fff;-webkit-transform:translateY(100%);transform:translateY(100%);transition:.3s transform ease,.3s height ease;transition:.3s transform ease,.3s height ease,.3s -webkit-transform ease}.vjs-mobile-view.video-js .vjs-setting-menu.vjs-lock-showing .vjs-menu-content{-webkit-transform:translateY(0);transform:translateY(0)}.vjs-mobile-view.video-js .vjs-setting-menu-value{color:inherit}.vjs-mobile-view.video-js .vjs-menu .vjs-menu-content .vjs-menu-item.vjs-setting-menu-item{width:auto}.video-js.vjs-mobile-view.vjs-fullscreen .vjs-menu .vjs-menu-content{width:100%!important}.vjs-mobile-view.video-js .vjs-setting-menu-ready.vjs-setting-menu .vjs-menu-item .vjs-icon-placeholder,.vjs-settings-sub-menu-item>div{width:1em;margin-right:.5em}.vjs-context-menu-item span,.vjs-mobile-view.video-js .vjs-menu.vjs-setting-menu .vjs-menu-item .vjs-icon-placeholder{display:block}.vjs-mobile-view.video-js .vjs-menu li.vjs-selected,.vjs-mobile-view.video-js .vjs-menu li:focus,.vjs-mobile-view.video-js .vjs-menu li:hover{color:inherit}.vjs-icon-slow-motion-video{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-mobile-view.video-js .vjs-icon-slow-motion-video::before{content:\"\\f102\"}.vjs-mobile-view.video-js .vjs-setting-menu-ready .vjs-close-setting-menu{position:absolute;width:100%;height:100%;background-color:rgba(0,0,0,.7);opacity:0;transition:opacity .3s}.video-js .vjs-time-control{font-size:108.9%;display:inline-block;vertical-align:top;white-space:nowrap;line-height:35px;width:auto;text-shadow:0 0 2px rgba(0,0,0,.5)}.video-js .vjs-current-time{display:block;padding-right:0;padding-left:.382em;color:#eee}.video-js .vjs-time-divider{display:block;padding-right:.238em;padding-left:.238em;min-width:0;color:#ddd}.video-js .vjs-duration{display:block;padding-left:0;color:#ddd}.vjs-live .vjs-time-control{display:none}.video-js:not(.vjs-fullscreen).vjs-layout-huge .vjs-remaining-time,.video-js:not(.vjs-fullscreen).vjs-layout-large .vjs-remaining-time,.video-js:not(.vjs-fullscreen).vjs-layout-medium .vjs-remaining-time,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-remaining-time,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-remaining-time,.video-js:not(.vjs-fullscreen).vjs-layout-x-large .vjs-remaining-time,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-remaining-time{display:block}.video-js .vjs-remaining-time{flex-grow:1;padding:0;visibility:hidden;min-width:0}.video-js .vjs-remaining-time-display{display:none}.vjs-menu .vjs-menu-content{min-width:252px}.vjs-menu .vjs-menu-content .vjs-menu-item .vjs-menu-item-text{text-transform:capitalize}.vjs-context-menu{z-index:1000;border-radius:3px}.vjs-context-menu .vjs-close-context-menu{position:fixed;top:0;left:0;width:100%;height:100%;outline:0}.vjs-context-menu .vjs-menu-content{position:relative}.video-js .vjs-play-control .vjs-icon-placeholder::before,.vjs-context-menu-hide{display:none}.vjs-context-menu-item{display:flex;align-items:center}.vjs-context-menu-item .vjs-menu-item-text{margin-left:.5em}.vjs-context-menu-item:after{margin-right:0;margin-left:auto}.vjs-context-menu .vjs-menu-content{width:16.07143em}.video-js .vjs-play-control .vjs-icon-placeholder{height:36px;display:block;background-size:contain;background-repeat:no-repeat;margin-left:5px;background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' height='100%25' viewBox='0 0 36 36' width='100%25'%3E%3Cstyle%3E .ytp-svg-shadow %7B stroke: %23000; stroke-opacity: .15; stroke-width: 2px; fill: none; %7D .ytp-svg-fill %7B fill: %23fff; %7D %3C/style%3E%3Cuse class='ytp-svg-shadow' xlink:href='%23ytp-id-85'%3E%3C/use%3E%3Cpath class='ytp-svg-fill' d='M 12,26 18.5,22 18.5,14 12,10 z M 18.5,22 25,18 25,18 18.5,14 z' id='ytp-id-85'%3E%3C/path%3E%3C/svg%3E\")}.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder{background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' height='100%25' viewBox='0 0 36 36' width='100%25'%3E%3Cstyle%3E .ytp-svg-shadow %7B stroke: %23000; stroke-opacity: .15; stroke-width: 2px; fill: none; %7D .ytp-svg-fill %7B fill: %23fff; %7D %3C/style%3E%3Cuse class='ytp-svg-shadow' xlink:href='%23ytp-id-109'%3E%3C/use%3E%3Cpath class='ytp-svg-fill' d='M 12,26 16,26 16,10 12,10 z M 21,26 25,26 25,10 21,10 z' id='ytp-id-109'%3E%3C/path%3E%3C/svg%3E\")}.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder{background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' height='100%25' viewBox='0 0 36 36' width='100%25'%3E%3Cstyle%3E .ytp-svg-shadow %7B stroke: %23000; stroke-opacity: .15; stroke-width: 2px; fill: none; %7D .ytp-svg-fill %7B fill: %23fff; %7D %3C/style%3E%3Cuse class='ytp-svg-shadow' xlink:href='%23ytp-id-43'%3E%3C/use%3E%3Cpath class='ytp-svg-fill' d='M 18,11 V 7 l -5,5 5,5 v -4 c 3.3,0 6,2.7 6,6 0,3.3 -2.7,6 -6,6 -3.3,0 -6,-2.7 -6,-6 h -2 c 0,4.4 3.6,8 8,8 4.4,0 8,-3.6 8,-8 0,-4.4 -3.6,-8 -8,-8 z' id='ytp-id-43'%3E%3C/path%3E%3C/svg%3E\")}.video-js.vjs-fullscreen .vjs-expand-control .vjs-icon-placeholder,.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder,.video-js.vjs-fullscreen .vjs-pip-button .vjs-icon-picture-in-picture,.video-js.vjs-fullscreen .vjs-play-control .vjs-icon-placeholder,.video-js.vjs-fullscreen .vjs-setting-button .vjs-icon-placeholder,.video-js.vjs-fullscreen .vjs-subtitle-control .vjs-icon-placeholder{height:54px}.video-js.vjs-fullscreen .vjs-time-control{line-height:54px}.video-js .vjs-fullscreen-control .vjs-icon-placeholder::before{font-size:2.4em;line-height:1.2}.video-js .vjs-pip-button .vjs-icon-picture-in-picture{height:36px;display:block;background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' height='100%25' viewBox='0 0 36 36' width='100%25'%3E%3Cstyle%3E .ytp-svg-shadow %7B stroke: %23000; stroke-opacity: .15; stroke-width: 2px; fill: none; %7D .ytp-svg-fill %7B fill: %23fff; %7D %3C/style%3E%3Cuse class='ytp-svg-shadow' xlink:href='%23ytp-id-20'%3E%3C/use%3E%3Cpath d='M25,17 L17,17 L17,23 L25,23 L25,17 L25,17 Z M29,25 L29,10.98 C29,9.88 28.1,9 27,9 L9,9 C7.9,9 7,9.88 7,10.98 L7,25 C7,26.1 7.9,27 9,27 L27,27 C28.1,27 29,26.1 29,25 L29,25 Z M27,25.02 L9,25.02 L9,10.97 L27,10.97 L27,25.02 L27,25.02 Z' fill='%23fff' id='ytp-id-20'%3E%3C/path%3E%3C/svg%3E\");background-size:contain;background-repeat:no-repeat}.vjs-pip-player-wrapper{position:fixed;right:20px;bottom:10px;width:400px;z-index:1000;box-shadow:1px 1px 7px #666;background:#fff}.vjs-pip-player-wrapper .video-js,.vjs-pip-player-wrapper .vjs-pip-player{position:relative;z-index:1;width:100%;max-width:100%;height:225px;background-color:#000}.vjs-pip-player-dragzone{cursor:move}.vjs-pip-player-enabled .vjs-big-play-button{display:block!important}.video-js .vjs-exit-pip-button .vjs-control-text,.vjs-pip-player .vjs-control-bar,.vjs-pip-player .vjs-exit-pip-button .vjs-control-text,.vjs-pip-player-wrapper .vjs-pip-player .vjs-loading-spinner .vjs-control-text,.vjs-pip-player-wrapper .vjs-pip-player .vjs-loading-spinner:before{display:none}.video-js .vjs-exit-pip-button,.vjs-pip-player .vjs-exit-pip-button{position:absolute;top:.25em;right:.25em;width:1em;height:1em;color:#fff;z-index:10;font-size:1.2em;cursor:pointer;opacity:1;transition:.3s ease opacity}#videolyser-pip-player_html5_api,.vjs-pip-player-dragzone{position:absolute;top:0;left:0;width:100%;height:100%}.video-js .vjs-expand-control .vjs-icon-placeholder{font-family:videojs-extend-icons}.video-js .vjs-expand-control.vjs-off .vjs-icon-placeholder::before{content:\"\\e902\"}.video-js .vjs-expand-control.vjs-on .vjs-icon-placeholder::before{content:\"\\e903\"}.video-js .vjs-subtitle-control .vjs-icon-placeholder{height:36px;display:block;background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' height='100%25' viewBox='0 0 36 36' width='100%25'%3E%3Cstyle%3E .ytp-svg-shadow %7B stroke: %23000; stroke-opacity: .15; stroke-width: 2px; fill: none; %7D .ytp-svg-fill %7B fill: %23fff; %7D %3C/style%3E%3Cuse class='ytp-svg-shadow' xlink:href='%23ytp-id-16'%3E%3C/use%3E%3Cpath d='M11,11 C9.9,11 9,11.9 9,13 L9,23 C9,24.1 9.9,25 11,25 L25,25 C26.1,25 27,24.1 27,23 L27,13 C27,11.9 26.1,11 25,11 L11,11 Z M11,17 L14,17 L14,19 L11,19 L11,17 L11,17 Z M20,23 L11,23 L11,21 L20,21 L20,23 L20,23 Z M25,23 L22,23 L22,21 L25,21 L25,23 L25,23 Z M25,19 L16,19 L16,17 L25,17 L25,19 L25,19 Z' fill='%23fff' id='ytp-id-16'%3E%3C/path%3E%3C/svg%3E\");background-size:contain;background-repeat:no-repeat}.vjs-subtitle-control.vjs-on:after,.vjs-subtitle-control:after{transition:left .25s cubic-bezier(0,0,.2,1),width .25s cubic-bezier(0,0,.2,1)}.vjs-subtitle-control:after{content:'';display:block;position:absolute;height:2px;border-radius:2px;bottom:6px;background-color:var(--primary-color);cursor:pointer;width:0;left:18px}.vjs-subtitle-control.vjs-on:after{width:18px;left:9px}.video-js.vjs-fullscreen .vjs-subtitle-control:after{width:0;left:27px;height:3px;border-radius:3px;bottom:10px}.video-js.vjs-fullscreen .vjs-subtitle-control.vjs-on:after{width:27px;left:14px;height:3px}.vjs-icon-loop{font-family:videojs-extend-icons;font-weight:400;font-style:normal}.vjs-icon-loop::before{content:\"\\e900\"}.vjs-icon-about,.vjs-icon-cog,.vjs-setting-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-about::before{content:\"✽\";padding-bottom:.4em;display:block}.video-js .vjs-picture-in-picture-control .vjs-icon-placeholder:before,.vjs-icon-picture-in-picture-enter:before{background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' height='100%25' viewBox='0 0 36 36' width='100%25'%3E%3Cstyle%3E .vidl-svg-shadow %7B stroke: %23000; stroke-opacity: .15; stroke-width: 2px; fill: none; %7D .vidl-svg-fill %7B fill: %23fff; %7D %3C/style%3E%3Cuse class='vidl-svg-shadow' xlink:href='%23vidl-id-18'%3E%3C/use%3E%3Cpath d='M25,17 L17,17 L17,23 L25,23 L25,17 L25,17 Z M29,25 L29,10.98 C29,9.88 28.1,9 27,9 L9,9 C7.9,9 7,9.88 7,10.98 L7,25 C7,26.1 7.9,27 9,27 L27,27 C28.1,27 29,26.1 29,25 L29,25 Z M27,25.02 L9,25.02 L9,10.97 L27,10.97 L27,25.02 L27,25.02 Z' fill='%23fff' id='vidl-id-18'%3E%3C/path%3E%3C/svg%3E\");content:\"\"}.video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder:before,.vjs-icon-picture-in-picture-exit:before{background-image:none;content:\"\\f122\"}.vjs-icon-cog::before,.vjs-setting-button .vjs-icon-placeholder::before{content:\"\\f110\"}.vjs-setting-button .vjs-icon-placeholder::before{font-size:1.7em;position:relative;-webkit-transform:translateY(-.005em);transform:translateY(-.005em);display:block}.vjs-setting-button .vjs-icon-placeholder{display:block;-webkit-transform:rotate(0);transform:rotate(0);transition:.2s transform;transition:.2s transform,.2s -webkit-transform}.vjs-setting-button[aria-expanded=true] .vjs-icon-placeholder{-webkit-transform:rotate(30deg);transform:rotate(30deg)}.vjs-setting-menu{visibility:hidden;overflow-x:hidden;will-change:visibility;border-radius:3px}.vjs-setting-menu.vjs-lock-showing{visibility:visible}@media (max-width:480px){.vjs-setting-menu{position:fixed;width:100%;height:100%;background:0 0;text-shadow:none;box-shadow:none;transition:visibility 0s linear .3s}.vjs-setting-menu .vjs-menu-content{position:absolute;bottom:0;width:100%!important;color:#333;background-color:#fff;-webkit-transform:translateY(100%);transform:translateY(100%);transition:.3s transform ease,.3s height ease;transition:.3s transform ease,.3s height ease,.3s -webkit-transform ease}.vjs-setting-menu .vjs-menu-item{width:100%!important}.vjs-setting-menu.vjs-lock-showing{transition:visibility 0s linear 0s}.vjs-setting-menu.vjs-lock-showing .vjs-close-menu-layer{opacity:1}.vjs-setting-menu.vjs-lock-showing .vjs-menu-content{-webkit-transform:translateY(0);transform:translateY(0)}}.vjs-setting-menu::-webkit-scrollbar{width:0;background:0 0}.vjs-setting-menu .vjs-menu-content{will-change:transform,width,height;transition:.3s transform ease,.3s width ease,.3s height ease;transition:.3s transform ease,.3s width ease,.3s height ease,.3s -webkit-transform ease;overflow:hidden}.vjs-setting-menu .vjs-menu-item{display:flex;align-items:center}.vjs-menu.vjs-settings-sub-menu{bottom:0;right:0;overflow:hidden}.vjs-menu.vjs-settings-sub-menu.vjs-hidden{visibility:hidden;display:block!important}.vjs-setting-menu-item:after{content:'';width:.65em;height:.65em;display:inline-block;border-right:.15em solid;border-bottom:.15em solid;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.vjs-settings-sub-menu-item{width:100%}.vjs-settings-sub-menu-item>div::before{content:'';display:block;margin:auto}.vjs-menu-item.vjs-settings-sub-menu-title{background-color:transparent!important;border-bottom:1px solid rgba(255,255,255,.5);padding:.9em 1.669em}.vjs-menu-item.vjs-settings-sub-menu-title:after{content:'Hi, i am padding';visibility:hidden;display:block;height:6px;width:0}.vjs-menu-item.vjs-settings-sub-menu-title>div::before{width:.65em;height:.65em;border-left:.15em solid;border-bottom:.15em solid;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.vjs-menu-item.vjs-settings-sub-menu-title>div{order:0}.vjs-menu.vjs-setting-menu .vjs-menu-content .vjs-menu-item .vjs-menu-item-text{order:1}.vjs-menu.vjs-setting-menu .vjs-menu-content .vjs-menu-item .swatch-color{padding:0 3.22px;font-size:.8em;font-weight:500;color:var(--primary-color);order:2;z-index:1}.vjs-settings-sub-menu-option.vjs-selected>div::before{content:'';width:.425em;height:.85em;display:block;margin:-.2em auto auto;border-right:.15em solid;border-bottom:.15em solid;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.vjs-setting-onoff-item .vjs-onoff-button{width:2.16em;height:.96em;float:right;background-color:#ddd;border-radius:50px;position:relative}.vjs-setting-onoff-item .vjs-onoff-button::before{content:'';border-radius:50%;width:1.2em;height:1.2em;display:block;box-shadow:0 1px 6px rgba(0,0,0,.5);background:#fff;position:absolute;top:-.12em;-webkit-transform:translateX(0);transform:translateX(0);transition:.3s transform ease;transition:.3s transform ease,.3s -webkit-transform ease}.vjs-setting-onoff-item .vjs-cell{display:table-cell;vertical-align:middle}.vjs-setting-onoff-item .vjs-menu-item-text{float:left}.vjs-setting-onoff-item.vjs-active .vjs-onoff-button::before{-webkit-transform:translateX(.96em);transform:translateX(.96em)}.vjs-menu .vjs-menu-content .vjs-menu-item.vjs-setting-menu-item,.vjs-menu .vjs-menu-content .vjs-menu-item.vjs-setting-onoff-item,.vjs-menu .vjs-menu-content .vjs-menu-item.vjs-settings-sub-menu-item{width:19.433em}@media (min-width:481px){.vjs-menu.vjs-setting-menu{right:12px;bottom:calc(2.5em + 15px);z-index:1;max-height:calc(90% - 2.5em);overflow-y:auto}.vjs-menu.vjs-setting-menu .vjs-menu-item .vjs-icon-placeholder{display:none}.vjs-settings-sub-menu-item{padding-right:1.5em!important}.vjs-menu-item.vjs-settings-sub-menu-title{margin-bottom:.3em}.vjs-setting-menu-value{text-align:right;padding-right:.8em;font-size:1em;opacity:.9;color:#eee}}@media (max-width:480px){.vjs-setting-menu-ready.vjs-setting-menu{max-height:none;right:0;bottom:0;z-index:1000}.vjs-setting-menu-ready.vjs-setting-menu .vjs-menu-item .vjs-icon-placeholder{width:1em;margin-right:.5em}.vjs-setting-menu-ready .vjs-close-setting-menu{position:absolute;width:100%;height:100%;background-color:rgba(0,0,0,.7);opacity:0;transition:opacity .3s}.vjs-setting-menu-ready .vjs-setting-menu-value{padding-right:.8em}}.vjs-setting-button.hd-quality-badge .vjs-setting-button::after,.vjs-setting-button.uhd-quality-badge .vjs-setting-button::after{content:'';position:absolute;top:10px;height:9px;width:13px;background-color:var(--play-progress);border-radius:1px;line-height:normal;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTAwJSIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMTMgOSIgd2lkdGg9IjEwMCUiPjxwYXRoIGQ9Ik01LDcgTDYsNyBMNiw4IEw1LDggTDUsNyBaIE0xMCwzIEwxMCw0IEw4LDQgTDgsMyBMMTAsMyBaIE0zLDYgTDMsNSBMNSw1IEw1LDYgTDMsNiBaIE0yLDcgTDMsNyBMMyw4IEwyLDggTDIsNyBaIE03LDcgTDEwLDcgTDEwLDggTDcsOCBMNyw3IFogTTEwLDYgTDExLDYgTDExLDcgTDEwLDcgTDEwLDYgWiIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIwLjY0NzEiIGZpbGwtcnVsZT0iZXZlbm9kZCIgLz48cGF0aCBkPSJNNSw3IEw1LDYgTDUsNSBMMyw1IEwzLDYgTDMsNyBMMiw3IEwyLDIgTDMsMiBMMyw0IEw1LDQgTDUsMiBMNiwyIEw2LDcgTDUsNyBaIE0xMSw2IEwxMCw2IEwxMCw3IEw3LDcgTDcsMiBMMTAsMiBMMTAsMyBMMTEsMyBMMTEsNiBaIE0xMCw0IEwxMCwzIEw4LDMgTDgsNCBMOCw2IEwxMCw2IEwxMCw0IFoiIGZpbGw9IiNmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgLz48L3N2Zz4=)}.video-js.vjs-fullscreen .vjs-setting-button.hd-quality-badge .vjs-setting-button::after,.video-js.vjs-fullscreen .vjs-setting-button.uhd-quality-badge .vjs-setting-button::after{content:'HD';top:15px;padding:1px 2px;font-size:9px;font-family:Verdana,sans-serif;font-weight:700;color:#fff;text-shadow:0 2px 0 rgba(0,0,0,.6);background-image:none;border-radius:1.5px;height:auto;width:auto}.vjs-setting-button.uhd-quality-badge .vjs-setting-button::after{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTAwJSIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMTMgOSIgd2lkdGg9IjEwMCUiPjxwYXRoIGQ9Ik0xMCw0IEwxMSw0IEwxMSw1IEwxMCw1IEwxMCw0IFogTTEwLDcgTDExLDcgTDExLDggTDEwLDggTDEwLDcgWiBNOCw1IEwxMCw1IEwxMCw2IEw4LDYgTDgsNSBaIE03LDcgTDgsNyBMOCw4IEw3LDggTDcsNyBaIE01LDYgTDYsNiBMNiw3IEw1LDcgTDUsNiBaIE00LDcgTDUsNyBMNSw4IEw0LDggTDQsNyBaIE0yLDYgTDQsNiBMNCw3IEwyLDcgTDIsNiBaIE0zLDQgTDQsNCBMNCw1IEwzLDUgTDMsNCBaIiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9IjAuNjQ3MSIgZmlsbC1ydWxlPSJldmVub2RkIiAvPjxwYXRoIGQ9Ik0xMSw1IEwxMSw3IEwxMCw3IEwxMCw2IEwxMCw1IEwxMSw1IFogTTEwLDUgTDgsNSBMOCw2IEw4LDcgTDcsNyBMNywyIEw4LDIgTDgsNCBMMTAsNCBMMTAsNSBaIE00LDQgTDMsNCBMMyw1IEw0LDUgTDQsNCBaIE00LDcgTDQsNiBMMiw2IEwyLDQgTDMsNCBMMywzIEw0LDMgTDQsMiBMNSwyIEw1LDUgTDYsNSBMNiw2IEw1LDYgTDUsNyBMNCw3IFogTTEwLDIgTDExLDIgTDExLDQgTDEwLDQgTDEwLDIgWiIgZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIiAvPjwvc3ZnPg==)}.video-js.vjs-fullscreen .vjs-setting-button.uhd-quality-badge .vjs-setting-button::after{content:'4K'}.vjs-menu-button-popup .vjs-menu{width:11em;left:-3.6em}.vjs-menu-button-popup .vjs-menu .vjs-menu-content{padding:.615em;border-radius:.25em;background-color:#2b333f;background-color:rgba(20,19,18,.75);max-height:28em;-ms-overflow-style:none}.vjs-menu-button-popup .vjs-menu .vjs-menu-content::-webkit-scrollbar{display:none}.video-js.vjs-fullscreen .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:32em}.vjs-menu li{text-transform:none;list-style:none;margin:0;padding:.9em 1.669em;line-height:1.35em;font-size:1.23657142857em;font-weight:500;text-align:left;outline:0;cursor:pointer;white-space:nowrap}.vjs-menu li.vjs-menu-title{text-transform:none;font-size:1.2em;padding:0 .5em}.vjs-menu li.vjs-selected,.vjs-menu li.vjs-selected:focus,.vjs-menu li.vjs-selected:hover,.vjs-menu li:focus,.vjs-menu li:hover{color:#eee;background-color:transparent}.js-focus-visible .vjs-menu li.vjs-menu-item:hover,.vjs-menu li.vjs-menu-item:focus,.vjs-menu li.vjs-menu-item:hover{background-color:rgba(255,255,255,.1)}.vjs-menu .vjs-menu-content{padding:.762em 0;margin:0;font-size:.875em;color:#eee}.vjs-menu .vjs-menu-content .vjs-menu-item .vjs-menu-item-text{display:inline-block}.vjs-menu .vjs-menu-content .vjs-menu-item.vjs-checkbox.vjs-selected:after{content:'';width:.4em;height:.8em;display:block;margin-top:-.2em;border-right:.15em solid;border-bottom:.15em solid;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.video-js.vjs-fullscreen .vjs-menu .vjs-menu-content{width:auto!important;height:auto!important}.vjs-workinghover .vjs-menu-item:hover{background-color:rgba(255,255,255,.1)}.vjs-menu{position:absolute;box-shadow:2px 2px 10px rgba(0,0,0,.7);background-color:rgba(28,28,28,.9);text-shadow:0 0 2px rgba(0,0,0,.5)}.vjs-menu li .vjs-icon-placeholder{font-size:1.5em}.vjs-spacer{flex-grow:1}.vjs-title{color:#fff;position:relative;padding:0 15px 5px;width:100%;overflow:hidden;background-image:linear-gradient(to top,rgba(23,23,23,0) 0,rgba(0,0,0,.4) 100%);visibility:visible;opacity:1;transition:.3s ease opacity}.vjs-title .vjs-title-field{width:100%;height:2.5em;line-height:2.5em;overflow:hidden;text-overflow:ellipsis}.vjs-pip-player-wrapper .vjs-pip-player .vjs-title,.vjs-user-inactive.vjs-playing .vjs-title{visibility:hidden;opacity:0}.video-js.vjs-beeex{display:block}.video-js.vjs-beeex .remove-me,.video-js.vjs-beeex .remove-me-too,.video-js.vjs-beeex.finally-remove-me{color:var(--play-progress);font-size:1632px}.vjs-loading-spinner:after,.vjs-loading-spinner:before{-webkit-animation:beex-spin 1s linear infinite!important;animation:beex-spin 1s linear infinite!important}@-webkit-keyframes beex-spin{0%{-webkit-transform:rotate(0)}100%{-webkit-transform:rotate(360deg)}}@keyframes beex-spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}";a("browserify-css").createStyle(d,{href:"src/styles/beeex.css"},{insertAt:"bottom"}),b.exports=d},{"browserify-css":34}],108:[function(a,b,c){const d=a("video.js");var e=e||{};e.generateIMAVast=function(a){const b=a.ad_tag||"",c=a.skippable||"no";var d=a.skip_time||0;const e=a.ad_id||-9,f=a.ad_type||0;if(0==f||f<2||f>2||""==b)return"";if(2==f){var g="";return"yes"==c&&(d<10&&0!==(""+d).charAt(0)&&(d="0"+d),g=" 00:00:"+d),'<VAST xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="vast.xsd" version="3.0">      <Ad id="ad'+e+'">        <InLine>          <AdSystem>Custom Linear</AdSystem>          <AdTitle><![CDATA['+(a.ad_desc||"")+"]]></AdTitle>          <Creatives>            <Creative>              <Linear"+g+'>                <Duration>00:01:00</Duration>                <MediaFiles>                  <MediaFile type="video/mp4" bitrate="300" width="480" height="270">                    '+b+"                  </MediaFile>                </MediaFiles>              </Linear>            </Creative>          </Creatives>        </InLine>      </Ad>    </VAST>"}},e.fetchImaOptions=function(a){const b={debug:!1,disableCustomPlaybackForIOS10Plus:!0,adsRenderingSettings:new window.google.ima.AdsRenderingSettings};if(1==a.ad_type)return d.mergeOptions(b,{adTagUrl:a.ad_tag});const c=this.generateIMAVast(a);return d.mergeOptions(b,{adsResponse:c})},e.api={base:"",setBase:function(a){this.base=a},getBase:function(){return this.base},get:function(a){const b=function(b,c){if(void 0===this.base||""===this.base)return c({status:"Please set api.base before executing this method.",statusCode:400});if(void 0===a.path||""===a.path||"string"!=typeof a.path)return c({status:"Endpoint is empty or is not of valid type",statusCode:400});const d=new XMLHttpRequest,f=a.data||{},g=this.base+"/"+a.path+e.serialize(f);d.open("GET",g,!0),d.setRequestHeader("Content-Type","application/json;charset=UTF-8");var h=e.cookie.get("auth._token.local");void 0!==h&&""!==h&&d.setRequestHeader("Authorization",window.decodeURIComponent(h)),d.onreadystatechange=function(){4===d.readyState&&(d.status>=200&&d.status<300?b(JSON.parse(d.responseText)):c({status:d.status,statusCode:d.statusText}))}.bind(this),d.send()}.bind(this);return new Promise(b)}},e.serialize=function(a){if(void 0===a)return"";var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));var d=b.join("&");return""!==d?"?"+d:void 0},e.cookie={get:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1);if(-1!=e.indexOf(b))return e.substring(b.length,e.length)}return""},set:function(a,b,c,d){var e=new Date;e.setTime(e.getTime()+24*c*60*60*1e3);var f="expires="+e.toUTCString(),g="path=";void 0==d&&(d="/"),g+=d,document.cookie=a+"="+b+"; "+f+"; "+g}},b.exports=e},{"video.js":86}]},{},[101])(101)});